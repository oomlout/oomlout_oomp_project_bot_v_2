<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive BOM for KiCAD</title>
  <style type="text/css">
:root {
  --pcb-edge-color: black;
  --pad-color: #878787;
  --pad-hole-color: #CCCCCC;
  --pad-color-highlight: #D04040;
  --pad-color-highlight-both: #D0D040;
  --pad-color-highlight-marked: #44a344;
  --pin1-outline-color: #ffb629;
  --pin1-outline-color-highlight: #ffb629;
  --pin1-outline-color-highlight-both: #fcbb39;
  --pin1-outline-color-highlight-marked: #fdbe41;
  --silkscreen-edge-color: #aa4;
  --silkscreen-polygon-color: #4aa;
  --silkscreen-text-color: #4aa;
  --fabrication-edge-color: #907651;
  --fabrication-polygon-color: #907651;
  --fabrication-text-color: #a27c24;
  --track-color: #def5f1;
  --track-color-highlight: #D04040;
  --zone-color: #def5f1;
  --zone-color-highlight: #d0404080;
}

html,
body {
  margin: 0px;
  height: 100%;
  font-family: Verdana, sans-serif;
}

.dark.topmostdiv {
  --pcb-edge-color: #eee;
  --pad-color: #808080;
  --pin1-outline-color: #ffa800;
  --pin1-outline-color-highlight: #ccff00;
  --track-color: #42524f;
  --zone-color: #42524f;
  background-color: #252c30;
  color: #eee;
}

button {
  background-color: #eee;
  border: 1px solid #888;
  color: black;
  height: 44px;
  width: 44px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  font-weight: bolder;
}

.dark button {
  /* This will be inverted */
  background-color: #c3b7b5;
}

button.depressed {
  background-color: #0a0;
  color: white;
}

.dark button.depressed {
  /* This will be inverted */
  background-color: #b3b;
}

button:focus {
  outline: 0;
}

button#tb-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.32 290.12h5.82M1.32 291.45h5.82' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 292.5v4.23M.26 292.63H8.2' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='1.35' y='295.73'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#lr-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.06 290.12H3.7m-2.64 1.33H3.7m-2.64 1.32H3.7m-2.64 1.3H3.7m-2.64 1.33H3.7' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 288.8v7.94m0-4.11h3.96' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='5.11' y='291.96'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#bom-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)' fill='none' stroke='%23000' stroke-width='.4'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' stroke-linejoin='round'/%3E%3Cpath d='M1.59 290.12h5.29M1.59 291.45h5.33M1.59 292.75h5.33M1.59 294.09h5.33M1.59 295.41h5.33'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-grouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m4 0h5m4 0h3M6.1 22h3m3.9 0h5m4 0h4m-16-8h4m4 0h4'/%3E%3Cpath stroke-linecap='null' d='M5 17.5h22M5 26.6h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-ungrouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m-4 8h3m-3 8h4'/%3E%3Cpath stroke-linecap='null' d='M5 13.5h22m-22 8h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-netlist-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg fill='none' stroke='%23000' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-width='2' d='M6 26l6-6v-8m13.8-6.3l-6 6v8'/%3E%3Ccircle cx='11.8' cy='9.5' r='2.8' stroke-width='2'/%3E%3Ccircle cx='19.8' cy='22.8' r='2.8' stroke-width='2'/%3E%3C/g%3E%3C/svg%3E");
}

button#copy {
  background-image: url("data:image/svg+xml,%3Csvg height='48' viewBox='0 0 48 48' width='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h48v48h-48z' fill='none'/%3E%3Cpath d='M32 2h-24c-2.21 0-4 1.79-4 4v28h4v-28h24v-4zm6 8h-22c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h22c2.21 0 4-1.79 4-4v-28c0-2.21-1.79-4-4-4zm0 32h-22v-28h22v28z'/%3E%3C/svg%3E");
  background-position: 6px 6px;
  background-repeat: no-repeat;
  background-size: 26px 26px;
  border-radius: 6px;
  height: 40px;
  width: 40px;
  margin: 10px 5px;
}

button#copy:active {
  box-shadow: inset 0px 0px 5px #6c6c6c;
}

textarea.clipboard-temp {
  position: fixed;
  top: 0;
  left: 0;
  width: 2em;
  height: 2em;
  padding: 0;
  border: None;
  outline: None;
  box-shadow: None;
  background: transparent;
}

.left-most-button {
  border-right: 0;
  border-top-left-radius: 6px;
  border-bottom-left-radius: 6px;
}

.middle-button {
  border-right: 0;
}

.right-most-button {
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
}

.button-container {
  font-size: 0;
  margin: 10px 10px 10px 0px;
}

.dark .button-container {
  filter: invert(1);
}

.button-container button {
  background-size: 32px 32px;
  background-position: 5px 5px;
  background-repeat: no-repeat;
}

@media print {
  .hideonprint {
    display: none;
  }
}

canvas {
  cursor: crosshair;
}

canvas:active {
  cursor: grabbing;
}

.fileinfo {
  width: 100%;
  max-width: 1000px;
  border: none;
  padding: 5px;
}

.fileinfo .title {
  font-size: 20pt;
  font-weight: bold;
}

.fileinfo td {
  overflow: hidden;
  white-space: nowrap;
  max-width: 1px;
  width: 50%;
  text-overflow: ellipsis;
}

.bom {
  border-collapse: collapse;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 10pt;
  table-layout: fixed;
  width: 100%;
  margin-top: 1px;
  position: relative;
}

.bom th,
.bom td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

.dark .bom th,
.dark .bom td {
  border: 1px solid #777;
}

.bom th {
  background-color: #CCCCCC;
  background-clip: padding-box;
}

.dark .bom th {
  background-color: #3b4749;
}

.bom tr.highlighted:nth-child(n) {
  background-color: #cfc;
}

.dark .bom tr.highlighted:nth-child(n) {
  background-color: #226022;
}

.bom tr:nth-child(even) {
  background-color: #f2f2f2;
}

.dark .bom tr:nth-child(even) {
  background-color: #313b40;
}

.bom tr.checked {
  color: #1cb53d;
}

.dark .bom tr.checked {
  color: #2cce54;
}

.bom tr {
  transition: background-color 0.2s;
}

.bom .numCol {
  width: 30px;
}

.bom .value {
  width: 15%;
}

.bom .quantity {
  width: 65px;
}

.bom th .sortmark {
  position: absolute;
  right: 1px;
  top: 1px;
  margin-top: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #221 transparent;
  transform-origin: 50% 85%;
  transition: opacity 0.2s, transform 0.4s;
}

.dark .bom th .sortmark {
  filter: invert(1);
}

.bom th .sortmark.none {
  opacity: 0;
}

.bom th .sortmark.desc {
  transform: rotate(180deg);
}

.bom th:hover .sortmark.none {
  opacity: 0.5;
}

.bom .bom-checkbox {
  width: 30px;
  position: relative;
  user-select: none;
  -moz-user-select: none;
}

.bom .bom-checkbox:before {
  content: "";
  position: absolute;
  border-width: 15px;
  border-style: solid;
  border-color: #51829f transparent transparent transparent;
  visibility: hidden;
  top: -15px;
}

.bom .bom-checkbox:after {
  content: "Double click to set/unset all";
  position: absolute;
  color: white;
  top: -35px;
  left: -26px;
  background: #51829f;
  padding: 5px 15px;
  border-radius: 8px;
  white-space: nowrap;
  visibility: hidden;
}

.bom .bom-checkbox:hover:before,
.bom .bom-checkbox:hover:after {
  visibility: visible;
  transition: visibility 0.2s linear 1s;
}

.split {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  overflow-y: auto;
  overflow-x: hidden;
  background-color: inherit;
}

.split.split-horizontal,
.gutter.gutter-horizontal {
  height: 100%;
  float: left;
}

.gutter {
  background-color: #ddd;
  background-repeat: no-repeat;
  background-position: 50%;
  transition: background-color 0.3s;
}

.dark .gutter {
  background-color: #777;
}

.gutter.gutter-horizontal {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');
  cursor: ew-resize;
  width: 5px;
}

.gutter.gutter-vertical {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=');
  cursor: ns-resize;
  height: 5px;
}

.searchbox {
  float: left;
  height: 40px;
  margin: 10px 5px;
  padding: 12px 32px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 18px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 6px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABNklEQVQ4T8XSMUvDQBQH8P/LElFa/AIZHcTBQSz0I/gFstTBRR2KUC4ldDxw7h0Bl3RRUATxi4iiODgoiLNrbQYp5J6cpJJqomkX33Z37/14d/dIa33MzDuYI4johOI4XhyNRteO46zNYjDzAxE1yBZprVeZ+QbAUhXEGJMA2Ox2u4+fQIa0mPmsCgCgJYQ4t7lfgF0opQYAdv9ABkKI/UnOFCClXKjX61cA1osQY8x9kiRNKeV7IWA3oyhaSdP0FkAtjxhj3hzH2RBCPOf3pzqYHCilfAAX+URm9oMguPzeWSGQvUcMYC8rOBJCHBRdqxTo9/vbRHRqi8bj8XKv1xvODbiuW2u32/bvf0SlDv4XYOY7z/Mavu+nM1+BmQ+NMc0wDF/LprP0DbTWW0T00ul0nn4b7Q87+X4Qmfiq2wAAAABJRU5ErkJggg==');
  background-position: 10px 10px;
  background-repeat: no-repeat;
}

.dark .searchbox {
  background-color: #111;
  color: #eee;
}

.searchbox::placeholder {
  color: #ccc;
}

.dark .searchbox::placeholder {
  color: #666;
}

.filter {
  width: calc(60% - 64px);
}

.reflookup {
  width: calc(40% - 10px);
}

input[type=text]:focus {
  background-color: white;
  border: 1px solid #333;
}

.dark input[type=text]:focus {
  background-color: #333;
  border: 1px solid #ccc;
}

mark.highlight {
  background-color: #5050ff;
  color: #fff;
  padding: 2px;
  border-radius: 6px;
}

.dark mark.highlight {
  background-color: #76a6da;
  color: #111;
}

.menubtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 20 20'%3E%3Cpath fill='none' d='M0 0h20v20H0V0z'/%3E%3Cpath d='M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z'/%3E%3C/svg%3E%0A");
  background-position: center;
  background-repeat: no-repeat;
}

.statsbtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg width='36' height='36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 6h28v24H4V6zm0 8h28v8H4m9-16v24h10V5.8' fill='none' stroke='%23000' stroke-width='2'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.iobtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36'%3E%3Cpath fill='none' stroke='%23000' stroke-width='2' d='M3 33v-7l6.8-7h16.5l6.7 7v7H3zM3.2 26H33M21 9l5-5.9 5 6h-2.5V15h-5V9H21zm-4.9 0l-5 6-5-6h2.5V3h5v6h2.5z'/%3E%3Cpath fill='none' stroke='%23000' d='M6.1 29.5H10'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.visbtn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath fill='none' stroke='%23333' d='M2.5 4.5h5v15h-5zM9.5 4.5h5v15h-5zM16.5 4.5h5v15h-5z'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
  padding: 15px;
}

#vismenu-content {
  left: 0px;
  font-family: Verdana, sans-serif;
}

.dark .statsbtn,
.dark .savebtn,
.dark .menubtn,
.dark .iobtn,
.dark .visbtn {
  filter: invert(1);
}

.flexbox {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.savebtn {
  background-color: #d6d6d6;
  width: auto;
  height: 30px;
  flex-grow: 1;
  margin: 5px;
  border-radius: 4px;
}

.savebtn:active {
  background-color: #0a0;
  color: white;
}

.dark .savebtn:active {
  /* This will be inverted */
  background-color: #b3b;
}

.stats {
  border-collapse: collapse;
  font-size: 12pt;
  table-layout: fixed;
  width: 100%;
  min-width: 450px;
}

.dark .stats td {
  border: 1px solid #bbb;
}

.stats td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

#checkbox-stats div {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

#checkbox-stats .bar {
  background-color: rgba(28, 251, 0, 0.6);
}

.menu {
  position: relative;
  display: inline-block;
  margin: 10px 10px 10px 0px;
}

.menu-content {
  font-size: 12pt !important;
  text-align: left !important;
  font-weight: normal !important;
  display: none;
  position: absolute;
  background-color: white;
  right: 0;
  min-width: 300px;
  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
  z-index: 100;
  padding: 8px;
}

.dark .menu-content {
  background-color: #111;
}

.menu:hover .menu-content {
  display: block;
}

.menu:hover .menubtn,
.menu:hover .iobtn,
.menu:hover .statsbtn {
  background-color: #eee;
}

.menu-label {
  display: inline-block;
  padding: 8px;
  border: 1px solid #ccc;
  border-top: 0;
  width: calc(100% - 18px);
}

.menu-label-top {
  border-top: 1px solid #ccc;
}

.menu-textbox {
  float: left;
  height: 24px;
  margin: 10px 5px;
  padding: 5px 5px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 14px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 4px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  width: calc(100% - 10px);
}

.menu-textbox.invalid,
.dark .menu-textbox.invalid {
  color: red;
}

.dark .menu-textbox {
  background-color: #222;
  color: #eee;
}

.radio-container {
  margin: 4px;
}

.topmostdiv {
  width: 100%;
  height: 100%;
  background-color: white;
  transition: background-color 0.3s;
}

#top {
  height: 78px;
  border-bottom: 2px solid black;
}

.dark #top {
  border-bottom: 2px solid #ccc;
}

#dbg {
  display: block;
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #aaa;
}

::-webkit-scrollbar-thumb {
  background: #666;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  margin: 3px 0;
  padding: 0;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
  border-radius: 3px;
}

.slider:hover {
  opacity: 1;
}

.slider:focus {
  outline: none;
}

.slider::-webkit-slider-runnable-track {
  -webkit-appearance: none;
  width: 100%;
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
  border: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin-top: -4px;
}

.dark .slider::-webkit-slider-thumb {
  background: #3d3;
}

.slider::-moz-range-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
}

.slider::-moz-range-track {
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
}

.dark .slider::-moz-range-thumb {
  background: #3d3;
}

.slider::-ms-track {
  width: 100%;
  height: 8px;
  border-width: 3px 0;
  background: transparent;
  border-color: transparent;
  color: transparent;
  transition: opacity .2s;
}

.slider::-ms-fill-lower {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-fill-upper {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin: 0;
}

.shameless-plug {
  font-size: 0.8em;
  text-align: center;
  display: block;
}

a {
  color: #0278a4;
}

.dark a {
  color: #00b9fd;
}

#frontcanvas,
#backcanvas {
  touch-action: none;
}

.placeholder {
  border: 1px dashed #9f9fda !important;
  background-color: #edf2f7 !important;
}

.dragging {
  z-index: 999;
}

.dark .dragging>table>tbody>tr {
  background-color: #252c30;
}

.dark .placeholder {
  filter: invert(1);
}

.column-spacer {
  top: 0;
  left: 0;
  width: calc(100% - 4px);
  position: absolute;
  cursor: pointer;
  user-select: none;
  height: 100%;
}

.column-width-handle {
  top: 0;
  right: 0;
  width: 4px;
  position: absolute;
  cursor: col-resize;
  user-select: none;
  height: 100%;
}

.column-width-handle:hover {
  background-color: #4f99bd;
}

.help-link {
  border: 1px solid #0278a4;
  padding-inline: 0.3rem;
  border-radius: 3px;
  cursor: pointer;
}

.dark .help-link {
  border: 1px solid #00b9fd;
}

.bom-color {
  width: 20%;
}

.color-column input {
  width: 1.6rem;
  height: 1rem;
  border: 1px solid black;
  cursor: pointer;
  padding: 0;
}

/* removes default styling from input color element */
::-webkit-color-swatch {
  border: none;
}

::-webkit-color-swatch-wrapper {
  padding: 0;
}

::-moz-color-swatch,
::-moz-focus-inner {
  border: none;
}

::-moz-focus-inner {
  padding: 0;
}

  </style>
  <script type="text/javascript" >
///////////////////////////////////////////////
/*
  Split.js - v1.3.5
  MIT License
  https://github.com/nathancahill/Split.js
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Split=t()}(this,function(){"use strict";var e=window,t=e.document,n="addEventListener",i="removeEventListener",r="getBoundingClientRect",s=function(){return!1},o=e.attachEvent&&!e[n],a=["","-webkit-","-moz-","-o-"].filter(function(e){var n=t.createElement("div");return n.style.cssText="width:"+e+"calc(9px)",!!n.style.length}).shift()+"calc",l=function(e){return"string"==typeof e||e instanceof String?t.querySelector(e):e};return function(u,c){function z(e,t,n){var i=A(y,t,n);Object.keys(i).forEach(function(t){return e.style[t]=i[t]})}function h(e,t){var n=B(y,t);Object.keys(n).forEach(function(t){return e.style[t]=n[t]})}function f(e){var t=E[this.a],n=E[this.b],i=t.size+n.size;t.size=e/this.size*i,n.size=i-e/this.size*i,z(t.element,t.size,this.aGutterSize),z(n.element,n.size,this.bGutterSize)}function m(e){var t;this.dragging&&((t="touches"in e?e.touches[0][b]-this.start:e[b]-this.start)<=E[this.a].minSize+M+this.aGutterSize?t=E[this.a].minSize+this.aGutterSize:t>=this.size-(E[this.b].minSize+M+this.bGutterSize)&&(t=this.size-(E[this.b].minSize+this.bGutterSize)),f.call(this,t),c.onDrag&&c.onDrag())}function g(){var e=E[this.a].element,t=E[this.b].element;this.size=e[r]()[y]+t[r]()[y]+this.aGutterSize+this.bGutterSize,this.start=e[r]()[G]}function d(){var t=this,n=E[t.a].element,r=E[t.b].element;t.dragging&&c.onDragEnd&&c.onDragEnd(),t.dragging=!1,e[i]("mouseup",t.stop),e[i]("touchend",t.stop),e[i]("touchcancel",t.stop),t.parent[i]("mousemove",t.move),t.parent[i]("touchmove",t.move),delete t.stop,delete t.move,n[i]("selectstart",s),n[i]("dragstart",s),r[i]("selectstart",s),r[i]("dragstart",s),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",t.gutter.style.cursor="",t.parent.style.cursor=""}function S(t){var i=this,r=E[i.a].element,o=E[i.b].element;!i.dragging&&c.onDragStart&&c.onDragStart(),t.preventDefault(),i.dragging=!0,i.move=m.bind(i),i.stop=d.bind(i),e[n]("mouseup",i.stop),e[n]("touchend",i.stop),e[n]("touchcancel",i.stop),i.parent[n]("mousemove",i.move),i.parent[n]("touchmove",i.move),r[n]("selectstart",s),r[n]("dragstart",s),o[n]("selectstart",s),o[n]("dragstart",s),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",i.gutter.style.cursor=j,i.parent.style.cursor=j,g.call(i)}function v(e){e.forEach(function(t,n){if(n>0){var i=F[n-1],r=E[i.a],s=E[i.b];r.size=e[n-1],s.size=t,z(r.element,r.size,i.aGutterSize),z(s.element,s.size,i.bGutterSize)}})}function p(){F.forEach(function(e){e.parent.removeChild(e.gutter),E[e.a].element.style[y]="",E[e.b].element.style[y]=""})}void 0===c&&(c={});var y,b,G,E,w=l(u[0]).parentNode,D=e.getComputedStyle(w).flexDirection,U=c.sizes||u.map(function(){return 100/u.length}),k=void 0!==c.minSize?c.minSize:100,x=Array.isArray(k)?k:u.map(function(){return k}),L=void 0!==c.gutterSize?c.gutterSize:10,M=void 0!==c.snapOffset?c.snapOffset:30,O=c.direction||"horizontal",j=c.cursor||("horizontal"===O?"ew-resize":"ns-resize"),C=c.gutter||function(e,n){var i=t.createElement("div");return i.className="gutter gutter-"+n,i},A=c.elementStyle||function(e,t,n){var i={};return"string"==typeof t||t instanceof String?i[e]=t:i[e]=o?t+"%":a+"("+t+"% - "+n+"px)",i},B=c.gutterStyle||function(e,t){return n={},n[e]=t+"px",n;var n};"horizontal"===O?(y="width","clientWidth",b="clientX",G="left","paddingLeft"):"vertical"===O&&(y="height","clientHeight",b="clientY",G="top","paddingTop");var F=[];return E=u.map(function(e,t){var i,s={element:l(e),size:U[t],minSize:x[t]};if(t>0&&(i={a:t-1,b:t,dragging:!1,isFirst:1===t,isLast:t===u.length-1,direction:O,parent:w},i.aGutterSize=L,i.bGutterSize=L,i.isFirst&&(i.aGutterSize=L/2),i.isLast&&(i.bGutterSize=L/2),"row-reverse"===D||"column-reverse"===D)){var a=i.a;i.a=i.b,i.b=a}if(!o&&t>0){var c=C(t,O);h(c,L),c[n]("mousedown",S.bind(i)),c[n]("touchstart",S.bind(i)),w.insertBefore(c,s.element),i.gutter=c}0===t||t===u.length-1?z(s.element,s.size,L/2):z(s.element,s.size,L);var f=s.element[r]()[y];return f<s.minSize&&(s.minSize=f),t>0&&F.push(i),s}),o?{setSizes:v,destroy:p}:{setSizes:v,getSizes:function(){return E.map(function(e){return e.size})},collapse:function(e){if(e===F.length){var t=F[e-1];g.call(t),o||f.call(t,t.size-t.bGutterSize)}else{var n=F[e];g.call(n),o||f.call(n,n.aGutterSize)}},destroy:p}}});

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////
/*!
 * PEP v0.4.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.PointerEventsPolyfill=b()}(this,function(){"use strict";function a(a,b){b=b||Object.create(null);var c=document.createEvent("Event");c.initEvent(a,b.bubbles||!1,b.cancelable||!1);
for(var d,e=2;e<m.length;e++)d=m[e],c[d]=b[d]||n[e];c.buttons=b.buttons||0;
var f=0;return f=b.pressure&&c.buttons?b.pressure:c.buttons?.5:0,c.x=c.clientX,c.y=c.clientY,c.pointerId=b.pointerId||0,c.width=b.width||0,c.height=b.height||0,c.pressure=f,c.tiltX=b.tiltX||0,c.tiltY=b.tiltY||0,c.twist=b.twist||0,c.tangentialPressure=b.tangentialPressure||0,c.pointerType=b.pointerType||"",c.hwTimestamp=b.hwTimestamp||0,c.isPrimary=b.isPrimary||!1,c}function b(){this.array=[],this.size=0}function c(a,b,c,d){this.addCallback=a.bind(d),this.removeCallback=b.bind(d),this.changedCallback=c.bind(d),A&&(this.observer=new A(this.mutationWatcher.bind(this)))}function d(a){return"body /shadow-deep/ "+e(a)}function e(a){return'[touch-action="'+a+'"]'}function f(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+"; }"}function g(){if(F){D.forEach(function(a){String(a)===a?(E+=e(a)+f(a)+"\n",G&&(E+=d(a)+f(a)+"\n")):(E+=a.selectors.map(e)+f(a.rule)+"\n",G&&(E+=a.selectors.map(d)+f(a.rule)+"\n"))});var a=document.createElement("style");a.textContent=E,document.head.appendChild(a)}}function h(){if(!window.PointerEvent){if(window.PointerEvent=a,window.navigator.msPointerEnabled){var b=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:b,enumerable:!0}),u.registerSource("ms",_)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",N),void 0!==window.ontouchstart&&u.registerSource("touch",V);u.register(document)}}function i(a){if(!u.pointermap.has(a)){var b=new Error("InvalidPointerId");throw b.name="InvalidPointerId",b}}function j(a){for(var b=a.parentNode;b&&b!==a.ownerDocument;)b=b.parentNode;if(!b){var c=new Error("InvalidStateError");throw c.name="InvalidStateError",c}}function k(a){var b=u.pointermap.get(a);return 0!==b.buttons}function l(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:W},releasePointerCapture:{value:X},hasPointerCapture:{value:Y}})}
var m=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],n=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],o=window.Map&&window.Map.prototype.forEach,p=o?Map:b;b.prototype={set:function(a,b){return void 0===b?this["delete"](a):(this.has(a)||this.size++,void(this.array[a]=b))},has:function(a){return void 0!==this.array[a]},"delete":function(a){this.has(a)&&(delete this.array[a],this.size--)},get:function(a){return this.array[a]},clear:function(){this.array.length=0,this.size=0},forEach:function(a,b){return this.array.forEach(function(c,d){a.call(b,c,d,this)},this)}};var q=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],r=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},t="undefined"!=typeof SVGElementInstance,u={pointermap:new p,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(a,b){var c=b,d=c.events;d&&(d.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},register:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.register.call(b,a)},unregister:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.unregister.call(b,a)},contains:function(a,b){try{return a.contains(b)}catch(c){return!1}},down:function(a){a.bubbles=!0,this.fireEvent("pointerdown",a)},move:function(a){a.bubbles=!0,this.fireEvent("pointermove",a)},up:function(a){a.bubbles=!0,this.fireEvent("pointerup",a)},enter:function(a){a.bubbles=!1,this.fireEvent("pointerenter",a)},leave:function(a){a.bubbles=!1,this.fireEvent("pointerleave",a)},over:function(a){a.bubbles=!0,this.fireEvent("pointerover",a)},out:function(a){a.bubbles=!0,this.fireEvent("pointerout",a)},cancel:function(a){a.bubbles=!0,this.fireEvent("pointercancel",a)},leaveOut:function(a){this.out(a),this.propagate(a,this.leave,!1)},enterOver:function(a){this.over(a),this.propagate(a,this.enter,!0)},eventHandler:function(a){if(!a._handledByPE){var b=a.type,c=this.eventMap&&this.eventMap[b];c&&c(a),a._handledByPE=!0}},listen:function(a,b){b.forEach(function(b){this.addEvent(a,b)},this)},unlisten:function(a,b){b.forEach(function(b){this.removeEvent(a,b)},this)},addEvent:function(a,b){a.addEventListener(b,this.boundHandler)},removeEvent:function(a,b){a.removeEventListener(b,this.boundHandler)},makeEvent:function(b,c){this.captureInfo[c.pointerId]&&(c.relatedTarget=null);var d=new a(b,c);return c.preventDefault&&(d.preventDefault=c.preventDefault),d._target=d._target||c.target,d},fireEvent:function(a,b){var c=this.makeEvent(a,b);return this.dispatchEvent(c)},cloneEvent:function(a){for(var b,c=Object.create(null),d=0;d<q.length;d++)b=q[d],c[b]=a[b]||r[d],!t||"target"!==b&&"relatedTarget"!==b||c[b]instanceof SVGElementInstance&&(c[b]=c[b].correspondingUseElement);return a.preventDefault&&(c.preventDefault=function(){a.preventDefault()}),c},getTarget:function(a){var b=this.captureInfo[a.pointerId];return b?a._target!==b&&a.type in s?void 0:b:a._target},propagate:function(a,b,c){for(var d=a.target,e=[];d!==document&&!d.contains(a.relatedTarget);) if(e.push(d),d=d.parentNode,!d)return;c&&e.reverse(),e.forEach(function(c){a.target=c,b.call(this,a)},this)},setCapture:function(b,c,d){this.captureInfo[b]&&this.releaseCapture(b,d),this.captureInfo[b]=c,this.implicitRelease=this.releaseCapture.bind(this,b,d),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var e=new a("gotpointercapture");e.pointerId=b,e._target=c,d||this.asyncDispatchEvent(e)},releaseCapture:function(b,c){var d=this.captureInfo[b];if(d){this.captureInfo[b]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var e=new a("lostpointercapture");e.pointerId=b,e._target=d,c||this.asyncDispatchEvent(e)}},dispatchEvent:/*scope.external.dispatchEvent || */function(a){var b=this.getTarget(a);if(b)return b.dispatchEvent(a)},asyncDispatchEvent:function(a){requestAnimationFrame(this.dispatchEvent.bind(this,a))}};u.boundHandler=u.eventHandler.bind(u);var v={shadow:function(a){if(a)return a.shadowRoot||a.webkitShadowRoot},canTarget:function(a){return a&&Boolean(a.elementFromPoint)},targetingShadow:function(a){var b=this.shadow(a);if(this.canTarget(b))return b},olderShadow:function(a){var b=a.olderShadowRoot;if(!b){var c=a.querySelector("shadow");c&&(b=c.olderShadowRoot)}return b},allShadows:function(a){for(var b=[],c=this.shadow(a);c;)b.push(c),c=this.olderShadow(c);return b},searchRoot:function(a,b,c){if(a){var d,e,f=a.elementFromPoint(b,c);for(e=this.targetingShadow(f);e;){if(d=e.elementFromPoint(b,c)){var g=this.targetingShadow(d);return this.searchRoot(g,b,c)||d} e=this.olderShadow(e)} return f}},owner:function(a){
for(var b=a;b.parentNode;)b=b.parentNode;
return b.nodeType!==Node.DOCUMENT_NODE&&b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(b=document),b},findTarget:function(a){var b=a.clientX,c=a.clientY,d=this.owner(a.target);
return d.elementFromPoint(b,c)||(d=document),this.searchRoot(d,b,c)}},w=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Array.prototype.map.call.bind(Array.prototype.map),y=Array.prototype.slice.call.bind(Array.prototype.slice),z=Array.prototype.filter.call.bind(Array.prototype.filter),A=window.MutationObserver||window.WebKitMutationObserver,B="[touch-action]",C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};c.prototype={watchSubtree:function(a){
//
this.observer&&v.canTarget(a)&&this.observer.observe(a,C)},enableOnSubtree:function(a){this.watchSubtree(a),a===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(a)},installNewSubtree:function(a){w(this.findElements(a),this.addElement,this)},findElements:function(a){return a.querySelectorAll?a.querySelectorAll(B):[]},removeElement:function(a){this.removeCallback(a)},addElement:function(a){this.addCallback(a)},elementChanged:function(a,b){this.changedCallback(a,b)},concatLists:function(a,b){return a.concat(y(b))},
installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(a){return a.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(a){
var b=x(a,this.findElements,this);
return b.push(z(a,this.isElement)),b.reduce(this.concatLists,[])},mutationWatcher:function(a){a.forEach(this.mutationHandler,this)},mutationHandler:function(a){if("childList"===a.type){var b=this.flattenMutationTree(a.addedNodes);b.forEach(this.addElement,this);var c=this.flattenMutationTree(a.removedNodes);c.forEach(this.removeElement,this)}else"attributes"===a.type&&this.elementChanged(a.target,a.oldValue)}};var D=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],E="",F=window.PointerEvent||window.MSPointerEvent,G=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,H=u.pointermap,I=25,J=[1,4,2,8,16],K=!1;try{K=1===new MouseEvent("test",{buttons:1}).buttons}catch(L){}
var M,N={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},lastTouches:[],
isEventSimulatedFromTouch:function(a){for(var b,c=this.lastTouches,d=a.clientX,e=a.clientY,f=0,g=c.length;f<g&&(b=c[f]);f++){
var h=Math.abs(d-b.x),i=Math.abs(e-b.y);if(h<=I&&i<=I)return!0}},prepareEvent:function(a){var b=u.cloneEvent(a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=this.POINTER_ID,b.isPrimary=!0,b.pointerType=this.POINTER_TYPE,b},prepareButtonsForMove:function(a,b){var c=H.get(this.POINTER_ID);
0!==b.which&&c?a.buttons=c.buttons:a.buttons=0,b.buttons=a.buttons},mousedown:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);K||(c.buttons=J[c.button],b&&(c.buttons|=b.buttons),a.buttons=c.buttons),H.set(this.POINTER_ID,a),b&&0!==b.buttons?u.move(c):u.down(c)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.move(b)}},mouseup:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);if(!K){var d=J[c.button];
c.buttons=b?b.buttons&~d:0,a.buttons=c.buttons}H.set(this.POINTER_ID,a),
c.buttons&=~J[c.button],0===c.buttons?u.up(c):u.move(c)}},mouseover:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.enterOver(b)}},mouseout:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,u.leaveOut(b)}},cancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.deactivateMouse()},deactivateMouse:function(){H["delete"](this.POINTER_ID)}},O=u.captureInfo,P=v.findTarget.bind(v),Q=v.allShadows.bind(v),R=u.pointermap,S=2500,T=200,U="touch-action",V={events:["touchstart","touchmove","touchend","touchcancel"],register:function(a){M.enableOnSubtree(a)},unregister:function(){},elementAdded:function(a){var b=a.getAttribute(U),c=this.touchActionToScrollType(b);c&&(a._scrollType=c,u.listen(a,this.events),
Q(a).forEach(function(a){a._scrollType=c,u.listen(a,this.events)},this))},elementRemoved:function(a){a._scrollType=void 0,u.unlisten(a,this.events),
Q(a).forEach(function(a){a._scrollType=void 0,u.unlisten(a,this.events)},this)},elementChanged:function(a,b){var c=a.getAttribute(U),d=this.touchActionToScrollType(c),e=this.touchActionToScrollType(b);
d&&e?(a._scrollType=d,Q(a).forEach(function(a){a._scrollType=d},this)):e?this.elementRemoved(a):d&&this.elementAdded(a)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(a){var b=a,c=this.scrollTypes;return"none"===b?"none":b===c.XSCROLLER?"X":b===c.YSCROLLER?"Y":c.SCROLLER.exec(b)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){
(0===R.size||1===R.size&&R.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(a,T)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var b=0;return"touchstart"!==a&&"touchmove"!==a||(b=1),b},touchToPointer:function(a){var b=this.currentTouchEvent,c=u.cloneEvent(a),d=c.pointerId=a.identifier+2;c.target=O[d]||P(c),c.bubbles=!0,c.cancelable=!0,c.detail=this.clickCount,c.button=0,c.buttons=this.typeToButtons(b.type),c.width=2*(a.radiusX||a.webkitRadiusX||0),c.height=2*(a.radiusY||a.webkitRadiusY||0),c.pressure=a.force||a.webkitForce||.5,c.isPrimary=this.isPrimaryTouch(a),c.pointerType=this.POINTER_TYPE,
c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey;
var e=this;return c.preventDefault=function(){e.scrolling=!1,e.firstXY=null,b.preventDefault()},c},processTouches:function(a,b){var c=a.changedTouches;this.currentTouchEvent=a;for(var d,e=0;e<c.length;e++)d=c[e],b.call(this,this.touchToPointer(d))},
shouldScroll:function(a){if(this.firstXY){var b,c=a.currentTarget._scrollType;if("none"===c)
b=!1;else if("XY"===c)
b=!0;else{var d=a.changedTouches[0],e=c,f="Y"===c?"X":"Y",g=Math.abs(d["client"+e]-this.firstXY[e]),h=Math.abs(d["client"+f]-this.firstXY[f]);
b=g>=h}return this.firstXY=null,b}},findTouch:function(a,b){for(var c,d=0,e=a.length;d<e&&(c=a[d]);d++)if(c.identifier===b)return!0},
vacuumTouches:function(a){var b=a.touches;
if(R.size>=b.length){var c=[];R.forEach(function(a,d){
if(1!==d&&!this.findTouch(b,d-2)){var e=a.out;c.push(e)}},this),c.forEach(this.cancelOut,this)}},touchstart:function(a){this.vacuumTouches(a),this.setPrimaryTouch(a.changedTouches[0]),this.dedupSynthMouse(a),this.scrolling||(this.clickCount++,this.processTouches(a,this.overDown))},overDown:function(a){R.set(a.pointerId,{target:a.target,out:a,outTarget:a.target}),u.enterOver(a),u.down(a)},touchmove:function(a){this.scrolling||(this.shouldScroll(a)?(this.scrolling=!0,this.touchcancel(a)):(a.preventDefault(),this.processTouches(a,this.moveOverOut)))},moveOverOut:function(a){var b=a,c=R.get(b.pointerId);
if(c){var d=c.out,e=c.outTarget;u.move(b),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,
d.target=e,b.target?(u.leaveOut(d),u.enterOver(b)):(
b.target=e,b.relatedTarget=null,this.cancelOut(b))),c.out=b,c.outTarget=b.target}},touchend:function(a){this.dedupSynthMouse(a),this.processTouches(a,this.upOut)},upOut:function(a){this.scrolling||(u.up(a),u.leaveOut(a)),this.cleanUpPointer(a)},touchcancel:function(a){this.processTouches(a,this.cancelOut)},cancelOut:function(a){u.cancel(a),u.leaveOut(a),this.cleanUpPointer(a)},cleanUpPointer:function(a){R["delete"](a.pointerId),this.removePrimaryPointer(a)},
dedupSynthMouse:function(a){var b=N.lastTouches,c=a.changedTouches[0];
if(this.isPrimaryTouch(c)){
var d={x:c.clientX,y:c.clientY};b.push(d);var e=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}.bind(null,b,d);setTimeout(e,S)}}};M=new c(V.elementAdded,V.elementRemoved,V.elementChanged,V);var W,X,Y,Z=u.pointermap,$=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,_={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var b=a;return $&&(b=u.cloneEvent(a),b.pointerType=this.POINTER_TYPES[a.pointerType]),b},cleanup:function(a){Z["delete"](a)},MSPointerDown:function(a){Z.set(a.pointerId,a);var b=this.prepareEvent(a);u.down(b)},MSPointerMove:function(a){var b=this.prepareEvent(a);u.move(b)},MSPointerUp:function(a){var b=this.prepareEvent(a);u.up(b),this.cleanup(a.pointerId)},MSPointerOut:function(a){var b=this.prepareEvent(a);u.leaveOut(b)},MSPointerOver:function(a){var b=this.prepareEvent(a);u.enterOver(b)},MSPointerCancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.cleanup(a.pointerId)},MSLostPointerCapture:function(a){var b=u.makeEvent("lostpointercapture",a);u.dispatchEvent(b)},MSGotPointerCapture:function(a){var b=u.makeEvent("gotpointercapture",a);u.dispatchEvent(b)}},aa=window.navigator;aa.msPointerEnabled?(W=function(a){i(a),j(this),k(a)&&(u.setCapture(a,this,!0),this.msSetPointerCapture(a))},X=function(a){i(a),u.releaseCapture(a,!0),this.msReleasePointerCapture(a)}):(W=function(a){i(a),j(this),k(a)&&u.setCapture(a,this)},X=function(a){i(a),u.releaseCapture(a)}),Y=function(a){return!!u.captureInfo[a]},g(),h(),l();var ba={dispatcher:u,Installer:c,PointerEvent:a,PointerMap:p,targetFinding:v};return ba});

///////////////////////////////////////////////

///////////////////////////////////////////////
var config = {"dark_mode": false, "show_pads": true, "show_fabrication": false, "show_silkscreen": true, "highlight_pin1": "none", "redraw_on_drag": true, "board_rotation": 0, "checkboxes": "Sourced,Placed", "bom_view": "left-right", "layer_view": "FB", "offset_back_rotation": false, "kicad_text_formatting": true, "fields": ["Value", "Footprint"]}
///////////////////////////////////////////////

///////////////////////////////////////////////
var pcbdata = {"edges_bbox": {"minx": 47.87378, "miny": 54.01652, "maxx": 79.108752, "maxy": 139.251095}, "edges": [{"type": "segment", "start": [47.92378, 60.488851], "end": [47.92378, 133.287735], "width": 0.1}, {"type": "segment", "start": [47.92378, 133.287735], "end": [47.99205, 133.284735], "width": 0.1}, {"type": "segment", "start": [47.99205, 60.492851], "end": [47.92378, 60.488851], "width": 0.1}, {"type": "segment", "start": [47.99205, 133.284735], "end": [48.307196, 133.292735], "width": 0.1}, {"type": "segment", "start": [48.307196, 133.292735], "end": [48.618351, 133.315535], "width": 0.1}, {"type": "segment", "start": [48.313161, 60.484951], "end": [47.99205, 60.492851], "width": 0.1}, {"type": "segment", "start": [48.618351, 133.315535], "end": [49.227178, 133.404735], "width": 0.1}, {"type": "segment", "start": [48.630057, 60.461501], "end": [48.313161, 60.484951], "width": 0.1}, {"type": "segment", "start": [48.942346, 60.422881], "end": [48.630057, 60.461501], "width": 0.1}, {"type": "segment", "start": [49.227178, 133.404735], "end": [49.815516, 133.549625], "width": 0.1}, {"type": "segment", "start": [49.249637, 60.369471], "end": [48.942346, 60.422881], "width": 0.1}, {"type": "segment", "start": [49.551536, 60.301651], "end": [49.249637, 60.369471], "width": 0.1}, {"type": "segment", "start": [49.815516, 133.549625], "end": [50.380348, 133.747365], "width": 0.1}, {"type": "segment", "start": [49.847653, 60.219801], "end": [49.551536, 60.301651], "width": 0.1}, {"type": "segment", "start": [50.380348, 133.747365], "end": [50.918654, 133.995115], "width": 0.1}, {"type": "segment", "start": [50.420968, 60.015552], "end": [49.847653, 60.219801], "width": 0.1}, {"type": "segment", "start": [50.918654, 133.995115], "end": [51.427419, 134.289985], "width": 0.1}, {"type": "segment", "start": [50.966446, 59.759774], "end": [50.420968, 60.015552], "width": 0.1}, {"type": "segment", "start": [51.427419, 134.289985], "end": [51.903625, 134.629125], "width": 0.1}, {"type": "segment", "start": [51.48095, 59.455518], "end": [50.966446, 59.759774], "width": 0.1}, {"type": "segment", "start": [51.903625, 134.629125], "end": [52.344257, 135.009675], "width": 0.1}, {"type": "segment", "start": [51.961344, 59.105838], "end": [51.48095, 59.455518], "width": 0.1}, {"type": "segment", "start": [52.344257, 135.009675], "end": [52.746296, 135.428765], "width": 0.1}, {"type": "segment", "start": [52.404489, 58.713788], "end": [51.961344, 59.105838], "width": 0.1}, {"type": "segment", "start": [52.746296, 135.428765], "end": [53.106723, 135.883535], "width": 0.1}, {"type": "segment", "start": [52.807252, 58.28242], "end": [52.404489, 58.713788], "width": 0.1}, {"type": "segment", "start": [53.106723, 135.883535], "end": [53.422526, 136.371125], "width": 0.1}, {"type": "segment", "start": [53.166494, 57.814789], "end": [52.807252, 58.28242], "width": 0.1}, {"type": "segment", "start": [53.422526, 136.371125], "end": [53.690684, 136.888665], "width": 0.1}, {"type": "segment", "start": [53.479078, 57.313947], "end": [53.166494, 57.814789], "width": 0.1}, {"type": "segment", "start": [53.690684, 136.888665], "end": [53.908181, 137.433295], "width": 0.1}, {"type": "segment", "start": [53.741868, 56.782947], "end": [53.479078, 57.313947], "width": 0.1}, {"type": "segment", "start": [53.853611, 56.507092], "end": [53.741868, 56.782947], "width": 0.1}, {"type": "segment", "start": [53.908181, 137.433295], "end": [54.071999, 138.002155], "width": 0.1}, {"type": "segment", "start": [53.951731, 56.224843], "end": [53.853611, 56.507092], "width": 0.1}, {"type": "segment", "start": [54.035831, 55.936581], "end": [53.951731, 56.224843], "width": 0.1}, {"type": "segment", "start": [54.071999, 138.002155], "end": [54.13284, 138.294765], "width": 0.1}, {"type": "segment", "start": [54.10552, 55.642689], "end": [54.035831, 55.936581], "width": 0.1}, {"type": "segment", "start": [54.13284, 138.294765], "end": [54.17913, 138.592375], "width": 0.1}, {"type": "segment", "start": [54.16041, 55.343546], "end": [54.10552, 55.642689], "width": 0.1}, {"type": "segment", "start": [54.17913, 138.592375], "end": [54.21049, 138.894595], "width": 0.1}, {"type": "segment", "start": [54.20011, 55.039536], "end": [54.16041, 55.343546], "width": 0.1}, {"type": "segment", "start": [54.21049, 138.894595], "end": [54.22654, 139.201095], "width": 0.1}, {"type": "segment", "start": [54.219321, 54.06652], "end": [54.232321, 54.41844], "width": 0.1}, {"type": "segment", "start": [54.224221, 54.73104], "end": [54.20011, 55.039536], "width": 0.1}, {"type": "segment", "start": [54.22654, 139.201095], "end": [72.42632, 139.201095], "width": 0.1}, {"type": "segment", "start": [54.232321, 54.41844], "end": [54.224221, 54.73104], "width": 0.1}, {"type": "segment", "start": [72.42281, 54.41844], "end": [72.441111, 54.06652], "width": 0.1}, {"type": "segment", "start": [72.42632, 139.201095], "end": [72.43725, 138.890655], "width": 0.1}, {"type": "segment", "start": [72.43091, 54.731039], "end": [72.42281, 54.41844], "width": 0.1}, {"type": "segment", "start": [72.43725, 138.890655], "end": [72.463919, 138.584375], "width": 0.1}, {"type": "segment", "start": [72.441111, 54.06652], "end": [54.219321, 54.06652], "width": 0.1}, {"type": "segment", "start": [72.45502, 55.039534], "end": [72.43091, 54.731039], "width": 0.1}, {"type": "segment", "start": [72.463919, 138.584375], "end": [72.505939, 138.282625], "width": 0.1}, {"type": "segment", "start": [72.494721, 55.343543], "end": [72.45502, 55.039534], "width": 0.1}, {"type": "segment", "start": [72.505939, 138.282625], "end": [72.56292, 137.985785], "width": 0.1}, {"type": "segment", "start": [72.549611, 55.642684], "end": [72.494721, 55.343543], "width": 0.1}, {"type": "segment", "start": [72.56292, 137.985785], "end": [72.63448, 137.694235], "width": 0.1}, {"type": "segment", "start": [72.619301, 55.936576], "end": [72.549611, 55.642684], "width": 0.1}, {"type": "segment", "start": [72.63448, 137.694235], "end": [72.72023, 137.408335], "width": 0.1}, {"type": "segment", "start": [72.703401, 56.224837], "end": [72.619301, 55.936576], "width": 0.1}, {"type": "segment", "start": [72.72023, 137.408335], "end": [72.932748, 136.854985], "width": 0.1}, {"type": "segment", "start": [72.80152, 56.507085], "end": [72.703401, 56.224837], "width": 0.1}, {"type": "segment", "start": [72.913261, 56.782939], "end": [72.80152, 56.507085], "width": 0.1}, {"type": "segment", "start": [72.932748, 136.854985], "end": [73.197387, 136.328725], "width": 0.1}, {"type": "segment", "start": [73.17605, 57.313937], "end": [72.913261, 56.782939], "width": 0.1}, {"type": "segment", "start": [73.197387, 136.328725], "end": [73.511053, 135.832555], "width": 0.1}, {"type": "segment", "start": [73.488633, 57.814778], "end": [73.17605, 57.313937], "width": 0.1}, {"type": "segment", "start": [73.511053, 135.832555], "end": [73.870655, 135.369445], "width": 0.1}, {"type": "segment", "start": [73.847871, 58.282409], "end": [73.488633, 57.814778], "width": 0.1}, {"type": "segment", "start": [73.870655, 135.369445], "end": [74.273098, 134.942385], "width": 0.1}, {"type": "segment", "start": [74.250631, 58.713776], "end": [73.847871, 58.282409], "width": 0.1}, {"type": "segment", "start": [74.273098, 134.942385], "end": [74.715287, 134.554365], "width": 0.1}, {"type": "segment", "start": [74.693776, 59.105826], "end": [74.250631, 58.713776], "width": 0.1}, {"type": "segment", "start": [74.715287, 134.554365], "end": [75.194134, 134.208355], "width": 0.1}, {"type": "segment", "start": [75.174167, 59.455506], "end": [74.693776, 59.105826], "width": 0.1}, {"type": "segment", "start": [75.194134, 134.208355], "end": [75.70654, 133.907365], "width": 0.1}, {"type": "segment", "start": [75.688668, 59.759762], "end": [75.174167, 59.455506], "width": 0.1}, {"type": "segment", "start": [75.70654, 133.907365], "end": [76.249416, 133.654355], "width": 0.1}, {"type": "segment", "start": [76.234142, 60.015542], "end": [75.688668, 59.759762], "width": 0.1}, {"type": "segment", "start": [76.249416, 133.654355], "end": [76.819666, 133.452315], "width": 0.1}, {"type": "segment", "start": [76.807455, 60.219792], "end": [76.234142, 60.015542], "width": 0.1}, {"type": "segment", "start": [76.819666, 133.452315], "end": [77.414199, 133.304245], "width": 0.1}, {"type": "segment", "start": [77.10357, 60.301642], "end": [76.807455, 60.219792], "width": 0.1}, {"type": "segment", "start": [77.405469, 60.369462], "end": [77.10357, 60.301642], "width": 0.1}, {"type": "segment", "start": [77.414199, 133.304245], "end": [77.719604, 133.251345], "width": 0.1}, {"type": "segment", "start": [77.712757, 60.422872], "end": [77.405469, 60.369462], "width": 0.1}, {"type": "segment", "start": [77.719604, 133.251345], "end": [78.02992, 133.213045], "width": 0.1}, {"type": "segment", "start": [78.025045, 60.461492], "end": [77.712757, 60.422872], "width": 0.1}, {"type": "segment", "start": [78.02992, 133.213045], "end": [78.344758, 133.189745], "width": 0.1}, {"type": "segment", "start": [78.341939, 60.484942], "end": [78.025045, 60.461492], "width": 0.1}, {"type": "segment", "start": [78.344758, 133.189745], "end": [78.663736, 133.181745], "width": 0.1}, {"type": "segment", "start": [78.66305, 60.492842], "end": [78.341939, 60.484942], "width": 0.1}, {"type": "segment", "start": [78.663736, 133.181745], "end": [79.058752, 133.200745], "width": 0.1}, {"type": "segment", "start": [79.058077, 60.479342], "end": [78.66305, 60.492842], "width": 0.1}, {"type": "segment", "start": [79.058163, 60.479342], "end": [79.058077, 60.479342], "width": 0.1}, {"type": "segment", "start": [79.058752, 60.477942], "end": [79.058163, 60.479342], "width": 0.1}, {"type": "segment", "start": [79.058752, 133.200745], "end": [79.058752, 60.477942], "width": 0.1}], "drawings": {"silkscreen": {"F": [{"thickness": 0.15, "svgpath": "M62.293667,123.521L62.436524,123.568619L62.674619,123.568619L62.769857,123.521L62.817476,123.47338L62.865095,123.378142L62.865095,123.282904L62.817476,123.187666L62.769857,123.140047L62.674619,123.092428L62.484143,123.044809L62.388905,122.99719L62.341286,122.949571L62.293667,122.854333L62.293667,122.759095L62.341286,122.663857L62.388905,122.616238L62.484143,122.568619L62.722238,122.568619L62.865095,122.616238M63.198429,122.568619L63.436524,123.568619L63.627,122.854333L63.817476,123.568619L64.055572,122.568619M64.388905,122.663857L64.436524,122.616238L64.531762,122.568619L64.769857,122.568619L64.865095,122.616238L64.912714,122.663857L64.960333,122.759095L64.960333,122.854333L64.912714,122.99719L64.341286,123.568619L64.960333,123.568619", "ref": 1}, {"type": "segment", "start": [57.2373, 118.905], "end": [69.5373, 118.905], "width": 0.12}, {"type": "segment", "start": [57.2373, 121.625], "end": [57.2373, 118.905], "width": 0.12}, {"type": "segment", "start": [57.2373, 126.625], "end": [57.2373, 123.485], "width": 0.12}, {"type": "segment", "start": [57.2373, 131.205], "end": [57.2373, 128.485], "width": 0.12}, {"type": "segment", "start": [69.5373, 118.905], "end": [69.5373, 121.625], "width": 0.12}, {"type": "segment", "start": [69.5373, 123.485], "end": [69.5373, 126.625], "width": 0.12}, {"type": "segment", "start": [69.5373, 128.485], "end": [69.5373, 131.205], "width": 0.12}, {"type": "segment", "start": [69.5373, 131.205], "end": [57.2373, 131.205], "width": 0.12}, {"type": "circle", "start": [63.4873, 125.095], "radius": 4.57905, "width": 0.12}, {"type": "polygon", "pos": [62.03, 95.885], "angle": 0.0, "polygons": [[[8.292081, -45.66746], [8.852184, -45.667432], [9.389466, -45.667379], [9.90416, -45.667301], [10.396501, -45.667199], [10.866725, -45.667071], [11.315064, -45.666918], [11.741754, -45.666739], [12.147029, -45.666535], [12.531123, -45.666305], [12.894271, -45.66605], [13.236707, -45.665768], [13.558666, -45.66546], [13.860381, -45.665126], [14.142088, -45.664765], [14.404021, -45.664377], [14.646414, -45.663963], [14.869501, -45.663521], [15.073518, -45.663053], [15.258698, -45.662557], [15.425275, -45.662033], [15.573485, -45.661483], [15.703562, -45.660904], [15.815739, -45.660297], [15.910252, -45.659662], [15.987335, -45.658999], [16.047222, -45.658308], [16.090148, -45.657587], [16.116346, -45.656839], [16.12265, -45.656499], [16.489235, -45.617388], [16.848188, -45.554087], [17.199088, -45.466761], [17.541514, -45.355576], [17.875045, -45.220697], [18.199259, -45.062288], [18.513735, -44.880516], [18.818052, -44.675544], [19.0246, -44.518512], [19.098603, -44.456682], [19.184485, -44.380276], [19.278203, -44.293279], [19.375715, -44.199676], [19.472978, -44.103451], [19.565949, -44.00859], [19.650585, -43.919077], [19.722846, -43.838897], [19.76665, -43.787082], [19.992789, -43.489828], [20.195063, -43.183947], [20.373617, -42.869102], [20.528594, -42.54496], [20.660139, -42.211184], [20.768395, -41.86744], [20.853507, -41.513392], [20.915619, -41.148705], [20.922721, -41.094946], [20.929896, -41.029625], [20.937319, -40.946366], [20.944422, -40.85262], [20.950638, -40.755835], [20.955131, -40.669496], [20.955474, -40.649179], [20.955812, -40.603827], [20.956145, -40.533805], [20.956474, -40.439479], [20.956797, -40.321213], [20.957115, -40.179372], [20.957429, -40.014323], [20.957738, -39.826429], [20.958041, -39.616057], [20.95834, -39.383571], [20.958634, -39.129336], [20.958922, -38.853717], [20.959206, -38.55708], [20.959485, -38.23979], [20.959759, -37.902212], [20.960028, -37.54471], [20.960292, -37.16765], [20.960551, -36.771398], [20.960805, -36.356318], [20.961055, -35.922776], [20.961299, -35.471136], [20.961538, -35.001763], [20.961773, -34.515024], [20.962002, -34.011283], [20.962227, -33.490904], [20.962446, -32.954254], [20.962661, -32.401697], [20.962871, -31.833599], [20.963076, -31.250324], [20.963275, -30.652238], [20.96347, -30.039706], [20.96366, -29.413092], [20.963845, -28.772763], [20.964025, -28.119083], [20.9642, -27.452417], [20.96437, -26.773131], [20.964535, -26.08159], [20.964695, -25.378158], [20.964851, -24.663201], [20.965001, -23.937084], [20.965146, -23.200172], [20.965287, -22.45283], [20.965422, -21.695424], [20.965553, -20.928318], [20.965678, -20.151878], [20.965799, -19.366469], [20.965914, -18.572455], [20.966025, -17.770202], [20.966131, -16.960076], [20.966231, -16.142441], [20.966327, -15.317662], [20.966418, -14.486105], [20.966504, -13.648134], [20.966585, -12.804115], [20.966661, -11.954413], [20.966732, -11.099393], [20.966798, -10.23942], [20.966859, -9.374859], [20.966915, -8.506076], [20.966966, -7.633435], [20.967012, -6.757302], [20.967053, -5.878042], [20.96709, -4.996019], [20.967121, -4.1116], [20.967147, -3.225148], [20.967169, -2.33703], [20.967185, -1.447611], [20.967196, -0.557255], [20.967203, 0.333673], [20.967204, 1.224806], [20.967201, 2.115781], [20.967192, 3.006232], [20.967179, 3.895793], [20.96716, 4.7841], [20.967137, 5.670788], [20.967109, 6.555491], [20.967075, 7.437845], [20.967037, 8.317484], [20.966994, 9.194043], [20.966946, 10.067156], [20.966893, 10.93646], [20.966834, 11.801588], [20.966771, 12.662176], [20.966703, 13.517859], [20.96663, 14.36827], [20.966552, 15.213046], [20.966469, 16.051821], [20.966381, 16.88423], [20.966288, 17.709908], [20.96619, 18.528489], [20.966087, 19.339609], [20.965979, 20.142902], [20.965866, 20.938004], [20.965748, 21.724548], [20.965626, 22.502171], [20.965498, 23.270507], [20.965365, 24.02919], [20.965227, 24.777857], [20.965084, 25.51614], [20.964937, 26.243676], [20.964784, 26.9601], [20.964626, 27.665045], [20.964463, 28.358148], [20.964296, 29.039043], [20.964123, 29.707364], [20.963945, 30.362747], [20.963763, 31.004826], [20.963575, 31.633237], [20.963383, 32.247614], [20.963185, 32.847593], [20.962982, 33.432807], [20.962775, 34.002892], [20.962562, 34.557483], [20.962345, 35.096215], [20.962122, 35.618722], [20.961895, 36.124639], [20.961662, 36.613602], [20.961425, 37.085245], [20.961182, 37.539203], [20.960935, 37.975111], [20.960682, 38.392603], [20.960425, 38.791315], [20.960162, 39.170882], [20.959895, 39.530938], [20.959622, 39.871118], [20.959345, 40.191058], [20.959063, 40.490391], [20.958775, 40.768753], [20.958483, 41.025779], [20.958185, 41.261104], [20.957883, 41.474362], [20.957576, 41.665188], [20.957263, 41.833218], [20.956946, 41.978085], [20.956623, 42.099426], [20.956296, 42.196875], [20.955964, 42.270066], [20.955626, 42.318635], [20.955284, 42.342216], [20.955239, 42.343425], [20.939702, 42.593807], [20.915827, 42.82718], [20.882422, 43.050906], [20.838294, 43.272351], [20.782253, 43.498879], [20.748936, 43.617924], [20.638336, 43.954356], [20.503999, 44.283365], [20.346979, 44.603048], [20.168331, 44.911498], [19.969111, 45.20681], [19.750374, 45.48708], [19.647893, 45.605508], [19.576402, 45.684852], [19.510553, 45.756113], [19.447621, 45.821795], [19.384878, 45.884402], [19.319599, 45.946436], [19.249058, 46.010401], [19.170527, 46.078802], [19.081281, 46.154142], [18.978594, 46.238924], [18.85974, 46.335652], [18.801932, 46.382389], [18.74292, 46.429891], [18.692373, 46.469907], [18.647055, 46.504488], [18.603729, 46.535685], [18.559159, 46.565548], [18.510109, 46.596129], [18.453343, 46.629478], [18.385623, 46.667648], [18.303715, 46.712688], [18.204381, 46.76665], [18.14419, 46.799228], [17.715466, 47.031179], [17.243065, 47.176764], [16.770665, 47.32235], [16.281557, 47.372014], [15.79245, 47.421678], [-12.83335, 47.418844], [-13.77315, 47.321632], [-14.719312, 47.02871], [-15.147931, 46.797354], [-15.26324, 46.734517], [-15.367835, 46.676333], [-15.459531, 46.624072], [-15.536147, 46.579006], [-15.5955, 46.542407], [-15.635407, 46.515546], [-15.6464, 46.507006], [-15.679189, 46.479772], [-15.727133, 46.440548], [-15.785517, 46.393165], [-15.849623, 46.341453], [-15.90675, 46.295624], [-16.014347, 46.208967], [-16.105518, 46.134038], [-16.184175, 46.067351], [-16.254232, 46.005419], [-16.319602, 45.944755], [-16.384196, 45.881873], [-16.451928, 45.813285], [-16.476619, 45.787785], [-16.681015, 45.566102], [-16.864367, 45.345856], [-17.030196, 45.122014], [-17.18202, 44.889544], [-17.323357, 44.643412], [-17.44842, 44.397952], [-17.59155, 44.074989], [-17.710434, 43.748878], [-17.805696, 43.417298], [-17.877956, 43.077927], [-17.927838, 42.728443], [-17.944904, 42.545], [-17.94536, 42.531791], [-17.945805, 42.504029], [-17.946241, 42.46155], [-17.946666, 42.404191], [-17.947082, 42.33179], [-17.947487, 42.244185], [-17.947883, 42.141213], [-17.948269, 42.022712], [-17.948646, 41.888518], [-17.949012, 41.738469], [-17.949369, 41.572404], [-17.949716, 41.390159], [-17.950054, 41.191571], [-17.950382, 40.976479], [-17.950701, 40.744719], [-17.95101, 40.49613], [-17.951309, 40.230548], [-17.9516, 39.947811], [-17.95188, 39.647756], [-17.952152, 39.330222], [-17.952414, 38.995045], [-17.952667, 38.642063], [-17.952808, 38.426308], [-15.163805, 38.426308], [-14.900278, 38.435194], [-14.647725, 38.446981], [-14.411229, 38.465206], [-14.182049, 38.490812], [-13.951442, 38.524746], [-13.76045, 38.558449], [-13.361232, 38.64563], [-12.97121, 38.754877], [-12.591235, 38.885492], [-12.222158, 39.036775], [-11.864833, 39.208026], [-11.520109, 39.398546], [-11.188838, 39.607636], [-10.871872, 39.834595], [-10.570063, 40.078725], [-10.284261, 40.339326], [-10.015319, 40.615698], [-9.764087, 40.907142], [-9.531418, 41.212958], [-9.318163, 41.532447], [-9.125173, 41.86491], [-8.953299, 42.209646], [-8.803394, 42.565957], [-8.768534, 42.659277], [-8.661442, 42.982524], [-8.572701, 43.312213], [-8.503253, 43.643772], [-8.454042, 43.972631], [-8.426013, 44.294218], [-8.424393, 44.326175], [-8.416149, 44.5008], [11.056607, 44.5008], [11.072229, 44.237275], [11.088799, 44.01135], [11.111264, 43.801855], [11.140901, 43.600238], [11.178986, 43.397953], [11.226797, 43.18645], [11.233026, 43.16095], [11.336639, 42.792609], [11.464408, 42.430762], [11.61561, 42.076778], [11.789523, 41.732027], [11.985423, 41.397878], [12.20259, 41.0757], [12.440301, 40.766863], [12.586276, 40.59555], [12.659898, 40.514988], [12.747737, 40.423278], [12.845022, 40.325068], [12.946984, 40.225009], [13.048851, 40.12775], [13.145853, 40.037942], [13.233221, 39.960234], [13.27166, 39.927488], [13.595197, 39.673492], [13.933409, 39.439903], [14.285227, 39.227191], [14.649584, 39.035829], [15.025414, 38.866288], [15.411649, 38.719042], [15.807221, 38.594561], [16.211064, 38.493317], [16.62211, 38.415783], [16.7259, 38.400156], [16.856972, 38.382112], [16.975143, 38.367596], [17.085798, 38.35626], [17.194328, 38.347755], [17.306119, 38.341732], [17.426561, 38.337843], [17.561042, 38.335739], [17.714949, 38.335073], [17.732375, 38.335073], [18.161, 38.335196], [18.161, 1.053164], [18.160998, 0.078855], [18.160992, -0.8895], [18.160984, -1.851585], [18.160971, -2.807088], [18.160956, -3.755695], [18.160937, -4.697091], [18.160914, -5.630963], [18.160889, -6.556997], [18.16086, -7.474879], [18.160828, -8.384294], [18.160793, -9.284931], [18.160755, -10.176473], [18.160714, -11.058608], [18.16067, -11.931022], [18.160622, -12.7934], [18.160572, -13.645429], [18.160519, -14.486795], [18.160464, -15.317184], [18.160405, -16.136283], [18.160344, -16.943777], [18.16028, -17.739352], [18.160213, -18.522695], [18.160144, -19.293492], [18.160072, -20.051428], [18.159998, -20.796191], [18.159921, -21.527465], [18.159842, -22.244938], [18.15976, -22.948295], [18.159677, -23.637223], [18.15959, -24.311407], [18.159502, -24.970534], [18.159411, -25.61429], [18.159319, -26.242361], [18.159224, -26.854433], [18.159127, -27.450192], [18.159028, -28.029325], [18.158927, -28.591517], [18.158824, -29.136455], [18.158719, -29.663824], [18.158612, -30.173311], [18.158504, -30.664603], [18.158393, -31.137384], [18.158281, -31.591342], [18.158168, -32.026162], [18.158052, -32.44153], [18.157936, -32.837133], [18.157817, -33.212657], [18.157697, -33.567788], [18.157576, -33.902211], [18.157453, -34.215614], [18.157329, -34.507682], [18.157204, -34.778101], [18.157077, -35.026558], [18.156949, -35.252739], [18.15682, -35.456329], [18.156689, -35.637015], [18.156558, -35.794483], [18.156426, -35.928419], [18.156292, -36.03851], [18.156158, -36.12444], [18.156022, -36.185898], [18.155886, -36.222567], [18.155756, -36.234159], [18.141941, -36.235563], [18.107089, -36.236063], [18.055544, -36.235681], [17.991652, -36.234437], [17.943031, -36.2331], [17.520525, -36.232726], [17.09992, -36.257349], [16.682414, -36.306744], [16.269205, -36.380686], [15.861493, -36.478949], [15.460475, -36.601308], [15.06735, -36.747539], [14.954499, -36.794589], [14.585507, -36.965242], [14.230688, -37.155491], [13.890752, -37.364547], [13.566412, -37.591625], [13.258379, -37.835937], [12.967365, -38.096697], [12.694081, -38.373119], [12.439239, -38.664414], [12.203551, -38.969797], [11.987728, -39.288481], [11.792482, -39.619678], [11.618524, -39.962603], [11.466567, -40.316469], [11.337321, -40.680488], [11.285855, -40.850557], [11.192933, -41.217689], [11.12508, -41.583074], [11.082139, -41.947909], [11.06395, -42.313395], [11.0646, -42.522584], [11.071, -42.8117], [-8.419736, -42.8117], [-8.41194, -42.579925], [-8.412474, -42.2274], [-8.437247, -41.871414], [-8.485684, -41.513933], [-8.55721, -41.156921], [-8.65125, -40.802345], [-8.767229, -40.452168], [-8.904573, -40.108357], [-9.062706, -39.772877], [-9.241054, -39.447692], [-9.404795, -39.18585], [-9.634426, -38.862125], [-9.883104, -38.554546], [-10.149855, -38.263632], [-10.433704, -37.989899], [-10.733676, -37.733866], [-11.048798, -37.496049], [-11.378094, -37.276966], [-11.720589, -37.077134], [-12.075309, -36.897072], [-12.44128, -36.737295], [-12.817527, -36.598322], [-13.203075, -36.48067], [-13.59695, -36.384857], [-13.998177, -36.311399], [-14.405781, -36.260815], [-14.818788, -36.233621], [-14.9733, -36.229583], [-15.15745, -36.22675], [-15.160628, 1.099779], [-15.163805, 38.426308], [-17.952808, 38.426308], [-17.952911, 38.271113], [-17.953146, 37.882033], [-17.953371, 37.47466], [-17.953588, 37.048832], [-17.953795, 36.604387], [-17.953994, 36.141161], [-17.954183, 35.658992], [-17.954363, 35.157717], [-17.954535, 34.637175], [-17.954698, 34.097202], [-17.954852, 33.537636], [-17.954997, 32.958315], [-17.955133, 32.359075], [-17.955261, 31.739755], [-17.95538, 31.100191], [-17.95549, 30.440222], [-17.955592, 29.759684], [-17.955685, 29.058416], [-17.95577, 28.336254], [-17.955847, 27.593037], [-17.955915, 26.8286], [-17.955974, 26.042783], [-17.956025, 25.235423], [-17.956068, 24.406356], [-17.956103, 23.555421], [-17.956129, 22.682455], [-17.956148, 21.787294], [-17.956158, 20.869778], [-17.95616, 19.929743], [-17.956153, 18.967027], [-17.956139, 17.981467], [-17.956117, 16.9729], [-17.956087, 15.941165], [-17.956049, 14.886098], [-17.956003, 13.807537], [-17.95595, 12.705319], [-17.955888, 11.579283], [-17.955819, 10.429265], [-17.955742, 9.255102], [-17.955658, 8.056633], [-17.955565, 6.833695], [-17.955466, 5.586125], [-17.955358, 4.313761], [-17.955243, 3.01644], [-17.955121, 1.693999], [-17.955027, 0.71755], [-17.950982, -40.92575], [-17.923085, -41.116481], [-17.871262, -41.425478], [-17.808502, -41.715526], [-17.733455, -41.991195], [-17.644772, -42.257056], [-17.541103, -42.51768], [-17.4508, -42.71645], [-17.284662, -43.03483], [-17.097847, -43.339261], [-16.891389, -43.628895], [-16.666323, -43.902887], [-16.423681, -44.160391], [-16.1645, -44.40056], [-15.889812, -44.622549], [-15.600652, -44.82551], [-15.298055, -45.008599], [-14.983054, -45.170968], [-14.656684, -45.311771], [-14.319978, -45.430163], [-14.036597, -45.510002], [-13.799398, -45.563659], [-13.548671, -45.609466], [-13.34135, -45.639639], [-13.331718, -45.640789], [-13.32075, -45.641901], [-13.308009, -45.642975], [-13.293058, -45.644012], [-13.27546, -45.645012], [-13.254776, -45.645977], [-13.23057, -45.646907], [-13.202403, -45.647802], [-13.169838, -45.648665], [-13.132438, -45.649495], [-13.089766, -45.650294], [-13.041383, -45.651062], [-12.986852, -45.6518], [-12.925735, -45.652509], [-12.857596, -45.653189], [-12.781996, -45.653841], [-12.698499, -45.654467], [-12.606665, -45.655067], [-12.506059, -45.655641], [-12.396242, -45.656191], [-12.276778, -45.656718], [-12.147227, -45.657221], [-12.007154, -45.657703], [-11.85612, -45.658163], [-11.693687, -45.658602], [-11.51942, -45.659022], [-11.332878, -45.659424], [-11.133627, -45.659807], [-10.921227, -45.660172], [-10.695241, -45.660522], [-10.455232, -45.660855], [-10.200762, -45.661174], [-9.931394, -45.661479], [-9.64669, -45.66177], [-9.346213, -45.662049], [-9.029524, -45.662316], [-8.696188, -45.662572], [-8.345765, -45.662818], [-7.977819, -45.663055], [-7.591912, -45.663283], [-7.187607, -45.663503], [-6.764465, -45.663717], [-6.32205, -45.663924], [-5.859924, -45.664126], [-5.37765, -45.664324], [-4.874789, -45.664517], [-4.350905, -45.664708], [-3.805559, -45.664897], [-3.238315, -45.665084], [-2.648735, -45.66527], [-2.036381, -45.665457], [-1.400816, -45.665645], [-0.741602, -45.665835], [-0.058302, -45.666027], [0.649522, -45.666223], [1.382307, -45.666423], [1.3843, -45.666423], [2.18551, -45.666633], [2.961555, -45.666819], [3.712668, -45.666982], [4.439085, -45.667122], [5.14104, -45.667238], [5.818766, -45.66733], [6.472499, -45.667399], [7.102473, -45.667444], [7.708923, -45.667464], [8.292081, -45.66746]]]}, {"thickness": 0.15, "svgpath": "M66.554819,92.707142L65.554819,92.707142L65.554819,92.469047L65.602438,92.32619L65.697676,92.230952L65.792914,92.183333L65.98339,92.135714L66.126247,92.135714L66.316723,92.183333L66.411961,92.230952L66.5072,92.32619L66.554819,92.469047L66.554819,92.707142M66.173866,91.707142L66.173866,90.945238M66.554819,90.469047L65.554819,90.469047L65.554819,90.088095L65.602438,89.992857L65.650057,89.945238L65.745295,89.897619L65.888152,89.897619L65.98339,89.945238L66.031009,89.992857L66.078628,90.088095L66.078628,90.469047M66.031009,89.135714L66.078628,88.992857L66.126247,88.945238L66.221485,88.897619L66.364342,88.897619L66.45958,88.945238L66.5072,88.992857L66.554819,89.088095L66.554819,89.469047L65.554819,89.469047L65.554819,89.135714L65.602438,89.040476L65.650057,88.992857L65.745295,88.945238L65.840533,88.945238L65.935771,88.992857L65.98339,89.040476L66.031009,89.135714L66.031009,89.469047M65.554819,88.278571L65.554819,88.183333L65.602438,88.088095L65.650057,88.040476L65.745295,87.992857L65.935771,87.945238L66.173866,87.945238L66.364342,87.992857L66.45958,88.040476L66.5072,88.088095L66.554819,88.183333L66.554819,88.278571L66.5072,88.373809L66.45958,88.421428L66.364342,88.469047L66.173866,88.516666L65.935771,88.516666L65.745295,88.469047L65.650057,88.421428L65.602438,88.373809L65.554819,88.278571", "ref": 1}, {"type": "segment", "start": [61.9, 88.72], "end": [61.9, 92.72], "width": 0.12}, {"type": "segment", "start": [65.1, 88.67], "end": [65.1, 92.67], "width": 0.12}, {"thickness": 0.15, "svgpath": "M72.675952,108.801819L72.675952,109.516104L72.628333,109.658961L72.533095,109.7542L72.390238,109.801819L72.295,109.801819M73.580714,109.801819L73.580714,109.278009L73.533095,109.182771L73.437857,109.135152L73.247381,109.135152L73.152143,109.182771M73.580714,109.7542L73.485476,109.801819L73.247381,109.801819L73.152143,109.7542L73.104524,109.658961L73.104524,109.563723L73.152143,109.468485L73.247381,109.420866L73.485476,109.420866L73.580714,109.373247M74.485476,109.7542L74.390238,109.801819L74.199762,109.801819L74.104524,109.7542L74.056905,109.70658L74.009286,109.611342L74.009286,109.325628L74.056905,109.23039L74.104524,109.182771L74.199762,109.135152L74.390238,109.135152L74.485476,109.182771M74.914048,109.801819L74.914048,108.801819M75.009286,109.420866L75.295,109.801819M75.295,109.135152L74.914048,109.516104M76.247381,109.801819L75.675953,109.801819M75.961667,109.801819L75.961667,108.801819L75.866429,108.944676L75.771191,109.039914L75.675953,109.087533", "ref": 1}, {"type": "segment", "start": [69.795, 106.395], "end": [69.795, 116.895], "width": 0.15}, {"type": "segment", "start": [69.795, 106.395], "end": [78.795, 106.395], "width": 0.15}, {"type": "segment", "start": [69.795, 116.895], "end": [78.795, 116.895], "width": 0.15}, {"type": "segment", "start": [69.85, 116.205], "end": [72.39, 116.205], "width": 0.15}, {"type": "segment", "start": [72.39, 110.49], "end": [76.2, 110.49], "width": 0.15}, {"type": "segment", "start": [72.39, 116.205], "end": [72.39, 116.84], "width": 0.15}, {"type": "segment", "start": [72.39, 116.84], "end": [76.2, 116.84], "width": 0.15}, {"type": "segment", "start": [76.2, 114.3], "end": [72.39, 114.3], "width": 0.15}, {"type": "segment", "start": [76.2, 116.205], "end": [78.74, 116.205], "width": 0.15}, {"type": "segment", "start": [76.2, 116.84], "end": [76.2, 116.205], "width": 0.15}, {"type": "segment", "start": [78.795, 106.395], "end": [78.795, 116.895], "width": 0.15}, {"type": "arc", "start": [74.294999, 112.395], "radius": 2.694076, "startangle": 135.0, "endangle": 225.0, "width": 0.15}, {"type": "arc", "start": [74.295, 112.395], "radius": 2.694077, "startangle": -45.0, "endangle": 45.0, "width": 0.15}, {"type": "circle", "start": [74.295, 112.395], "radius": 1.796051, "width": 0.15}, {"type": "circle", "start": [74.295, 112.395], "radius": 1.3, "width": 0.15}, {"thickness": 0.15, "svgpath": "M72.675952,63.716819L72.675952,64.431104L72.628333,64.573961L72.533095,64.6692L72.390238,64.716819L72.295,64.716819M73.580714,64.716819L73.580714,64.193009L73.533095,64.097771L73.437857,64.050152L73.247381,64.050152L73.152143,64.097771M73.580714,64.6692L73.485476,64.716819L73.247381,64.716819L73.152143,64.6692L73.104524,64.573961L73.104524,64.478723L73.152143,64.383485L73.247381,64.335866L73.485476,64.335866L73.580714,64.288247M74.485476,64.6692L74.390238,64.716819L74.199762,64.716819L74.104524,64.6692L74.056905,64.62158L74.009286,64.526342L74.009286,64.240628L74.056905,64.14539L74.104524,64.097771L74.199762,64.050152L74.390238,64.050152L74.485476,64.097771M74.914048,64.716819L74.914048,63.716819M75.009286,64.335866L75.295,64.716819M75.295,64.050152L74.914048,64.431104M75.675953,63.812057L75.723572,63.764438L75.81881,63.716819L76.056905,63.716819L76.152143,63.764438L76.199762,63.812057L76.247381,63.907295L76.247381,64.002533L76.199762,64.14539L75.628334,64.716819L76.247381,64.716819", "ref": 1}, {"type": "segment", "start": [69.795, 61.31], "end": [69.795, 71.81], "width": 0.15}, {"type": "segment", "start": [69.795, 61.31], "end": [78.795, 61.31], "width": 0.15}, {"type": "segment", "start": [69.795, 71.81], "end": [78.795, 71.81], "width": 0.15}, {"type": "segment", "start": [69.85, 71.12], "end": [72.39, 71.12], "width": 0.15}, {"type": "segment", "start": [72.39, 65.405], "end": [76.2, 65.405], "width": 0.15}, {"type": "segment", "start": [72.39, 71.12], "end": [72.39, 71.755], "width": 0.15}, {"type": "segment", "start": [72.39, 71.755], "end": [76.2, 71.755], "width": 0.15}, {"type": "segment", "start": [76.2, 69.215], "end": [72.39, 69.215], "width": 0.15}, {"type": "segment", "start": [76.2, 71.12], "end": [78.74, 71.12], "width": 0.15}, {"type": "segment", "start": [76.2, 71.755], "end": [76.2, 71.12], "width": 0.15}, {"type": "segment", "start": [78.795, 61.31], "end": [78.795, 71.81], "width": 0.15}, {"type": "arc", "start": [74.294999, 67.31], "radius": 2.694076, "startangle": 135.0, "endangle": 225.0, "width": 0.15}, {"type": "arc", "start": [74.295, 67.31], "radius": 2.694077, "startangle": -45.0, "endangle": 45.0, "width": 0.15}, {"type": "circle", "start": [74.295, 67.31], "radius": 1.796051, "width": 0.15}, {"type": "circle", "start": [74.295, 67.31], "radius": 1.3, "width": 0.15}, {"thickness": 0.15, "svgpath": "M51.085952,63.716819L51.085952,64.431104L51.038333,64.573961L50.943095,64.6692L50.800238,64.716819L50.705,64.716819M51.990714,64.716819L51.990714,64.193009L51.943095,64.097771L51.847857,64.050152L51.657381,64.050152L51.562143,64.097771M51.990714,64.6692L51.895476,64.716819L51.657381,64.716819L51.562143,64.6692L51.514524,64.573961L51.514524,64.478723L51.562143,64.383485L51.657381,64.335866L51.895476,64.335866L51.990714,64.288247M52.895476,64.6692L52.800238,64.716819L52.609762,64.716819L52.514524,64.6692L52.466905,64.62158L52.419286,64.526342L52.419286,64.240628L52.466905,64.14539L52.514524,64.097771L52.609762,64.050152L52.800238,64.050152L52.895476,64.097771M53.324048,64.716819L53.324048,63.716819M53.419286,64.335866L53.705,64.716819M53.705,64.050152L53.324048,64.431104M54.609762,63.716819L54.133572,63.716819L54.085953,64.193009L54.133572,64.14539L54.22881,64.097771L54.466905,64.097771L54.562143,64.14539L54.609762,64.193009L54.657381,64.288247L54.657381,64.526342L54.609762,64.62158L54.562143,64.6692L54.466905,64.716819L54.22881,64.716819L54.133572,64.6692L54.085953,64.62158", "ref": 1}, {"type": "segment", "start": [48.205, 61.31], "end": [48.205, 71.81], "width": 0.15}, {"type": "segment", "start": [48.205, 61.31], "end": [57.205, 61.31], "width": 0.15}, {"type": "segment", "start": [48.205, 71.81], "end": [57.205, 71.81], "width": 0.15}, {"type": "segment", "start": [48.26, 71.12], "end": [50.8, 71.12], "width": 0.15}, {"type": "segment", "start": [50.8, 65.405], "end": [54.61, 65.405], "width": 0.15}, {"type": "segment", "start": [50.8, 71.12], "end": [50.8, 71.755], "width": 0.15}, {"type": "segment", "start": [50.8, 71.755], "end": [54.61, 71.755], "width": 0.15}, {"type": "segment", "start": [54.61, 69.215], "end": [50.8, 69.215], "width": 0.15}, {"type": "segment", "start": [54.61, 71.12], "end": [57.15, 71.12], "width": 0.15}, {"type": "segment", "start": [54.61, 71.755], "end": [54.61, 71.12], "width": 0.15}, {"type": "segment", "start": [57.205, 61.31], "end": [57.205, 71.81], "width": 0.15}, {"type": "arc", "start": [52.704999, 67.31], "radius": 2.694076, "startangle": 135.0, "endangle": 225.0, "width": 0.15}, {"type": "arc", "start": [52.705, 67.31], "radius": 2.694077, "startangle": -45.0, "endangle": 45.0, "width": 0.15}, {"type": "circle", "start": [52.705, 67.31], "radius": 1.796051, "width": 0.15}, {"type": "circle", "start": [52.705, 67.31], "radius": 1.3, "width": 0.15}, {"thickness": 0.15, "svgpath": "M59,94.624819L59,93.624819L59.380952,93.624819L59.47619,93.672438L59.523809,93.720057L59.571428,93.815295L59.571428,93.958152L59.523809,94.05339L59.47619,94.101009L59.380952,94.148628L59,94.148628M60.190476,93.624819L60.380952,93.624819L60.47619,93.672438L60.571428,93.767676L60.619047,93.958152L60.619047,94.291485L60.571428,94.481961L60.47619,94.5772L60.380952,94.624819L60.190476,94.624819L60.095238,94.5772L60,94.481961L59.952381,94.291485L59.952381,93.958152L60,93.767676L60.095238,93.672438L60.190476,93.624819M60.904762,93.624819L61.47619,93.624819M61.190476,94.624819L61.190476,93.624819M62.333333,94.624819L61.761905,94.624819M62.047619,94.624819L62.047619,93.624819L61.952381,93.767676L61.857143,93.862914L61.761905,93.910533M62.761905,94.243866L63.52381,94.243866M64,94.624819L64,93.624819L64.333333,94.339104L64.666666,93.624819L64.666666,94.624819M65.095238,94.339104L65.571428,94.339104M65,94.624819L65.333333,93.624819L65.666666,94.624819M66,94.624819L66,93.624819M66.47619,94.624819L66.47619,93.624819L67.047618,94.624819L67.047618,93.624819M68.047618,94.624819L67.47619,94.624819M67.761904,94.624819L67.761904,93.624819L67.666666,93.767676L67.571428,93.862914L67.47619,93.910533", "ref": 1}, {"thickness": 0.15, "svgpath": "M59.368166,86.876819L59.368166,85.876819L59.749118,85.876819L59.844356,85.924438L59.891975,85.972057L59.939594,86.067295L59.939594,86.210152L59.891975,86.30539L59.844356,86.353009L59.749118,86.400628L59.368166,86.400628M60.558642,85.876819L60.749118,85.876819L60.844356,85.924438L60.939594,86.019676L60.987213,86.210152L60.987213,86.543485L60.939594,86.733961L60.844356,86.8292L60.749118,86.876819L60.558642,86.876819L60.463404,86.8292L60.368166,86.733961L60.320547,86.543485L60.320547,86.210152L60.368166,86.019676L60.463404,85.924438L60.558642,85.876819M61.272928,85.876819L61.844356,85.876819M61.558642,86.876819L61.558642,85.876819M63.463404,86.876819L62.891976,86.876819M63.17769,86.876819L63.17769,85.876819L63.082452,86.019676L62.987214,86.114914L62.891976,86.162533M64.082452,85.876819L64.17769,85.876819L64.272928,85.924438L64.320547,85.972057L64.368166,86.067295L64.415785,86.257771L64.415785,86.495866L64.368166,86.686342L64.320547,86.78158L64.272928,86.8292L64.17769,86.876819L64.082452,86.876819L63.987214,86.8292L63.939595,86.78158L63.891976,86.686342L63.844357,86.495866L63.844357,86.257771L63.891976,86.067295L63.939595,85.972057L63.987214,85.924438L64.082452,85.876819M64.844357,86.876819L64.844357,85.876819M65.415785,86.876819L64.987214,86.30539M65.415785,85.876819L64.844357,86.448247M66.749119,86.876819L66.653881,86.8292L66.606262,86.733961L66.606262,85.876819M67.130072,86.876819L67.130072,86.210152M67.130072,85.876819L67.082453,85.924438L67.130072,85.972057L67.177691,85.924438L67.130072,85.876819L67.130072,85.972057M67.606262,86.210152L67.606262,86.876819M67.606262,86.30539L67.653881,86.257771L67.749119,86.210152L67.891976,86.210152L67.987214,86.257771L68.034833,86.353009L68.034833,86.876819", "val": 1}, {"type": "segment", "start": [58.5, 85.17], "end": [68.5, 85.17], "width": 0.2}, {"type": "segment", "start": [58.5, 90.17], "end": [58.5, 85.17], "width": 0.2}, {"type": "segment", "start": [58.5, 96.17], "end": [58.5, 90.17], "width": 0.2}, {"type": "segment", "start": [68.5, 85.17], "end": [68.5, 96.17], "width": 0.2}, {"type": "segment", "start": [68.5, 96.17], "end": [58.5, 96.17], "width": 0.2}, {"type": "circle", "start": [63.5, 90.17], "radius": 2.236068, "width": 0.2}, {"thickness": 0.15, "svgpath": "M51.734819,106.806904L52.544342,106.806904L52.63958,106.759285L52.6872,106.711666L52.734819,106.616428L52.734819,106.425952L52.6872,106.330714L52.63958,106.283095L52.544342,106.235476L51.734819,106.235476M52.734819,105.235476L52.734819,105.806904M52.734819,105.52119L51.734819,105.52119L51.877676,105.616428L51.972914,105.711666L52.020533,105.806904", "ref": 1}, {"type": "segment", "start": [53.22, 111.185], "end": [63.62, 111.185], "width": 0.12}, {"type": "segment", "start": [63.62, 111.185], "end": [63.62, 100.905], "width": 0.12}, {"type": "segment", "start": [53.28, 108.695], "end": [63.56, 108.695], "width": 0.12}, {"type": "segment", "start": [63.56, 108.695], "end": [63.56, 103.395], "width": 0.12}, {"type": "segment", "start": [53.28, 107.045], "end": [53.28, 108.695], "width": 0.12}, {"type": "segment", "start": [53.28, 103.395], "end": [53.28, 105.045], "width": 0.12}, {"type": "segment", "start": [63.56, 103.395], "end": [53.28, 103.395], "width": 0.12}, {"type": "segment", "start": [53.22, 100.905], "end": [53.22, 111.185], "width": 0.12}, {"type": "segment", "start": [63.62, 100.905], "end": [53.22, 100.905], "width": 0.12}, {"type": "arc", "start": [53.28, 106.045], "radius": 1.0, "startangle": -90.0, "endangle": 90.0, "width": 0.12}], "B": [{"thickness": 0.15, "svgpath": "M74.556666,112.11958L74.604285,112.1672L74.747142,112.214819L74.84238,112.214819L74.985237,112.1672L75.080475,112.071961L75.128094,111.976723L75.175713,111.786247L75.175713,111.64339L75.128094,111.452914L75.080475,111.357676L74.985237,111.262438L74.84238,111.214819L74.747142,111.214819L74.604285,111.262438L74.556666,111.310057M73.604285,112.214819L74.175713,112.214819M73.889999,112.214819L73.889999,111.214819L73.985237,111.357676L74.080475,111.452914L74.175713,111.500533", "ref": 1}, {"type": "segment", "start": [75.39, 112.78], "end": [73.39, 112.78], "width": 0.12}, {"type": "segment", "start": [73.39, 110.74], "end": [75.39, 110.74], "width": 0.12}, {"thickness": 0.15, "svgpath": "M59.856666,107.03958L59.904285,107.0872L60.047142,107.134819L60.14238,107.134819L60.285237,107.0872L60.380475,106.991961L60.428094,106.896723L60.475713,106.706247L60.475713,106.56339L60.428094,106.372914L60.380475,106.277676L60.285237,106.182438L60.14238,106.134819L60.047142,106.134819L59.904285,106.182438L59.856666,106.230057M59.475713,106.230057L59.428094,106.182438L59.332856,106.134819L59.094761,106.134819L58.999523,106.182438L58.951904,106.230057L58.904285,106.325295L58.904285,106.420533L58.951904,106.56339L59.523332,107.134819L58.904285,107.134819", "ref": 1}, {"type": "segment", "start": [58.69, 105.66], "end": [60.69, 105.66], "width": 0.12}, {"type": "segment", "start": [60.69, 107.7], "end": [58.69, 107.7], "width": 0.12}, {"thickness": 0.15, "svgpath": "M52.871666,67.03458L52.919285,67.0822L53.062142,67.129819L53.15738,67.129819L53.300237,67.0822L53.395475,66.986961L53.443094,66.891723L53.490713,66.701247L53.490713,66.55839L53.443094,66.367914L53.395475,66.272676L53.300237,66.177438L53.15738,66.129819L53.062142,66.129819L52.919285,66.177438L52.871666,66.225057M52.538332,66.129819L51.919285,66.129819L52.252618,66.510771L52.109761,66.510771L52.014523,66.55839L51.966904,66.606009L51.919285,66.701247L51.919285,66.939342L51.966904,67.03458L52.014523,67.0822L52.109761,67.129819L52.395475,67.129819L52.490713,67.0822L52.538332,67.03458", "ref": 1}, {"type": "segment", "start": [51.705, 65.655], "end": [53.705, 65.655], "width": 0.12}, {"type": "segment", "start": [53.705, 67.695], "end": [51.705, 67.695], "width": 0.12}, {"thickness": 0.15, "svgpath": "M51.601666,123.54958L51.649285,123.5972L51.792142,123.644819L51.88738,123.644819L52.030237,123.5972L52.125475,123.501961L52.173094,123.406723L52.220713,123.216247L52.220713,123.07339L52.173094,122.882914L52.125475,122.787676L52.030237,122.692438L51.88738,122.644819L51.792142,122.644819L51.649285,122.692438L51.601666,122.740057M50.744523,122.978152L50.744523,123.644819M50.982618,122.5972L51.220713,123.311485L50.601666,123.311485", "ref": 1}, {"type": "segment", "start": [52.435, 124.21], "end": [50.435, 124.21], "width": 0.12}, {"type": "segment", "start": [50.435, 122.17], "end": [52.435, 122.17], "width": 0.12}, {"thickness": 0.15, "svgpath": "M52.524819,115.403333L52.048628,115.07M52.524819,114.831905L51.524819,114.831905L51.524819,115.212857L51.572438,115.308095L51.620057,115.355714L51.715295,115.403333L51.858152,115.403333L51.95339,115.355714L52.001009,115.308095L52.048628,115.212857L52.048628,114.831905M52.524819,116.355714L52.524819,115.784286M52.524819,116.07L51.524819,116.07L51.667676,115.974762L51.762914,115.879524L51.810533,115.784286", "ref": 1}, {"type": "segment", "start": [53.14, 116.57], "end": [53.14, 114.57], "width": 0.12}, {"type": "segment", "start": [51.0, 114.57], "end": [51.0, 116.57], "width": 0.12}, {"thickness": 0.15, "svgpath": "M56.334819,115.403333L55.858628,115.07M56.334819,114.831905L55.334819,114.831905L55.334819,115.212857L55.382438,115.308095L55.430057,115.355714L55.525295,115.403333L55.668152,115.403333L55.76339,115.355714L55.811009,115.308095L55.858628,115.212857L55.858628,114.831905M55.430057,115.784286L55.382438,115.831905L55.334819,115.927143L55.334819,116.165238L55.382438,116.260476L55.430057,116.308095L55.525295,116.355714L55.620533,116.355714L55.76339,116.308095L56.334819,115.736667L56.334819,116.355714", "ref": 1}, {"type": "segment", "start": [54.81, 114.57], "end": [54.81, 116.57], "width": 0.12}, {"type": "segment", "start": [56.95, 116.57], "end": [56.95, 114.57], "width": 0.12}, {"thickness": 0.15, "svgpath": "M60.144819,115.403333L59.668628,115.07M60.144819,114.831905L59.144819,114.831905L59.144819,115.212857L59.192438,115.308095L59.240057,115.355714L59.335295,115.403333L59.478152,115.403333L59.57339,115.355714L59.621009,115.308095L59.668628,115.212857L59.668628,114.831905M59.144819,115.736667L59.144819,116.355714L59.525771,116.022381L59.525771,116.165238L59.57339,116.260476L59.621009,116.308095L59.716247,116.355714L59.954342,116.355714L60.04958,116.308095L60.0972,116.260476L60.144819,116.165238L60.144819,115.879524L60.0972,115.784286L60.04958,115.736667", "ref": 1}, {"type": "segment", "start": [58.62, 114.57], "end": [58.62, 116.57], "width": 0.12}, {"type": "segment", "start": [60.76, 116.57], "end": [60.76, 114.57], "width": 0.12}, {"thickness": 0.15, "svgpath": "M56.969819,96.353333L56.493628,96.02M56.969819,95.781905L55.969819,95.781905L55.969819,96.162857L56.017438,96.258095L56.065057,96.305714L56.160295,96.353333L56.303152,96.353333L56.39839,96.305714L56.446009,96.258095L56.493628,96.162857L56.493628,95.781905M56.39839,96.924762L56.350771,96.829524L56.303152,96.781905L56.207914,96.734286L56.160295,96.734286L56.065057,96.781905L56.017438,96.829524L55.969819,96.924762L55.969819,97.115238L56.017438,97.210476L56.065057,97.258095L56.160295,97.305714L56.207914,97.305714L56.303152,97.258095L56.350771,97.210476L56.39839,97.115238L56.39839,96.924762L56.446009,96.829524L56.493628,96.781905L56.588866,96.734286L56.779342,96.734286L56.87458,96.781905L56.9222,96.829524L56.969819,96.924762L56.969819,97.115238L56.9222,97.210476L56.87458,97.258095L56.779342,97.305714L56.588866,97.305714L56.493628,97.258095L56.446009,97.210476L56.39839,97.115238", "ref": 1}, {"type": "segment", "start": [55.445, 95.52], "end": [55.445, 97.52], "width": 0.12}, {"type": "segment", "start": [57.585, 97.52], "end": [57.585, 95.52], "width": 0.12}, {"thickness": 0.15, "svgpath": "M72.209819,95.877142L71.733628,95.543809M72.209819,95.305714L71.209819,95.305714L71.209819,95.686666L71.257438,95.781904L71.305057,95.829523L71.400295,95.877142L71.543152,95.877142L71.63839,95.829523L71.686009,95.781904L71.733628,95.686666L71.733628,95.305714M72.209819,96.829523L72.209819,96.258095M72.209819,96.543809L71.209819,96.543809L71.352676,96.448571L71.447914,96.353333L71.495533,96.258095M71.543152,97.686666L72.209819,97.686666M71.1622,97.448571L71.876485,97.210476L71.876485,97.829523", "ref": 1}, {"type": "segment", "start": [72.825, 97.52], "end": [72.825, 95.52], "width": 0.12}, {"type": "segment", "start": [70.685, 95.52], "end": [70.685, 97.52], "width": 0.12}, {"thickness": 0.15, "svgpath": "M75.898333,126.454819L75.898333,127.169104L75.945952,127.311961L76.04119,127.4072L76.184047,127.454819L76.279285,127.454819M74.993571,126.788152L74.993571,127.454819M75.231666,126.4072L75.469761,127.121485L74.850714,127.121485", "ref": 1}, {"thickness": 0.15, "svgpath": "M77.215951,122.501866L76.454047,122.501866M76.834999,122.882819L76.834999,122.120914"}, {"thickness": 0.15, "svgpath": "M74.675951,122.501866L73.914047,122.501866"}, {"type": "segment", "start": [73.025, 126.238], "end": [73.025, 121.666], "width": 0.12}, {"type": "segment", "start": [73.025, 126.238], "end": [78.105, 126.238], "width": 0.12}, {"type": "segment", "start": [78.105, 121.666], "end": [73.025, 121.666], "width": 0.12}, {"type": "segment", "start": [78.105, 126.238], "end": [78.105, 121.666], "width": 0.12}, {"thickness": 0.15, "svgpath": "M61.354819,87.992857L60.354819,87.992857L60.354819,88.230952L60.402438,88.373809L60.497676,88.469047L60.592914,88.516666L60.78339,88.564285L60.926247,88.564285L61.116723,88.516666L61.211961,88.469047L61.3072,88.373809L61.354819,88.230952L61.354819,87.992857M60.973866,88.992857L60.973866,89.754762M61.354819,90.230952L60.354819,90.230952L60.354819,90.611904L60.402438,90.707142L60.450057,90.754761L60.545295,90.80238L60.688152,90.80238L60.78339,90.754761L60.831009,90.707142L60.878628,90.611904L60.878628,90.230952M60.831009,91.564285L60.878628,91.707142L60.926247,91.754761L61.021485,91.80238L61.164342,91.80238L61.25958,91.754761L61.3072,91.707142L61.354819,91.611904L61.354819,91.230952L60.354819,91.230952L60.354819,91.564285L60.402438,91.659523L60.450057,91.707142L60.545295,91.754761L60.640533,91.754761L60.735771,91.707142L60.78339,91.659523L60.831009,91.564285L60.831009,91.230952M61.354819,92.754761L61.354819,92.183333M61.354819,92.469047L60.354819,92.469047L60.497676,92.373809L60.592914,92.278571L60.640533,92.183333", "ref": 1}, {"type": "segment", "start": [65.1, 88.72], "end": [65.1, 92.72], "width": 0.12}, {"type": "segment", "start": [61.9, 88.67], "end": [61.9, 92.67], "width": 0.12}, {"thickness": 0.15, "svgpath": "M69.669819,95.877142L69.193628,95.543809M69.669819,95.305714L68.669819,95.305714L68.669819,95.686666L68.717438,95.781904L68.765057,95.829523L68.860295,95.877142L69.003152,95.877142L69.09839,95.829523L69.146009,95.781904L69.193628,95.686666L69.193628,95.305714M69.669819,96.353333L69.669819,96.543809L69.6222,96.639047L69.57458,96.686666L69.431723,96.781904L69.241247,96.829523L68.860295,96.829523L68.765057,96.781904L68.717438,96.734285L68.669819,96.639047L68.669819,96.448571L68.717438,96.353333L68.765057,96.305714L68.860295,96.258095L69.09839,96.258095L69.193628,96.305714L69.241247,96.353333L69.288866,96.448571L69.288866,96.639047L69.241247,96.734285L69.193628,96.781904L69.09839,96.829523M69.669819,97.305714L69.669819,97.49619L69.6222,97.591428L69.57458,97.639047L69.431723,97.734285L69.241247,97.781904L68.860295,97.781904L68.765057,97.734285L68.717438,97.686666L68.669819,97.591428L68.669819,97.400952L68.717438,97.305714L68.765057,97.258095L68.860295,97.210476L69.09839,97.210476L69.193628,97.258095L69.241247,97.305714L69.288866,97.400952L69.288866,97.591428L69.241247,97.686666L69.193628,97.734285L69.09839,97.781904", "ref": 1}, {"type": "segment", "start": [70.285, 97.52], "end": [70.285, 95.52], "width": 0.12}, {"type": "segment", "start": [68.145, 95.52], "end": [68.145, 97.52], "width": 0.12}]}, "fabrication": {"F": [{"thickness": 0.1, "svgpath": "M61.366667,127.4123L61.466667,127.445633L61.633334,127.445633L61.7,127.4123L61.733334,127.378966L61.766667,127.3123L61.766667,127.245633L61.733334,127.178966L61.7,127.145633L61.633334,127.1123L61.5,127.078966L61.433334,127.045633L61.4,127.0123L61.366667,126.945633L61.366667,126.878966L61.4,126.8123L61.433334,126.778966L61.5,126.745633L61.666667,126.745633L61.766667,126.778966M62.000001,126.745633L62.166667,127.445633L62.300001,126.945633L62.433334,127.445633L62.600001,126.745633M62.700001,127.5123L63.233334,127.5123M63.4,127.445633L63.4,126.745633L63.666667,126.745633L63.733334,126.778966L63.766667,126.8123L63.8,126.878966L63.8,126.978966L63.766667,127.045633L63.733334,127.078966L63.666667,127.1123L63.4,127.1123M64.4,126.978966L64.4,127.445633M64.1,126.978966L64.1,127.345633L64.133334,127.4123L64.2,127.445633L64.3,127.445633L64.366667,127.4123L64.4,127.378966M64.7,127.4123L64.766667,127.445633L64.9,127.445633L64.966667,127.4123L65,127.345633L65,127.3123L64.966667,127.245633L64.9,127.2123L64.8,127.2123L64.733333,127.178966L64.7,127.1123L64.7,127.078966L64.733333,127.0123L64.8,126.978966L64.9,126.978966L64.966667,127.0123M65.3,127.445633L65.3,126.745633M65.6,127.445633L65.6,127.078966L65.566667,127.0123L65.5,126.978966L65.4,126.978966L65.333334,127.0123L65.3,127.045633", "val": 1}, {"thickness": 0.15, "svgpath": "M62.153967,125.5022L62.296824,125.549819L62.534919,125.549819L62.630157,125.5022L62.677776,125.45458L62.725395,125.359342L62.725395,125.264104L62.677776,125.168866L62.630157,125.121247L62.534919,125.073628L62.344443,125.026009L62.249205,124.97839L62.201586,124.930771L62.153967,124.835533L62.153967,124.740295L62.201586,124.645057L62.249205,124.597438L62.344443,124.549819L62.582538,124.549819L62.725395,124.597438M63.058729,124.549819L63.296824,125.549819L63.4873,124.835533L63.677776,125.549819L63.915872,124.549819M64.249205,124.645057L64.296824,124.597438L64.392062,124.549819L64.630157,124.549819L64.725395,124.597438L64.773014,124.645057L64.820633,124.740295L64.820633,124.835533L64.773014,124.97839L64.201586,125.549819L64.820633,125.549819"}, {"type": "segment", "start": [57.3873, 119.055], "end": [57.3873, 131.055], "width": 0.1}, {"type": "segment", "start": [57.3873, 119.055], "end": [69.3873, 119.055], "width": 0.1}, {"type": "segment", "start": [57.3873, 131.055], "end": [69.3873, 131.055], "width": 0.1}, {"type": "segment", "start": [69.3873, 119.055], "end": [69.3873, 131.055], "width": 0.1}, {"thickness": 0.15, "svgpath": "M61.354819,91.012857L61.354819,91.489047L60.354819,91.489047M60.831009,90.679523L60.831009,90.34619M61.354819,90.203333L61.354819,90.679523L60.354819,90.679523L60.354819,90.203333M61.354819,89.774761L60.354819,89.774761L60.354819,89.536666L60.402438,89.393809L60.497676,89.298571L60.592914,89.250952L60.78339,89.203333L60.926247,89.203333L61.116723,89.250952L61.211961,89.298571L61.3072,89.393809L61.354819,89.536666L61.354819,89.774761", "val": 1}, {"type": "segment", "start": [62.1, 92.12], "end": [62.1, 88.62], "width": 0.1}, {"type": "segment", "start": [64.9, 92.12], "end": [62.1, 92.12], "width": 0.1}, {"type": "segment", "start": [62.7, 91.97], "end": [62.3, 91.57], "width": 0.1}, {"type": "segment", "start": [64.3, 91.97], "end": [62.7, 91.97], "width": 0.1}, {"type": "segment", "start": [62.3, 91.57], "end": [62.3, 89.17], "width": 0.1}, {"type": "segment", "start": [64.7, 91.57], "end": [64.3, 91.97], "width": 0.1}, {"type": "segment", "start": [63.1, 89.24], "end": [62.6, 89.24], "width": 0.1}, {"type": "segment", "start": [62.3, 89.17], "end": [62.7, 88.77], "width": 0.1}, {"type": "segment", "start": [64.7, 89.17], "end": [64.7, 91.57], "width": 0.1}, {"type": "segment", "start": [62.85, 89.02], "end": [62.85, 89.47], "width": 0.1}, {"type": "segment", "start": [62.7, 88.77], "end": [63.5, 88.77], "width": 0.1}, {"type": "segment", "start": [63.5, 88.77], "end": [64.3, 88.77], "width": 0.1}, {"type": "segment", "start": [64.3, 88.77], "end": [64.7, 89.17], "width": 0.1}, {"type": "segment", "start": [62.1, 88.62], "end": [64.9, 88.62], "width": 0.1}, {"type": "segment", "start": [64.9, 88.62], "end": [64.9, 92.12], "width": 0.1}, {"thickness": 0.15, "svgpath": "M64.729104,111.759285L64.729104,111.283095M65.014819,111.854523L64.014819,111.52119L65.014819,111.187857M64.014819,110.99738L64.014819,110.425952M65.014819,110.711666L64.014819,110.711666M64.014819,110.235475L64.014819,109.664047M65.014819,109.949761L64.014819,109.949761M65.014819,109.330713L64.014819,109.330713M65.014819,108.854523L64.014819,108.854523L65.014819,108.283095L64.014819,108.283095M64.538628,107.616428L65.014819,107.616428M64.014819,107.949761L64.538628,107.616428L64.014819,107.283095M64.44339,106.806904L64.395771,106.902142L64.348152,106.949761L64.252914,106.99738L64.205295,106.99738L64.110057,106.949761L64.062438,106.902142L64.014819,106.806904L64.014819,106.616428L64.062438,106.52119L64.110057,106.473571L64.205295,106.425952L64.252914,106.425952L64.348152,106.473571L64.395771,106.52119L64.44339,106.616428L64.44339,106.806904L64.491009,106.902142L64.538628,106.949761L64.633866,106.99738L64.824342,106.99738L64.91958,106.949761L64.9672,106.902142L65.014819,106.806904L65.014819,106.616428L64.9672,106.52119L64.91958,106.473571L64.824342,106.425952L64.633866,106.425952L64.538628,106.473571L64.491009,106.52119L64.44339,106.616428M64.014819,105.52119L64.014819,105.99738L64.491009,106.044999L64.44339,105.99738L64.395771,105.902142L64.395771,105.664047L64.44339,105.568809L64.491009,105.52119L64.586247,105.473571L64.824342,105.473571L64.91958,105.52119L64.9672,105.568809L65.014819,105.664047L65.014819,105.902142L64.9672,105.99738L64.91958,106.044999M64.633866,105.044999L64.633866,104.283095M64.110057,103.854523L64.062438,103.806904L64.014819,103.711666L64.014819,103.473571L64.062438,103.378333L64.110057,103.330714L64.205295,103.283095L64.300533,103.283095L64.44339,103.330714L65.014819,103.902142L65.014819,103.283095M64.014819,102.664047L64.014819,102.568809L64.062438,102.473571L64.110057,102.425952L64.205295,102.378333L64.395771,102.330714L64.633866,102.330714L64.824342,102.378333L64.91958,102.425952L64.9672,102.473571L65.014819,102.568809L65.014819,102.664047L64.9672,102.759285L64.91958,102.806904L64.824342,102.854523L64.633866,102.902142L64.395771,102.902142L64.205295,102.854523L64.110057,102.806904L64.062438,102.759285L64.014819,102.664047M64.9672,101.949761L65.014819,101.806904L65.014819,101.568809L64.9672,101.473571L64.91958,101.425952L64.824342,101.378333L64.729104,101.378333L64.633866,101.425952L64.586247,101.473571L64.538628,101.568809L64.491009,101.759285L64.44339,101.854523L64.395771,101.902142L64.300533,101.949761L64.205295,101.949761L64.110057,101.902142L64.062438,101.854523L64.014819,101.759285L64.014819,101.52119L64.062438,101.378333M64.014819,100.949761L64.824342,100.949761L64.91958,100.902142L64.9672,100.854523L65.014819,100.759285L65.014819,100.568809L64.9672,100.473571L64.91958,100.425952L64.824342,100.378333L64.014819,100.378333", "val": 1}, {"thickness": 0.15, "svgpath": "M57.874819,106.806904L58.684342,106.806904L58.77958,106.759285L58.8272,106.711666L58.874819,106.616428L58.874819,106.425952L58.8272,106.330714L58.77958,106.283095L58.684342,106.235476L57.874819,106.235476M58.874819,105.235476L58.874819,105.806904M58.874819,105.52119L57.874819,105.52119L58.017676,105.616428L58.112914,105.711666L58.160533,105.806904"}, {"type": "segment", "start": [53.28, 111.125], "end": [63.56, 111.125], "width": 0.1}, {"type": "segment", "start": [63.56, 111.125], "end": [63.56, 100.965], "width": 0.1}, {"type": "segment", "start": [54.34, 109.22], "end": [53.34, 108.22], "width": 0.1}, {"type": "segment", "start": [63.5, 109.22], "end": [54.34, 109.22], "width": 0.1}, {"type": "segment", "start": [53.34, 108.22], "end": [53.34, 102.87], "width": 0.1}, {"type": "segment", "start": [53.34, 102.87], "end": [63.5, 102.87], "width": 0.1}, {"type": "segment", "start": [63.5, 102.87], "end": [63.5, 109.22], "width": 0.1}, {"type": "segment", "start": [53.28, 100.965], "end": [53.28, 111.125], "width": 0.1}, {"type": "segment", "start": [63.56, 100.965], "end": [53.28, 100.965], "width": 0.1}], "B": [{"thickness": 0.15, "svgpath": "M75.937619,114.214819L76.509047,114.214819M76.223333,114.214819L76.223333,113.214819L76.318571,113.357676L76.413809,113.452914L76.509047,113.500533M75.318571,113.214819L75.223333,113.214819L75.128095,113.262438L75.080476,113.310057L75.032857,113.405295L74.985238,113.595771L74.985238,113.833866L75.032857,114.024342L75.080476,114.11958L75.128095,114.1672L75.223333,114.214819L75.318571,114.214819L75.413809,114.1672L75.461428,114.11958L75.509047,114.024342L75.556666,113.833866L75.556666,113.595771L75.509047,113.405295L75.461428,113.310057L75.413809,113.262438L75.318571,113.214819M74.36619,113.214819L74.270952,113.214819L74.175714,113.262438L74.128095,113.310057L74.080476,113.405295L74.032857,113.595771L74.032857,113.833866L74.080476,114.024342L74.128095,114.11958L74.175714,114.1672L74.270952,114.214819L74.36619,114.214819L74.461428,114.1672L74.509047,114.11958L74.556666,114.024342L74.604285,113.833866L74.604285,113.595771L74.556666,113.405295L74.509047,113.310057L74.461428,113.262438L74.36619,113.214819M73.604285,113.548152L73.604285,114.214819M73.604285,113.64339L73.556666,113.595771L73.461428,113.548152L73.318571,113.548152L73.223333,113.595771L73.175714,113.691009L73.175714,114.214819M72.36619,113.691009L72.699523,113.691009M72.699523,114.214819L72.699523,113.214819L72.223333,113.214819", "val": 1}, {"thickness": 0.15, "svgpath": "M74.556666,112.11958L74.604285,112.1672L74.747142,112.214819L74.84238,112.214819L74.985237,112.1672L75.080475,112.071961L75.128094,111.976723L75.175713,111.786247L75.175713,111.64339L75.128094,111.452914L75.080475,111.357676L74.985237,111.262438L74.84238,111.214819L74.747142,111.214819L74.604285,111.262438L74.556666,111.310057M73.604285,112.214819L74.175713,112.214819M73.889999,112.214819L73.889999,111.214819L73.985237,111.357676L74.080475,111.452914L74.175713,111.500533"}, {"type": "segment", "start": [75.99, 112.56], "end": [75.99, 110.96], "width": 0.1}, {"type": "segment", "start": [75.99, 110.96], "end": [72.79, 110.96], "width": 0.1}, {"type": "segment", "start": [72.79, 112.56], "end": [75.99, 112.56], "width": 0.1}, {"type": "segment", "start": [72.79, 110.96], "end": [72.79, 112.56], "width": 0.1}, {"thickness": 0.15, "svgpath": "M61.237619,105.134819L61.809047,105.134819M61.523333,105.134819L61.523333,104.134819L61.618571,104.277676L61.713809,104.372914L61.809047,104.420533M60.618571,104.134819L60.523333,104.134819L60.428095,104.182438L60.380476,104.230057L60.332857,104.325295L60.285238,104.515771L60.285238,104.753866L60.332857,104.944342L60.380476,105.03958L60.428095,105.0872L60.523333,105.134819L60.618571,105.134819L60.713809,105.0872L60.761428,105.03958L60.809047,104.944342L60.856666,104.753866L60.856666,104.515771L60.809047,104.325295L60.761428,104.230057L60.713809,104.182438L60.618571,104.134819M59.66619,104.134819L59.570952,104.134819L59.475714,104.182438L59.428095,104.230057L59.380476,104.325295L59.332857,104.515771L59.332857,104.753866L59.380476,104.944342L59.428095,105.03958L59.475714,105.0872L59.570952,105.134819L59.66619,105.134819L59.761428,105.0872L59.809047,105.03958L59.856666,104.944342L59.904285,104.753866L59.904285,104.515771L59.856666,104.325295L59.809047,104.230057L59.761428,104.182438L59.66619,104.134819M58.904285,104.468152L58.904285,105.134819M58.904285,104.56339L58.856666,104.515771L58.761428,104.468152L58.618571,104.468152L58.523333,104.515771L58.475714,104.611009L58.475714,105.134819M57.66619,104.611009L57.999523,104.611009M57.999523,105.134819L57.999523,104.134819L57.523333,104.134819", "val": 1}, {"thickness": 0.15, "svgpath": "M59.856666,107.03958L59.904285,107.0872L60.047142,107.134819L60.14238,107.134819L60.285237,107.0872L60.380475,106.991961L60.428094,106.896723L60.475713,106.706247L60.475713,106.56339L60.428094,106.372914L60.380475,106.277676L60.285237,106.182438L60.14238,106.134819L60.047142,106.134819L59.904285,106.182438L59.856666,106.230057M59.475713,106.230057L59.428094,106.182438L59.332856,106.134819L59.094761,106.134819L58.999523,106.182438L58.951904,106.230057L58.904285,106.325295L58.904285,106.420533L58.951904,106.56339L59.523332,107.134819L58.904285,107.134819"}, {"type": "segment", "start": [58.09, 105.88], "end": [58.09, 107.48], "width": 0.1}, {"type": "segment", "start": [58.09, 107.48], "end": [61.29, 107.48], "width": 0.1}, {"type": "segment", "start": [61.29, 105.88], "end": [58.09, 105.88], "width": 0.1}, {"type": "segment", "start": [61.29, 107.48], "end": [61.29, 105.88], "width": 0.1}, {"thickness": 0.15, "svgpath": "M54.252619,65.129819L54.824047,65.129819M54.538333,65.129819L54.538333,64.129819L54.633571,64.272676L54.728809,64.367914L54.824047,64.415533M53.633571,64.129819L53.538333,64.129819L53.443095,64.177438L53.395476,64.225057L53.347857,64.320295L53.300238,64.510771L53.300238,64.748866L53.347857,64.939342L53.395476,65.03458L53.443095,65.0822L53.538333,65.129819L53.633571,65.129819L53.728809,65.0822L53.776428,65.03458L53.824047,64.939342L53.871666,64.748866L53.871666,64.510771L53.824047,64.320295L53.776428,64.225057L53.728809,64.177438L53.633571,64.129819M52.68119,64.129819L52.585952,64.129819L52.490714,64.177438L52.443095,64.225057L52.395476,64.320295L52.347857,64.510771L52.347857,64.748866L52.395476,64.939342L52.443095,65.03458L52.490714,65.0822L52.585952,65.129819L52.68119,65.129819L52.776428,65.0822L52.824047,65.03458L52.871666,64.939342L52.919285,64.748866L52.919285,64.510771L52.871666,64.320295L52.824047,64.225057L52.776428,64.177438L52.68119,64.129819M51.919285,64.463152L51.919285,65.129819M51.919285,64.55839L51.871666,64.510771L51.776428,64.463152L51.633571,64.463152L51.538333,64.510771L51.490714,64.606009L51.490714,65.129819M50.68119,64.606009L51.014523,64.606009M51.014523,65.129819L51.014523,64.129819L50.538333,64.129819", "val": 1}, {"thickness": 0.15, "svgpath": "M52.871666,67.03458L52.919285,67.0822L53.062142,67.129819L53.15738,67.129819L53.300237,67.0822L53.395475,66.986961L53.443094,66.891723L53.490713,66.701247L53.490713,66.55839L53.443094,66.367914L53.395475,66.272676L53.300237,66.177438L53.15738,66.129819L53.062142,66.129819L52.919285,66.177438L52.871666,66.225057M52.538332,66.129819L51.919285,66.129819L52.252618,66.510771L52.109761,66.510771L52.014523,66.55839L51.966904,66.606009L51.919285,66.701247L51.919285,66.939342L51.966904,67.03458L52.014523,67.0822L52.109761,67.129819L52.395475,67.129819L52.490713,67.0822L52.538332,67.03458"}, {"type": "segment", "start": [51.105, 65.875], "end": [51.105, 67.475], "width": 0.1}, {"type": "segment", "start": [51.105, 67.475], "end": [54.305, 67.475], "width": 0.1}, {"type": "segment", "start": [54.305, 65.875], "end": [51.105, 65.875], "width": 0.1}, {"type": "segment", "start": [54.305, 67.475], "end": [54.305, 65.875], "width": 0.1}, {"thickness": 0.15, "svgpath": "M52.506428,125.644819L53.077856,125.644819M52.792142,125.644819L52.792142,124.644819L52.88738,124.787676L52.982618,124.882914L53.077856,124.930533M51.88738,124.644819L51.792142,124.644819L51.696904,124.692438L51.649285,124.740057L51.601666,124.835295L51.554047,125.025771L51.554047,125.263866L51.601666,125.454342L51.649285,125.54958L51.696904,125.5972L51.792142,125.644819L51.88738,125.644819L51.982618,125.5972L52.030237,125.54958L52.077856,125.454342L52.125475,125.263866L52.125475,125.025771L52.077856,124.835295L52.030237,124.740057L51.982618,124.692438L51.88738,124.644819M50.696904,124.978152L50.696904,125.644819M51.125475,124.978152L51.125475,125.501961L51.077856,125.5972L50.982618,125.644819L50.839761,125.644819L50.744523,125.5972L50.696904,125.54958M49.88738,125.121009L50.220713,125.121009M50.220713,125.644819L50.220713,124.644819L49.744523,124.644819", "val": 1}, {"thickness": 0.15, "svgpath": "M51.601666,123.54958L51.649285,123.5972L51.792142,123.644819L51.88738,123.644819L52.030237,123.5972L52.125475,123.501961L52.173094,123.406723L52.220713,123.216247L52.220713,123.07339L52.173094,122.882914L52.125475,122.787676L52.030237,122.692438L51.88738,122.644819L51.792142,122.644819L51.649285,122.692438L51.601666,122.740057M50.744523,122.978152L50.744523,123.644819M50.982618,122.5972L51.220713,123.311485L50.601666,123.311485"}, {"type": "segment", "start": [53.035, 123.99], "end": [53.035, 122.39], "width": 0.1}, {"type": "segment", "start": [53.035, 122.39], "end": [49.835, 122.39], "width": 0.1}, {"type": "segment", "start": [49.835, 123.99], "end": [53.035, 123.99], "width": 0.1}, {"type": "segment", "start": [49.835, 122.39], "end": [49.835, 123.99], "width": 0.1}, {"thickness": 0.15, "svgpath": "M49.720057,114.403333L49.672438,114.450952L49.624819,114.54619L49.624819,114.784285L49.672438,114.879523L49.720057,114.927142L49.815295,114.974761L49.910533,114.974761L50.05339,114.927142L50.624819,114.355714L50.624819,114.974761M49.720057,115.355714L49.672438,115.403333L49.624819,115.498571L49.624819,115.736666L49.672438,115.831904L49.720057,115.879523L49.815295,115.927142L49.910533,115.927142L50.05339,115.879523L50.624819,115.308095L50.624819,115.927142M50.624819,116.355714L49.624819,116.355714M50.243866,116.450952L50.624819,116.736666M49.958152,116.736666L50.339104,116.355714", "val": 1}, {"thickness": 0.105, "svgpath": "M52.527159,115.403333L52.050968,115.07M52.527159,114.831905L51.527159,114.831905L51.527159,115.212857L51.574778,115.308095L51.622397,115.355714L51.717635,115.403333L51.860492,115.403333L51.95573,115.355714L52.003349,115.308095L52.050968,115.212857L52.050968,114.831905M52.527159,116.355714L52.527159,115.784286M52.527159,116.07L51.527159,116.07L51.670016,115.974762L51.765254,115.879524L51.812873,115.784286"}, {"type": "segment", "start": [51.27, 117.17], "end": [52.87, 117.17], "width": 0.1}, {"type": "segment", "start": [52.87, 117.17], "end": [52.87, 113.97], "width": 0.1}, {"type": "segment", "start": [51.27, 113.97], "end": [51.27, 117.17], "width": 0.1}, {"type": "segment", "start": [52.87, 113.97], "end": [51.27, 113.97], "width": 0.1}, {"thickness": 0.15, "svgpath": "M57.330057,114.403333L57.282438,114.450952L57.234819,114.54619L57.234819,114.784285L57.282438,114.879523L57.330057,114.927142L57.425295,114.974761L57.520533,114.974761L57.66339,114.927142L58.234819,114.355714L58.234819,114.974761M57.330057,115.355714L57.282438,115.403333L57.234819,115.498571L57.234819,115.736666L57.282438,115.831904L57.330057,115.879523L57.425295,115.927142L57.520533,115.927142L57.66339,115.879523L58.234819,115.308095L58.234819,115.927142M58.234819,116.355714L57.234819,116.355714M57.853866,116.450952L58.234819,116.736666M57.568152,116.736666L57.949104,116.355714", "val": 1}, {"thickness": 0.105, "svgpath": "M56.337159,115.403333L55.860968,115.07M56.337159,114.831905L55.337159,114.831905L55.337159,115.212857L55.384778,115.308095L55.432397,115.355714L55.527635,115.403333L55.670492,115.403333L55.76573,115.355714L55.813349,115.308095L55.860968,115.212857L55.860968,114.831905M55.432397,115.784286L55.384778,115.831905L55.337159,115.927143L55.337159,116.165238L55.384778,116.260476L55.432397,116.308095L55.527635,116.355714L55.622873,116.355714L55.76573,116.308095L56.337159,115.736667L56.337159,116.355714"}, {"type": "segment", "start": [56.68, 113.97], "end": [55.08, 113.97], "width": 0.1}, {"type": "segment", "start": [55.08, 113.97], "end": [55.08, 117.17], "width": 0.1}, {"type": "segment", "start": [56.68, 117.17], "end": [56.68, 113.97], "width": 0.1}, {"type": "segment", "start": [55.08, 117.17], "end": [56.68, 117.17], "width": 0.1}, {"thickness": 0.15, "svgpath": "M61.140057,114.403333L61.092438,114.450952L61.044819,114.54619L61.044819,114.784285L61.092438,114.879523L61.140057,114.927142L61.235295,114.974761L61.330533,114.974761L61.47339,114.927142L62.044819,114.355714L62.044819,114.974761M61.140057,115.355714L61.092438,115.403333L61.044819,115.498571L61.044819,115.736666L61.092438,115.831904L61.140057,115.879523L61.235295,115.927142L61.330533,115.927142L61.47339,115.879523L62.044819,115.308095L62.044819,115.927142M62.044819,116.355714L61.044819,116.355714M61.663866,116.450952L62.044819,116.736666M61.378152,116.736666L61.759104,116.355714", "val": 1}, {"thickness": 0.105, "svgpath": "M60.147159,115.403333L59.670968,115.07M60.147159,114.831905L59.147159,114.831905L59.147159,115.212857L59.194778,115.308095L59.242397,115.355714L59.337635,115.403333L59.480492,115.403333L59.57573,115.355714L59.623349,115.308095L59.670968,115.212857L59.670968,114.831905M59.147159,115.736667L59.147159,116.355714L59.528111,116.022381L59.528111,116.165238L59.57573,116.260476L59.623349,116.308095L59.718587,116.355714L59.956682,116.355714L60.05192,116.308095L60.09954,116.260476L60.147159,116.165238L60.147159,115.879524L60.09954,115.784286L60.05192,115.736667"}, {"type": "segment", "start": [60.49, 113.97], "end": [58.89, 113.97], "width": 0.1}, {"type": "segment", "start": [58.89, 113.97], "end": [58.89, 117.17], "width": 0.1}, {"type": "segment", "start": [60.49, 117.17], "end": [60.49, 113.97], "width": 0.1}, {"type": "segment", "start": [58.89, 117.17], "end": [60.49, 117.17], "width": 0.1}, {"thickness": 0.15, "svgpath": "M57.869819,95.234286L57.869819,95.853333L58.250771,95.52L58.250771,95.662857L58.29839,95.758095L58.346009,95.805714L58.441247,95.853333L58.679342,95.853333L58.77458,95.805714L58.8222,95.758095L58.869819,95.662857L58.869819,95.377143L58.8222,95.281905L58.77458,95.234286M57.869819,96.186667L57.869819,96.805714L58.250771,96.472381L58.250771,96.615238L58.29839,96.710476L58.346009,96.758095L58.441247,96.805714L58.679342,96.805714L58.77458,96.758095L58.8222,96.710476L58.869819,96.615238L58.869819,96.329524L58.8222,96.234286L58.77458,96.186667M57.869819,97.424762L57.869819,97.52L57.917438,97.615238L57.965057,97.662857L58.060295,97.710476L58.250771,97.758095L58.488866,97.758095L58.679342,97.710476L58.77458,97.662857L58.8222,97.615238L58.869819,97.52L58.869819,97.424762L58.8222,97.329524L58.77458,97.281905L58.679342,97.234286L58.488866,97.186667L58.250771,97.186667L58.060295,97.234286L57.965057,97.281905L57.917438,97.329524L57.869819,97.424762", "val": 1}, {"thickness": 0.105, "svgpath": "M56.972159,96.353333L56.495968,96.02M56.972159,95.781905L55.972159,95.781905L55.972159,96.162857L56.019778,96.258095L56.067397,96.305714L56.162635,96.353333L56.305492,96.353333L56.40073,96.305714L56.448349,96.258095L56.495968,96.162857L56.495968,95.781905M56.40073,96.924762L56.353111,96.829524L56.305492,96.781905L56.210254,96.734286L56.162635,96.734286L56.067397,96.781905L56.019778,96.829524L55.972159,96.924762L55.972159,97.115238L56.019778,97.210476L56.067397,97.258095L56.162635,97.305714L56.210254,97.305714L56.305492,97.258095L56.353111,97.210476L56.40073,97.115238L56.40073,96.924762L56.448349,96.829524L56.495968,96.781905L56.591206,96.734286L56.781682,96.734286L56.87692,96.781905L56.92454,96.829524L56.972159,96.924762L56.972159,97.115238L56.92454,97.210476L56.87692,97.258095L56.781682,97.305714L56.591206,97.305714L56.495968,97.258095L56.448349,97.210476L56.40073,97.115238"}, {"type": "segment", "start": [57.315, 94.92], "end": [55.715, 94.92], "width": 0.1}, {"type": "segment", "start": [55.715, 94.92], "end": [55.715, 98.12], "width": 0.1}, {"type": "segment", "start": [57.315, 98.12], "end": [57.315, 94.92], "width": 0.1}, {"type": "segment", "start": [55.715, 98.12], "end": [57.315, 98.12], "width": 0.1}, {"thickness": 0.15, "svgpath": "M70.309819,96.305714L70.309819,95.734286M70.309819,96.02L69.309819,96.02L69.452676,95.924762L69.547914,95.829524L69.595533,95.734286M70.309819,96.734286L69.309819,96.734286M70.309819,97.305714L69.73839,96.877143M69.309819,97.305714L69.881247,96.734286", "val": 1}, {"thickness": 0.105, "svgpath": "M72.212159,95.877142L71.735968,95.543809M72.212159,95.305714L71.212159,95.305714L71.212159,95.686666L71.259778,95.781904L71.307397,95.829523L71.402635,95.877142L71.545492,95.877142L71.64073,95.829523L71.688349,95.781904L71.735968,95.686666L71.735968,95.305714M72.212159,96.829523L72.212159,96.258095M72.212159,96.543809L71.212159,96.543809L71.355016,96.448571L71.450254,96.353333L71.497873,96.258095M71.545492,97.686666L72.212159,97.686666M71.16454,97.448571L71.878825,97.210476L71.878825,97.829523"}, {"type": "segment", "start": [70.955, 98.12], "end": [72.555, 98.12], "width": 0.1}, {"type": "segment", "start": [72.555, 98.12], "end": [72.555, 94.92], "width": 0.1}, {"type": "segment", "start": [70.955, 94.92], "end": [70.955, 98.12], "width": 0.1}, {"type": "segment", "start": [72.555, 94.92], "end": [70.955, 94.92], "width": 0.1}, {"thickness": 0.15, "svgpath": "M78.54119,121.00958L78.588809,121.0572L78.731666,121.104819L78.826904,121.104819L78.969761,121.0572L79.064999,120.961961L79.112618,120.866723L79.160237,120.676247L79.160237,120.53339L79.112618,120.342914L79.064999,120.247676L78.969761,120.152438L78.826904,120.104819L78.731666,120.104819L78.588809,120.152438L78.54119,120.200057M77.969761,121.104819L78.064999,121.0572L78.112618,121.00958L78.160237,120.914342L78.160237,120.628628L78.112618,120.53339L78.064999,120.485771L77.969761,120.438152L77.826904,120.438152L77.731666,120.485771L77.684047,120.53339L77.636428,120.628628L77.636428,120.914342L77.684047,121.00958L77.731666,121.0572L77.826904,121.104819L77.969761,121.104819M77.207856,120.438152L77.207856,121.104819M77.207856,120.53339L77.160237,120.485771L77.064999,120.438152L76.922142,120.438152L76.826904,120.485771L76.779285,120.581009L76.779285,121.104819M76.54119,121.200057L75.779285,121.200057M75.636427,120.104819L75.01738,120.104819L75.350713,120.485771L75.207856,120.485771L75.112618,120.53339L75.064999,120.581009L75.01738,120.676247L75.01738,120.914342L75.064999,121.00958L75.112618,121.0572L75.207856,121.104819L75.49357,121.104819L75.588808,121.0572L75.636427,121.00958M74.588808,120.723866L73.826904,120.723866M72.874523,120.104819L73.350713,120.104819L73.398332,120.581009L73.350713,120.53339L73.255475,120.485771L73.01738,120.485771L72.922142,120.53339L72.874523,120.581009L72.826904,120.676247L72.826904,120.914342L72.874523,121.00958L72.922142,121.0572L73.01738,121.104819L73.255475,121.104819L73.350713,121.0572L73.398332,121.00958M72.541189,120.104819L72.207856,121.104819L71.874523,120.104819", "val": 1}, {"thickness": 0.15, "svgpath": "M66.554819,89.727142L66.554819,89.250952L65.554819,89.250952M66.031009,90.060476L66.031009,90.393809M66.554819,90.536666L66.554819,90.060476L65.554819,90.060476L65.554819,90.536666M66.554819,90.965238L65.554819,90.965238L65.554819,91.203333L65.602438,91.34619L65.697676,91.441428L65.792914,91.489047L65.98339,91.536666L66.126247,91.536666L66.316723,91.489047L66.411961,91.441428L66.5072,91.34619L66.554819,91.203333L66.554819,90.965238", "val": 1}, {"type": "segment", "start": [62.1, 92.12], "end": [64.9, 92.12], "width": 0.1}, {"type": "segment", "start": [64.9, 92.12], "end": [64.9, 88.62], "width": 0.1}, {"type": "segment", "start": [62.7, 91.97], "end": [64.3, 91.97], "width": 0.1}, {"type": "segment", "start": [64.3, 91.97], "end": [64.7, 91.57], "width": 0.1}, {"type": "segment", "start": [62.3, 91.57], "end": [62.7, 91.97], "width": 0.1}, {"type": "segment", "start": [64.7, 91.57], "end": [64.7, 89.17], "width": 0.1}, {"type": "segment", "start": [63.9, 89.24], "end": [64.4, 89.24], "width": 0.1}, {"type": "segment", "start": [62.3, 89.17], "end": [62.3, 91.57], "width": 0.1}, {"type": "segment", "start": [64.7, 89.17], "end": [64.3, 88.77], "width": 0.1}, {"type": "segment", "start": [64.15, 89.02], "end": [64.15, 89.47], "width": 0.1}, {"type": "segment", "start": [62.7, 88.77], "end": [62.3, 89.17], "width": 0.1}, {"type": "segment", "start": [63.5, 88.77], "end": [62.7, 88.77], "width": 0.1}, {"type": "segment", "start": [64.3, 88.77], "end": [63.5, 88.77], "width": 0.1}, {"type": "segment", "start": [62.1, 88.62], "end": [62.1, 92.12], "width": 0.1}, {"type": "segment", "start": [64.9, 88.62], "end": [62.1, 88.62], "width": 0.1}, {"thickness": 0.15, "svgpath": "M66.769819,96.472381L66.769819,96.567619L66.817438,96.662857L66.865057,96.710476L66.960295,96.758095L67.150771,96.805714L67.388866,96.805714L67.579342,96.758095L67.67458,96.710476L67.7222,96.662857L67.769819,96.567619L67.769819,96.472381L67.7222,96.377143L67.67458,96.329524L67.579342,96.281905L67.388866,96.234286L67.150771,96.234286L66.960295,96.281905L66.865057,96.329524L66.817438,96.377143L66.769819,96.472381", "val": 1}, {"thickness": 0.105, "svgpath": "M69.672159,95.877142L69.195968,95.543809M69.672159,95.305714L68.672159,95.305714L68.672159,95.686666L68.719778,95.781904L68.767397,95.829523L68.862635,95.877142L69.005492,95.877142L69.10073,95.829523L69.148349,95.781904L69.195968,95.686666L69.195968,95.305714M69.672159,96.353333L69.672159,96.543809L69.62454,96.639047L69.57692,96.686666L69.434063,96.781904L69.243587,96.829523L68.862635,96.829523L68.767397,96.781904L68.719778,96.734285L68.672159,96.639047L68.672159,96.448571L68.719778,96.353333L68.767397,96.305714L68.862635,96.258095L69.10073,96.258095L69.195968,96.305714L69.243587,96.353333L69.291206,96.448571L69.291206,96.639047L69.243587,96.734285L69.195968,96.781904L69.10073,96.829523M69.672159,97.305714L69.672159,97.49619L69.62454,97.591428L69.57692,97.639047L69.434063,97.734285L69.243587,97.781904L68.862635,97.781904L68.767397,97.734285L68.719778,97.686666L68.672159,97.591428L68.672159,97.400952L68.719778,97.305714L68.767397,97.258095L68.862635,97.210476L69.10073,97.210476L69.195968,97.258095L69.243587,97.305714L69.291206,97.400952L69.291206,97.591428L69.243587,97.686666L69.195968,97.734285L69.10073,97.781904"}, {"type": "segment", "start": [68.415, 98.12], "end": [70.015, 98.12], "width": 0.1}, {"type": "segment", "start": [70.015, 98.12], "end": [70.015, 94.92], "width": 0.1}, {"type": "segment", "start": [68.415, 94.92], "end": [68.415, 98.12], "width": 0.1}, {"type": "segment", "start": [70.015, 94.92], "end": [68.415, 94.92], "width": 0.1}]}}, "footprints": [{"ref": "SW2", "bbox": {"pos": [63.5, 125.095], "relpos": [-8.1577, -6.315], "size": [16.07, 12.55], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [57.1373, 122.555], "size": [3.048, 1.7272], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8128, 0.8128], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [69.6373, 122.555], "size": [3.048, 1.7272], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8128, 0.8128], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [57.1373, 127.555], "size": [3.048, 1.7272], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8128, 0.8128], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [69.6373, 127.555], "size": [3.048, 1.7272], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8128, 0.8128], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "board1", "bbox": {"pos": [62.03, 95.885], "relpos": [-17.96116, -45.672464], "size": [38.933364, 93.099142], "angle": 0.0}, "pads": [], "drawings": [], "layer": "F"}, {"ref": "D-PB0", "bbox": {"pos": [63.5, 90.17], "relpos": [-2.825, -1.775], "size": [5.15, 3.55], "angle": 90.0}, "pads": [{"layers": ["F"], "pos": [63.5, 91.948], "size": [1.8, 2.3], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [63.5, 88.646], "size": [1.5, 2.1], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "Jack1", "bbox": {"pos": [74.295, 112.395], "relpos": [-4.575, -6.075], "size": [9.15, 13.305], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [74.295, 107.475], "size": [2.6, 1.5], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "oblong", "drillsize": [1.5, 0.5], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [74.295, 115.775], "size": [2.6, 1.5], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "oblong", "drillsize": [1.5, 0.5], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [74.295, 118.875], "size": [2.6, 1.5], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "oblong", "drillsize": [1.5, 0.5], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "Jack2", "bbox": {"pos": [74.295, 67.31], "relpos": [-4.575, -6.075], "size": [9.15, 13.305], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [74.295, 62.39], "size": [2.6, 1.5], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "oblong", "drillsize": [1.5, 0.5], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [74.295, 70.69], "size": [2.6, 1.5], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "oblong", "drillsize": [1.5, 0.5], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [74.295, 73.79], "size": [2.6, 1.5], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "oblong", "drillsize": [1.5, 0.5], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "Jack5", "bbox": {"pos": [52.705, 67.31], "relpos": [-4.575, -6.075], "size": [9.15, 13.305], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [52.705, 62.39], "size": [2.6, 1.5], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "oblong", "drillsize": [1.5, 0.5], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [52.705, 70.69], "size": [2.6, 1.5], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "oblong", "drillsize": [1.5, 0.5], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [52.705, 73.79], "size": [2.6, 1.5], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "oblong", "drillsize": [1.5, 0.5], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "POT1-MAIN1", "bbox": {"pos": [63.5, 90.17], "relpos": [-6.2, -5.1], "size": [12.4, 13.6], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [58.7, 90.17], "size": [2.8, 3.5], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "oblong", "drillsize": [1.6, 2.2], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [68.3, 90.17], "size": [2.8, 3.5], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "oblong", "drillsize": [1.6, 2.2], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [61.0, 97.67], "size": [2.0, 2.0], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [63.5, 97.67], "size": [2.0, 2.0], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [66.0, 97.67], "size": [2.0, 2.0], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "U1", "bbox": {"pos": [54.61, 109.855], "relpos": [-1.575, -1.625], "size": [10.75, 10.85], "angle": 90.0}, "pads": [{"layers": ["F", "B"], "pos": [54.61, 109.855], "size": [1.8, 1.8], "angle": 90.0, "shape": "rect", "type": "th", "drillshape": "circle", "drillsize": [0.8, 0.8], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [57.15, 109.855], "size": [1.8, 1.8], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8, 0.8], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [59.69, 109.855], "size": [1.8, 1.8], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8, 0.8], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [62.23, 109.855], "size": [1.8, 1.8], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8, 0.8], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [62.23, 102.235], "size": [1.8, 1.8], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8, 0.8], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [59.69, 102.235], "size": [1.8, 1.8], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8, 0.8], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [57.15, 102.235], "size": [1.8, 1.8], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8, 0.8], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [54.61, 102.235], "size": [1.8, 1.8], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.8, 0.8], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "SW3", "bbox": {"pos": [63.5, 135.255], "relpos": [-4.1656, -8.62], "size": [8.3312, 17.24], "angle": -90.0}, "pads": [{"layers": ["F", "B"], "pos": [63.5, 135.255], "size": [8.0, 8.0], "angle": 270.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [7.62, 7.62], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [71.12, 135.255], "size": [4.0, 2.0], "angle": 270.0, "shape": "oval", "type": "th", "drillshape": "oblong", "drillsize": [3.0, 1.2], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [55.88, 135.255], "size": [4.0, 2.0], "angle": 270.0, "shape": "oval", "type": "th", "drillshape": "oblong", "drillsize": [3.0, 1.2], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C1", "bbox": {"pos": [74.39, 111.76], "relpos": [-2.819, -1.08], "size": [5.638, 2.16], "angle": 180.0}, "pads": [{"layers": ["B"], "pos": [76.168, 111.76], "size": [1.4, 1.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [72.612, 111.76], "size": [1.4, 1.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "C2", "bbox": {"pos": [59.69, 106.68], "relpos": [-2.819, -1.08], "size": [5.638, 2.16], "angle": 0.0}, "pads": [{"layers": ["B"], "pos": [57.912, 106.68], "size": [1.4, 1.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [61.468, 106.68], "size": [1.4, 1.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "C3", "bbox": {"pos": [52.705, 66.675], "relpos": [-2.819, -1.08], "size": [5.638, 2.16], "angle": 0.0}, "pads": [{"layers": ["B"], "pos": [50.927, 66.675], "size": [1.4, 1.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [54.483, 66.675], "size": [1.4, 1.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "C4", "bbox": {"pos": [51.435, 123.19], "relpos": [-2.819, -1.08], "size": [5.638, 2.16], "angle": 180.0}, "pads": [{"layers": ["B"], "pos": [53.213, 123.19], "size": [1.4, 1.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [49.657, 123.19], "size": [1.4, 1.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "R1", "bbox": {"pos": [52.07, 115.57], "relpos": [-2.819, -1.13], "size": [5.638, 2.26], "angle": 90.0}, "pads": [{"layers": ["B"], "pos": [52.07, 117.348], "size": [1.3, 1.7], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [52.07, 113.792], "size": [1.3, 1.7], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "R2", "bbox": {"pos": [55.88, 115.57], "relpos": [-2.819, -1.13], "size": [5.638, 2.26], "angle": -90.0}, "pads": [{"layers": ["B"], "pos": [55.88, 113.792], "size": [1.3, 1.7], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [55.88, 117.348], "size": [1.3, 1.7], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "R3", "bbox": {"pos": [59.69, 115.57], "relpos": [-2.819, -1.13], "size": [5.638, 2.26], "angle": -90.0}, "pads": [{"layers": ["B"], "pos": [59.69, 113.792], "size": [1.3, 1.7], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [59.69, 117.348], "size": [1.3, 1.7], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "R8", "bbox": {"pos": [56.515, 96.52], "relpos": [-2.819, -1.13], "size": [5.638, 2.26], "angle": -90.0}, "pads": [{"layers": ["B"], "pos": [56.515, 94.742], "size": [1.3, 1.7], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [56.515, 98.298], "size": [1.3, 1.7], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "R14", "bbox": {"pos": [71.755, 96.52], "relpos": [-2.819, -1.13], "size": [5.638, 2.26], "angle": 90.0}, "pads": [{"layers": ["B"], "pos": [71.755, 98.298], "size": [1.3, 1.7], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [71.755, 94.742], "size": [1.3, 1.7], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "J4", "bbox": {"pos": [74.295, 124.46], "relpos": [-1.549, -3.073], "size": [5.638, 5.13], "angle": 0.0}, "pads": [{"layers": ["B"], "pos": [74.295, 124.46], "size": [1.51, 3.01], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [76.835, 124.46], "size": [1.51, 3.01], "angle": 0.0, "shape": "oval", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "D-PB1", "bbox": {"pos": [63.5, 90.17], "relpos": [-2.825, -1.775], "size": [5.15, 3.55], "angle": 90.0}, "pads": [{"layers": ["B"], "pos": [63.5, 91.948], "size": [1.8, 2.3], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [63.5, 88.646], "size": [1.5, 2.1], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "logo1", "bbox": {"pos": [63.5, 66.675], "relpos": [-4.776919, -5.882182], "size": [9.873678, 11.691082], "angle": 180.0}, "pads": [], "drawings": [{"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-0.809355, -1.679298], [-0.805703, -1.681964], [-0.788753, -1.696539], [-0.791778, -1.707678], [-0.80645, -1.71966], [-0.8332, -1.736637], [-0.846666, -1.733382], [-0.850831, -1.708297], [-0.8509, -1.7018], [-0.847473, -1.672427], [-0.834814, -1.665449], [-0.809355, -1.679298]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-4.214507, -3.154357], [-4.11939, -3.178363], [-4.029392, -3.221972], [-3.957764, -3.276376], [-3.912804, -3.330856], [-3.872019, -3.405513], [-3.837662, -3.495199], [-3.811986, -3.594764], [-3.807218, -3.620417], [-3.800586, -3.666342], [-3.799283, -3.704599], [-3.803925, -3.744936], [-3.815129, -3.797099], [-3.819541, -3.815213], [-3.847248, -3.904145], [-3.883155, -3.972438], [-3.931022, -4.024461], [-3.994614, -4.064587], [-4.056005, -4.089894], [-4.124454, -4.106072], [-4.206164, -4.113487], [-4.290466, -4.111896], [-4.366692, -4.101053], [-4.3815, -4.097352], [-4.485303, -4.057257], [-4.572295, -3.999239], [-4.641115, -3.924402], [-4.68166, -3.854284], [-4.711627, -3.759922], [-4.718667, -3.685278], [-4.330106, -3.685278], [-4.327159, -3.732851], [-4.325992, -3.738132], [-4.307199, -3.77736], [-4.277833, -3.802385], [-4.244188, -3.810574], [-4.212557, -3.79929], [-4.202702, -3.789746], [-4.192983, -3.764081], [-4.187609, -3.720744], [-4.186437, -3.667062], [-4.189324, -3.610363], [-4.196126, -3.557975], [-4.2067, -3.517226], [-4.208096, -3.513747], [-4.228965, -3.479193], [-4.251443, -3.46993], [-4.275152, -3.48593], [-4.296658, -3.520732], [-4.313377, -3.568265], [-4.325019, -3.626765], [-4.330106, -3.685278], [-4.718667, -3.685278], [-4.721314, -3.657217], [-4.711785, -3.551593], [-4.684106, -3.448474], [-4.63934, -3.353283], [-4.578554, -3.271444], [-4.564387, -3.256981], [-4.489682, -3.201266], [-4.403741, -3.165678], [-4.310653, -3.150085], [-4.214507, -3.154357]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[0.908021, -3.161407], [0.958236, -3.175861], [1.043762, -3.21424], [1.109278, -3.259514], [1.160052, -3.316088], [1.1938, -3.372847], [1.239897, -3.480516], [1.269202, -3.585675], [1.280426, -3.682997], [1.279062, -3.724802], [1.262041, -3.831348], [1.230867, -3.91836], [1.184036, -3.988332], [1.120046, -4.043756], [1.069262, -4.072808], [1.029625, -4.090306], [0.992158, -4.10126], [0.948174, -4.10738], [0.888986, -4.110375], [0.876723, -4.110698], [0.817545, -4.11074], [0.762387, -4.108363], [0.720036, -4.104037], [0.707973, -4.101699], [0.627578, -4.071714], [0.549711, -4.024896], [0.480521, -3.966217], [0.426158, -3.900651], [0.399909, -3.852587], [0.369334, -3.747881], [0.364178, -3.665779], [0.756495, -3.665779], [0.760494, -3.732065], [0.774762, -3.776763], [0.800532, -3.802025], [0.839038, -3.809999], [0.839183, -3.81], [0.864324, -3.805633], [0.880082, -3.787924], [0.889683, -3.763479], [0.897558, -3.718741], [0.89895, -3.660033], [0.894501, -3.597622], [0.884851, -3.541778], [0.873776, -3.508646], [0.852321, -3.479033], [0.829263, -3.47202], [0.806509, -3.485049], [0.785969, -3.515564], [0.769551, -3.561008], [0.759162, -3.618823], [0.756495, -3.665779], [0.364178, -3.665779], [0.36236, -3.636847], [0.378855, -3.522209], [0.418686, -3.406691], [0.421876, -3.399657], [0.467138, -3.322668], [0.525851, -3.25476], [0.592389, -3.201455], [0.655861, -3.169997], [0.733982, -3.153339], [0.821836, -3.15055], [0.908021, -3.161407]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-2.982066, -4.627408], [-2.903628, -4.641946], [-2.806142, -4.675214], [-2.715669, -4.721059], [-2.637013, -4.776203], [-2.57498, -4.83737], [-2.539678, -4.890131], [-2.496733, -4.985502], [-2.461483, -5.086078], [-2.435462, -5.185703], [-2.420206, -5.278218], [-2.417249, -5.35747], [-2.4187, -5.375278], [-2.431618, -5.451164], [-2.452295, -5.529048], [-2.478211, -5.601593], [-2.50684, -5.661462], [-2.527911, -5.692835], [-2.603975, -5.765175], [-2.696612, -5.81917], [-2.804327, -5.85433], [-2.925627, -5.870163], [-3.056229, -5.866457], [-3.182555, -5.842946], [-3.294272, -5.799943], [-3.390392, -5.739399], [-3.469924, -5.663263], [-3.531878, -5.573484], [-3.575265, -5.472011], [-3.599096, -5.360796], [-3.601428, -5.276227], [-3.096253, -5.276227], [-3.095773, -5.348474], [-3.083714, -5.408474], [-3.08094, -5.41566], [-3.054579, -5.457135], [-3.020692, -5.481019], [-2.984678, -5.485828], [-2.951939, -5.470081], [-2.938881, -5.454646], [-2.922412, -5.412828], [-2.913337, -5.353841], [-2.911455, -5.284758], [-2.916566, -5.212649], [-2.92847, -5.144585], [-2.946966, -5.087636], [-2.949428, -5.082285], [-2.973247, -5.052674], [-3.002169, -5.04504], [-3.030216, -5.060152], [-3.03863, -5.070822], [-3.066641, -5.128921], [-3.086195, -5.200216], [-3.096253, -5.276227], [-3.601428, -5.276227], [-3.602379, -5.241786], [-3.584127, -5.116931], [-3.543347, -4.988181], [-3.524398, -4.944347], [-3.464615, -4.842595], [-3.388927, -4.75863], [-3.300082, -4.693791], [-3.200826, -4.649416], [-3.093905, -4.626842], [-2.982066, -4.627408]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-0.445712, -4.636839], [-0.328408, -4.673331], [-0.211513, -4.734542], [-0.194649, -4.745467], [-0.139231, -4.789507], [-0.092411, -4.843965], [-0.051467, -4.913072], [-0.013674, -5.001057], [0.006274, -5.057582], [0.040262, -5.175483], [0.057882, -5.280233], [0.059177, -5.378069], [0.044188, -5.47523], [0.012957, -5.577951], [0.009835, -5.586391], [-0.035718, -5.673425], [-0.100744, -5.745764], [-0.183406, -5.802536], [-0.281869, -5.842866], [-0.394296, -5.865884], [-0.518852, -5.870717], [-0.579886, -5.866577], [-0.706694, -5.842574], [-0.819408, -5.798407], [-0.9166, -5.735891], [-0.996837, -5.65684], [-1.05869, -5.563068], [-1.100729, -5.456391], [-1.121522, -5.338622], [-1.121044, -5.306343], [-0.615716, -5.306343], [-0.612169, -5.366001], [-0.602906, -5.414377], [-0.592569, -5.438031], [-0.558619, -5.471925], [-0.519898, -5.484787], [-0.482022, -5.475686], [-0.462344, -5.459636], [-0.451258, -5.443823], [-0.444108, -5.422262], [-0.440088, -5.389556], [-0.43839, -5.340312], [-0.43815, -5.297711], [-0.441772, -5.207407], [-0.451988, -5.135619], [-0.467829, -5.083355], [-0.488323, -5.051625], [-0.512499, -5.041437], [-0.539387, -5.053802], [-0.568016, -5.089727], [-0.592169, -5.137614], [-0.605706, -5.184357], [-0.613559, -5.243198], [-0.615716, -5.306343], [-1.121044, -5.306343], [-1.11964, -5.211577], [-1.116505, -5.185853], [-1.088694, -5.055845], [-1.044036, -4.939418], [-0.983918, -4.838736], [-0.909726, -4.755964], [-0.822844, -4.693263], [-0.790428, -4.676795], [-0.677687, -4.63846], [-0.56246, -4.625179], [-0.445712, -4.636839]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[3.941714, -3.139276], [4.01454, -3.161236], [4.079118, -3.192684], [4.13298, -3.231862], [4.173658, -3.277011], [4.198683, -3.326374], [4.205587, -3.378193], [4.191902, -3.43071], [4.160225, -3.476811], [4.133586, -3.503705], [4.110366, -3.517886], [4.080497, -3.523386], [4.04182, -3.52425], [3.978784, -3.516715], [3.924874, -3.496052], [3.885569, -3.465174], [3.867307, -3.431456], [3.856255, -3.410725], [3.844456, -3.406872], [3.833968, -3.422792], [3.825066, -3.461409], [3.818084, -3.520051], [3.813356, -3.596047], [3.811378, -3.670935], [3.812643, -3.738017], [3.820159, -3.782326], [3.836503, -3.805126], [3.864253, -3.807683], [3.905986, -3.791262], [3.964279, -3.757128], [3.97417, -3.750841], [4.02794, -3.718658], [4.068307, -3.700389], [4.101263, -3.693549], [4.112719, -3.693415], [4.167766, -3.705717], [4.20685, -3.736929], [4.229177, -3.785591], [4.233956, -3.850242], [4.226608, -3.903414], [4.200786, -3.967758], [4.154202, -4.023949], [4.09125, -4.067373], [4.056285, -4.082405], [3.990859, -4.099042], [3.913766, -4.108639], [3.833912, -4.110944], [3.760204, -4.105707], [3.701546, -4.092676], [3.700825, -4.09242], [3.61492, -4.049126], [3.539652, -3.986784], [3.499792, -3.93836], [3.454239, -3.854798], [3.427861, -3.761741], [3.42009, -3.656108], [3.428221, -3.550097], [3.44671, -3.447056], [3.473162, -3.363245], [3.509758, -3.293162], [3.551499, -3.239125], [3.587963, -3.201977], [3.622421, -3.177309], [3.66534, -3.158619], [3.698427, -3.1479], [3.781189, -3.13085], [3.863107, -3.128561], [3.941714, -3.139276]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-3.283948, -3.139411], [-3.216178, -3.142976], [-3.165962, -3.148418], [-3.125458, -3.157212], [-3.086821, -3.170834], [-3.063726, -3.180827], [-2.982549, -3.228557], [-2.920228, -3.28778], [-2.876716, -3.35519], [-2.851964, -3.427481], [-2.845923, -3.501346], [-2.858546, -3.573481], [-2.889785, -3.640577], [-2.939592, -3.699331], [-3.007918, -3.746434], [-3.072337, -3.772448], [-3.127224, -3.787685], [-3.182666, -3.800789], [-3.221479, -3.808066], [-3.28295, -3.817054], [-3.27858, -3.903261], [-3.279742, -3.9766], [-3.292587, -4.030169], [-3.318327, -4.06734], [-3.343949, -4.085039], [-3.395954, -4.102245], [-3.46017, -4.11], [-3.525008, -4.107727], [-3.574564, -4.096538], [-3.612079, -4.077786], [-3.641652, -4.054875], [-3.646108, -4.049699], [-3.668073, -4.007471], [-3.685122, -3.944936], [-3.697405, -3.860979], [-3.705074, -3.754483], [-3.708279, -3.624331], [-3.7084, -3.589694], [-3.707326, -3.479616], [-3.706584, -3.461375], [-3.32714, -3.461375], [-3.326785, -3.505463], [-3.324764, -3.544947], [-3.321115, -3.572596], [-3.316649, -3.5814], [-3.302023, -3.573229], [-3.276694, -3.552401], [-3.260455, -3.537267], [-3.222452, -3.494374], [-3.205942, -3.458605], [-3.209576, -3.425979], [-3.217623, -3.410956], [-3.241302, -3.389425], [-3.274256, -3.37445], [-3.30544, -3.370133], [-3.317803, -3.373767], [-3.322689, -3.388298], [-3.325789, -3.41991], [-3.32714, -3.461375], [-3.706584, -3.461375], [-3.703753, -3.391876], [-3.697156, -3.323485], [-3.687008, -3.271457], [-3.672783, -3.232807], [-3.653957, -3.204546], [-3.637942, -3.18949], [-3.597769, -3.169296], [-3.536675, -3.153665], [-3.458825, -3.143187], [-3.368386, -3.138451], [-3.283948, -3.139411]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[2.18266, -3.152447], [2.215864, -3.170341], [2.253011, -3.202102], [2.265255, -3.214127], [2.327311, -3.276183], [2.320712, -3.457366], [2.315428, -3.556899], [2.306569, -3.639434], [2.292518, -3.713299], [2.27166, -3.786818], [2.242378, -3.86832], [2.239482, -3.875798], [2.195521, -3.966058], [2.141393, -4.03391], [2.07462, -4.081152], [1.992722, -4.109586], [1.902193, -4.120667], [1.847712, -4.122179], [1.798473, -4.121949], [1.763579, -4.120055], [1.75895, -4.119456], [1.697711, -4.105508], [1.63164, -4.083485], [1.572735, -4.057679], [1.5494, -4.044496], [1.492335, -4.000639], [1.449892, -3.948083], [1.420697, -3.892391], [1.401727, -3.83061], [1.390039, -3.750926], [1.385389, -3.659697], [1.387535, -3.56328], [1.396234, -3.468032], [1.411243, -3.38031], [1.432319, -3.306472], [1.444153, -3.278573], [1.479607, -3.232451], [1.53233, -3.196439], [1.594905, -3.174672], [1.638726, -3.170115], [1.693879, -3.177994], [1.743727, -3.199019], [1.781363, -3.229266], [1.799084, -3.261135], [1.799851, -3.285464], [1.796159, -3.329618], [1.788602, -3.388533], [1.777774, -3.457142], [1.772776, -3.485527], [1.758811, -3.566218], [1.750199, -3.625836], [1.746586, -3.668056], [1.747618, -3.696557], [1.751105, -3.710818], [1.776072, -3.748031], [1.811147, -3.765479], [1.850221, -3.762947], [1.887188, -3.740222], [1.90616, -3.716244], [1.919119, -3.688257], [1.926682, -3.652283], [1.929966, -3.601453], [1.930352, -3.567188], [1.932774, -3.499335], [1.939343, -3.426384], [1.949093, -3.354386], [1.96106, -3.289392], [1.974278, -3.237456], [1.987783, -3.204628], [1.988287, -3.203841], [2.028604, -3.164321], [2.083115, -3.143681], [2.144672, -3.143294], [2.18266, -3.152447]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-2.24246, -3.143578], [-2.2163, -3.146472], [-2.21615, -3.146515], [-2.174657, -3.169517], [-2.153176, -3.205463], [-2.154027, -3.249671], [-2.158527, -3.262756], [-2.182896, -3.299762], [-2.222605, -3.325201], [-2.281661, -3.341324], [-2.304361, -3.344763], [-2.349442, -3.353666], [-2.374637, -3.369269], [-2.385439, -3.397263], [-2.387406, -3.430816], [-2.381381, -3.468437], [-2.364316, -3.485628], [-2.338321, -3.480431], [-2.335649, -3.478819], [-2.31355, -3.472482], [-2.275841, -3.468283], [-2.246438, -3.467294], [-2.18185, -3.474369], [-2.137046, -3.495624], [-2.112865, -3.530492], [-2.108604, -3.560096], [-2.11371, -3.595437], [-2.124704, -3.621067], [-2.166208, -3.657942], [-2.222109, -3.684348], [-2.282058, -3.69555], [-2.287762, -3.695652], [-2.323842, -3.696807], [-2.342353, -3.703713], [-2.351123, -3.721647], [-2.355193, -3.741112], [-2.357315, -3.782815], [-2.342851, -3.8084], [-2.309084, -3.820619], [-2.274571, -3.8227], [-2.216497, -3.829408], [-2.179032, -3.850087], [-2.161046, -3.885571], [-2.159, -3.907946], [-2.17099, -3.960042], [-2.204298, -4.008087], [-2.254932, -4.050167], [-2.318901, -4.084365], [-2.392212, -4.108768], [-2.470873, -4.121459], [-2.550893, -4.120524], [-2.58952, -4.114484], [-2.654407, -4.093584], [-2.706659, -4.059654], [-2.746993, -4.010935], [-2.776127, -3.945672], [-2.794779, -3.862105], [-2.803666, -3.758478], [-2.803504, -3.633032], [-2.801952, -3.5941], [-2.793941, -3.471219], [-2.782284, -3.371859], [-2.766526, -3.294341], [-2.746213, -3.236988], [-2.720891, -3.198122], [-2.690104, -3.176063], [-2.688554, -3.175427], [-2.661911, -3.16929], [-2.615775, -3.163086], [-2.555733, -3.157155], [-2.48737, -3.15184], [-2.416275, -3.147483], [-2.348034, -3.144426], [-2.288233, -3.14301], [-2.24246, -3.143578]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-0.053321, -3.128346], [0.03116, -3.144756], [0.10645, -3.176459], [0.16835, -3.223117], [0.205499, -3.271142], [0.219323, -3.297912], [0.220712, -3.318165], [0.209576, -3.344617], [0.204921, -3.353506], [0.177558, -3.389438], [0.141301, -3.419353], [0.136858, -3.421939], [0.10359, -3.43721], [0.075078, -3.439445], [0.040803, -3.43131], [0.002573, -3.414713], [-0.018589, -3.390018], [-0.023551, -3.378046], [-0.043517, -3.349318], [-0.071471, -3.339148], [-0.099748, -3.346088], [-0.120685, -3.368692], [-0.127, -3.397576], [-0.121331, -3.420622], [-0.102439, -3.445056], [-0.067497, -3.47335], [-0.01368, -3.507975], [0.0254, -3.530847], [0.111816, -3.583934], [0.176385, -3.632898], [0.221609, -3.680844], [0.249993, -3.730874], [0.264038, -3.78609], [0.26668, -3.829884], [0.256574, -3.903322], [0.225256, -3.964193], [0.171151, -4.015379], [0.161767, -4.021871], [0.05589, -4.078843], [-0.054559, -4.112099], [-0.166983, -4.121109], [-0.264723, -4.108737], [-0.356794, -4.082594], [-0.425893, -4.050337], [-0.474019, -4.010479], [-0.503176, -3.961532], [-0.512875, -3.924313], [-0.515158, -3.871258], [-0.501519, -3.83655], [-0.471149, -3.819761], [-0.423238, -3.820466], [-0.356975, -3.83824], [-0.352292, -3.839878], [-0.284506, -3.858912], [-0.232051, -3.863192], [-0.196773, -3.852866], [-0.180521, -3.828085], [-0.180167, -3.825971], [-0.181895, -3.809896], [-0.194924, -3.794299], [-0.223426, -3.775646], [-0.266208, -3.753097], [-0.361648, -3.696445], [-0.433521, -3.634093], [-0.483279, -3.564725], [-0.490819, -3.54965], [-0.515539, -3.470956], [-0.515264, -3.395562], [-0.490304, -3.324575], [-0.440972, -3.259105], [-0.399128, -3.222415], [-0.319894, -3.174265], [-0.233048, -3.142762], [-0.14279, -3.127569], [-0.053321, -3.128346]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[4.862835, -3.143653], [4.912101, -3.147962], [4.945748, -3.156428], [4.964391, -3.167443], [4.984469, -3.196112], [4.9911, -3.222253], [4.981287, -3.269858], [4.951085, -3.305879], [4.899348, -3.331199], [4.830388, -3.345985], [4.787474, -3.354996], [4.763133, -3.371521], [4.752315, -3.401685], [4.749973, -3.443516], [4.757459, -3.474492], [4.779897, -3.485023], [4.80695, -3.478935], [4.850996, -3.469512], [4.904823, -3.468707], [4.95667, -3.475888], [4.992315, -3.488888], [5.018785, -3.510422], [5.028511, -3.539287], [5.0292, -3.555912], [5.023979, -3.594704], [5.01134, -3.62661], [5.010589, -3.627718], [4.974565, -3.66024], [4.922282, -3.683943], [4.862336, -3.695235], [4.847967, -3.6957], [4.812778, -3.696886], [4.79509, -3.704276], [4.787011, -3.723613], [4.783625, -3.742521], [4.781895, -3.783566], [4.79524, -3.808412], [4.827012, -3.820312], [4.866232, -3.8227], [4.920475, -3.830488], [4.960838, -3.851775], [4.983579, -3.88344], [4.985106, -3.921764], [4.957275, -3.9836], [4.908114, -4.036555], [4.840738, -4.078628], [4.758269, -4.107821], [4.673721, -4.121429], [4.632658, -4.12368], [4.601702, -4.123496], [4.59105, -4.121955], [4.571, -4.116674], [4.537672, -4.110099], [4.529967, -4.108772], [4.474284, -4.087732], [4.423124, -4.047326], [4.382684, -3.99353], [4.363072, -3.947835], [4.348182, -3.878027], [4.338477, -3.790328], [4.334278, -3.691777], [4.335903, -3.589412], [4.342716, -3.49885], [4.353554, -3.406557], [4.364173, -3.335903], [4.375516, -3.283152], [4.388526, -3.244568], [4.404146, -3.216417], [4.418233, -3.199812], [4.434957, -3.185048], [4.453913, -3.174683], [4.480524, -3.167357], [4.520213, -3.161711], [4.578403, -3.156386], [4.597602, -3.154857], [4.707959, -3.147182], [4.795579, -3.14342], [4.862835, -3.143653]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-4.110767, -4.611552], [-4.035122, -4.629322], [-4.022315, -4.634012], [-3.926478, -4.683167], [-3.847053, -4.747404], [-3.804643, -4.797966], [-3.773048, -4.861801], [-3.764026, -4.926502], [-3.775451, -4.987916], [-3.8052, -5.041891], [-3.851151, -5.084275], [-3.911178, -5.110914], [-3.968351, -5.1181], [-4.037141, -5.109194], [-4.102134, -5.084861], [-4.156481, -5.048672], [-4.193331, -5.004201], [-4.195763, -4.999491], [-4.212528, -4.970622], [-4.226359, -4.960205], [-4.237754, -4.969503], [-4.247214, -4.999776], [-4.25524, -5.052288], [-4.26233, -5.128299], [-4.265716, -5.176047], [-4.270927, -5.278495], [-4.271199, -5.357826], [-4.266107, -5.415916], [-4.255225, -5.454644], [-4.23813, -5.475886], [-4.214397, -5.481521], [-4.19735, -5.478356], [-4.17564, -5.468419], [-4.139075, -5.448158], [-4.094035, -5.421184], [-4.072809, -5.407885], [-4.024055, -5.378078], [-3.97889, -5.352517], [-3.944643, -5.335277], [-3.935635, -5.33162], [-3.88776, -5.326173], [-3.833346, -5.336501], [-3.783033, -5.35967], [-3.756925, -5.380906], [-3.741513, -5.400692], [-3.732587, -5.423978], [-3.72848, -5.458071], [-3.727521, -5.509682], [-3.735639, -5.600773], [-3.761081, -5.675855], [-3.805693, -5.737475], [-3.871325, -5.788179], [-3.959822, -5.830512], [-3.960561, -5.830798], [-4.024015, -5.848261], [-4.103519, -5.859758], [-4.19077, -5.865052], [-4.277469, -5.863905], [-4.355312, -5.85608], [-4.409386, -5.84365], [-4.507885, -5.798152], [-4.594806, -5.731999], [-4.667514, -5.648309], [-4.723376, -5.550201], [-4.75976, -5.440793], [-4.763144, -5.424781], [-4.771845, -5.347383], [-4.771919, -5.253659], [-4.763727, -5.151042], [-4.747626, -5.046964], [-4.744032, -5.0292], [-4.708967, -4.910219], [-4.657867, -4.808998], [-4.591556, -4.726643], [-4.510858, -4.664264], [-4.450708, -4.634806], [-4.378149, -4.614876], [-4.291296, -4.604346], [-4.199164, -4.603232], [-4.110767, -4.611552]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[3.028956, -3.14765], [3.101013, -3.164308], [3.127454, -3.174758], [3.186693, -3.21081], [3.231334, -3.258498], [3.266496, -3.323765], [3.275613, -3.346728], [3.297895, -3.434805], [3.29651, -3.515461], [3.271716, -3.587572], [3.223771, -3.650012], [3.201626, -3.669328], [3.148647, -3.711288], [3.211036, -3.777256], [3.267402, -3.843064], [3.301772, -3.899124], [3.314608, -3.947556], [3.306373, -3.990479], [3.277526, -4.030013], [3.267998, -4.038873], [3.198637, -4.087727], [3.130579, -4.111277], [3.063728, -4.109506], [2.997986, -4.082396], [2.933257, -4.029931], [2.8829, -3.970713], [2.83845, -3.911168], [2.831909, -3.973161], [2.82053, -4.028523], [2.797382, -4.066177], [2.757926, -4.092766], [2.746782, -4.097717], [2.698772, -4.109525], [2.63833, -4.113245], [2.577107, -4.108866], [2.530884, -4.097958], [2.500753, -4.085938], [2.478575, -4.072496], [2.46303, -4.053749], [2.4528, -4.025815], [2.446565, -3.98481], [2.443007, -3.926853], [2.440806, -3.84806], [2.440461, -3.831806], [2.439842, -3.723007], [2.442294, -3.616607], [2.447495, -3.516561], [2.447587, -3.515468], [2.794, -3.515468], [2.79504, -3.560211], [2.797769, -3.5942], [2.8016, -3.610164], [2.801655, -3.610222], [2.819879, -3.612355], [2.850007, -3.601465], [2.884612, -3.581003], [2.911475, -3.559165], [2.938105, -3.527494], [2.943538, -3.499328], [2.927394, -3.46876], [2.904029, -3.443715], [2.875701, -3.418834], [2.854878, -3.40996], [2.832584, -3.413772], [2.827829, -3.415509], [2.809938, -3.42398], [2.799802, -3.436604], [2.79523, -3.459855], [2.79403, -3.500209], [2.794, -3.515468], [2.447587, -3.515468], [2.455122, -3.426825], [2.464854, -3.351356], [2.476369, -3.29411], [2.486739, -3.2639], [2.518682, -3.222467], [2.570922, -3.18976], [2.644874, -3.165123], [2.736668, -3.148582], [2.841381, -3.139424], [2.940611, -3.139234], [3.028956, -3.14765]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[3.4544, -4.626497], [3.536641, -4.629895], [3.600028, -4.634292], [3.651103, -4.64057], [3.696411, -4.649608], [3.742497, -4.662287], [3.7592, -4.667486], [3.830021, -4.691002], [3.880865, -4.710918], [3.916395, -4.729788], [3.941277, -4.750165], [3.960176, -4.774603], [3.962914, -4.778991], [3.979601, -4.822287], [3.987324, -4.875941], [3.985414, -4.928669], [3.974077, -4.96761], [3.95356, -4.990644], [3.9172, -5.009657], [3.861982, -5.02575], [3.784892, -5.040025], [3.769536, -5.04233], [3.718279, -5.05051], [3.676265, -5.058493], [3.650155, -5.064963], [3.645706, -5.066801], [3.641754, -5.081065], [3.642605, -5.116719], [3.648347, -5.17479], [3.659063, -5.2563], [3.664903, -5.296652], [3.676956, -5.380738], [3.685051, -5.445076], [3.689503, -5.494957], [3.690628, -5.535671], [3.688741, -5.572508], [3.684156, -5.610758], [3.683775, -5.6134], [3.664502, -5.701416], [3.635252, -5.774527], [3.597845, -5.828701], [3.578673, -5.845949], [3.537039, -5.86478], [3.478995, -5.874677], [3.412161, -5.874927], [3.353886, -5.866971], [3.278287, -5.841461], [3.221031, -5.79959], [3.181288, -5.740283], [3.158226, -5.662464], [3.152007, -5.605657], [3.151249, -5.564563], [3.152208, -5.506713], [3.154589, -5.43735], [3.158092, -5.361717], [3.162422, -5.285058], [3.167282, -5.212615], [3.172373, -5.149633], [3.177399, -5.101354], [3.182062, -5.073021], [3.18223, -5.072402], [3.18414, -5.058104], [3.17664, -5.049192], [3.154706, -5.043445], [3.113313, -5.038638], [3.103889, -5.037746], [3.025587, -5.023567], [2.9564, -4.997906], [2.902377, -4.963432], [2.878988, -4.938575], [2.86203, -4.904241], [2.850068, -4.860525], [2.848393, -4.849091], [2.852433, -4.794491], [2.878588, -4.748731], [2.92782, -4.710632], [2.981852, -4.685854], [3.067619, -4.657973], [3.155681, -4.639007], [3.252054, -4.6282], [3.36275, -4.624797], [3.4544, -4.626497]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-1.695048, -4.602759], [-1.597711, -4.620267], [-1.508121, -4.65189], [-1.429358, -4.695664], [-1.364503, -4.749626], [-1.316638, -4.811814], [-1.288842, -4.880264], [-1.282979, -4.928896], [-1.294293, -4.982905], [-1.326102, -5.036427], [-1.374255, -5.08283], [-1.383306, -5.089222], [-1.438622, -5.112352], [-1.503129, -5.117576], [-1.570166, -5.106701], [-1.633075, -5.081533], [-1.685195, -5.043879], [-1.718615, -4.998263], [-1.73424, -4.968677], [-1.745743, -4.959106], [-1.758161, -4.965873], [-1.760229, -4.967886], [-1.767487, -4.981223], [-1.773329, -5.007108], [-1.778075, -5.048565], [-1.782048, -5.108621], [-1.785569, -5.190304], [-1.786406, -5.214143], [-1.789024, -5.295583], [-1.790356, -5.355458], [-1.790135, -5.397586], [-1.788092, -5.425782], [-1.783958, -5.443861], [-1.777466, -5.455639], [-1.768792, -5.464535], [-1.750363, -5.476208], [-1.72833, -5.478453], [-1.698893, -5.469961], [-1.658255, -5.449419], [-1.602615, -5.415516], [-1.5748, -5.397591], [-1.527835, -5.368514], [-1.485077, -5.344654], [-1.453609, -5.329875], [-1.446331, -5.327503], [-1.394387, -5.32614], [-1.339063, -5.342408], [-1.290788, -5.37262], [-1.275804, -5.387765], [-1.258342, -5.410551], [-1.248679, -5.432084], [-1.245172, -5.460239], [-1.246178, -5.50289], [-1.247373, -5.524051], [-1.261855, -5.618306], [-1.293957, -5.695063], [-1.34526, -5.756413], [-1.417342, -5.804447], [-1.478881, -5.830517], [-1.533395, -5.844664], [-1.603038, -5.855295], [-1.680589, -5.862079], [-1.758829, -5.864686], [-1.830538, -5.862783], [-1.888498, -5.856042], [-1.91135, -5.850335], [-2.018977, -5.801841], [-2.111678, -5.733766], [-2.187595, -5.648311], [-2.24487, -5.547678], [-2.281644, -5.434066], [-2.287175, -5.405332], [-2.295517, -5.299341], [-2.28818, -5.174574], [-2.265233, -5.032185], [-2.264834, -5.030234], [-2.230255, -4.909569], [-2.179963, -4.808845], [-2.113841, -4.727955], [-2.031774, -4.666793], [-1.933646, -4.625253], [-1.81934, -4.603228], [-1.79705, -4.601328], [-1.695048, -4.602759]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[2.520979, -4.623205], [2.580478, -4.642533], [2.632786, -4.676618], [2.682644, -4.722098], [2.720561, -4.769985], [2.727078, -4.781312], [2.736623, -4.814365], [2.742933, -4.867289], [2.746029, -4.934767], [2.745932, -5.011479], [2.742662, -5.092105], [2.736239, -5.171328], [2.726683, -5.243828], [2.725278, -5.252104], [2.706272, -5.341412], [2.680325, -5.436216], [2.650224, -5.52764], [2.618757, -5.606805], [2.604475, -5.636887], [2.552143, -5.715803], [2.482554, -5.786281], [2.410312, -5.836461], [2.381102, -5.851808], [2.354985, -5.862339], [2.326052, -5.869071], [2.288393, -5.87302], [2.236097, -5.875202], [2.17805, -5.876386], [2.072477, -5.87574], [1.99032, -5.869752], [1.938566, -5.860576], [1.824206, -5.821123], [1.727639, -5.764893], [1.649864, -5.692845], [1.591879, -5.605936], [1.554685, -5.505123], [1.550979, -5.488949], [1.54017, -5.410784], [1.535927, -5.315388], [1.537775, -5.209938], [1.545242, -5.10161], [1.557853, -4.997579], [1.575134, -4.905019], [1.593921, -4.838497], [1.630937, -4.767802], [1.683868, -4.712945], [1.748295, -4.675205], [1.819799, -4.655862], [1.893961, -4.656195], [1.966363, -4.677484], [2.0243, -4.713897], [2.051779, -4.7391], [2.065318, -4.762542], [2.069735, -4.795128], [2.07003, -4.817399], [2.0675, -4.855413], [2.060653, -4.910934], [2.050521, -4.976638], [2.038134, -5.045201], [2.037537, -5.04825], [2.024895, -5.117967], [2.01433, -5.186329], [2.006933, -5.245558], [2.003799, -5.287877], [2.003789, -5.288427], [2.004393, -5.33263], [2.010032, -5.360405], [2.023519, -5.380624], [2.03699, -5.393202], [2.082575, -5.418097], [2.130847, -5.419794], [2.168946, -5.403079], [2.19711, -5.377764], [2.216429, -5.344978], [2.228281, -5.300022], [2.234044, -5.238197], [2.2352, -5.177142], [2.237501, -5.108036], [2.243831, -5.030113], [2.253326, -4.949154], [2.265121, -4.870939], [2.278356, -4.801247], [2.292165, -4.745858], [2.30458, -4.712607], [2.341215, -4.66763], [2.393699, -4.636669], [2.455724, -4.621327], [2.520979, -4.623205]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[-1.240508, -3.147561], [-1.190796, -3.161913], [-1.188593, -3.16298], [-1.155758, -3.184071], [-1.129558, -3.21299], [-1.109322, -3.252448], [-1.094381, -3.305155], [-1.084064, -3.37382], [-1.077701, -3.461152], [-1.074621, -3.569863], [-1.074131, -3.62585], [-1.074889, -3.733586], [-1.078745, -3.81979], [-1.086537, -3.888225], [-1.0991, -3.942659], [-1.117269, -3.986856], [-1.141881, -4.024583], [-1.169455, -4.055343], [-1.219085, -4.104972], [-1.309353, -4.099872], [-1.357551, -4.096299], [-1.388332, -4.090249], [-1.40967, -4.078629], [-1.429539, -4.058345], [-1.435828, -4.05081], [-1.456632, -4.021368], [-1.484703, -3.975965], [-1.515986, -3.921379], [-1.53992, -3.87695], [-1.607805, -3.747051], [-1.607178, -3.86425], [-1.609351, -3.938967], [-1.617953, -3.994045], [-1.634722, -4.034808], [-1.661396, -4.066579], [-1.6775, -4.079662], [-1.73339, -4.105964], [-1.796168, -4.109403], [-1.861296, -4.089805], [-1.8669, -4.087017], [-1.909976, -4.058663], [-1.941325, -4.020442], [-1.9558, -3.99415], [-1.966872, -3.970944], [-1.975002, -3.949211], [-1.980627, -3.924645], [-1.984185, -3.892941], [-1.986114, -3.849794], [-1.98685, -3.790899], [-1.986834, -3.72745], [-1.6256, -3.72745], [-1.61925, -3.7338], [-1.6129, -3.72745], [-1.61925, -3.7211], [-1.6256, -3.72745], [-1.986834, -3.72745], [-1.98683, -3.711952], [-1.986761, -3.68935], [-1.985342, -3.577528], [-1.981557, -3.487699], [-1.974902, -3.416521], [-1.964871, -3.360655], [-1.950957, -3.31676], [-1.932656, -3.281495], [-1.922912, -3.267628], [-1.874515, -3.221965], [-1.813646, -3.190602], [-1.747366, -3.175413], [-1.682739, -3.178271], [-1.640722, -3.192797], [-1.603681, -3.222096], [-1.562909, -3.271711], [-1.521119, -3.337388], [-1.481021, -3.414873], [-1.445778, -3.498701], [-1.434037, -3.527783], [-1.42779, -3.538526], [-1.42794, -3.531484], [-1.43224, -3.505271], [-1.438626, -3.461578], [-1.445984, -3.408122], [-1.449084, -3.384721], [-1.456075, -3.314328], [-1.454704, -3.262755], [-1.443514, -3.224377], [-1.421047, -3.19357], [-1.393502, -3.170245], [-1.352123, -3.152091], [-1.297704, -3.144409], [-1.240508, -3.147561]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[4.655666, -4.600936], [4.738815, -4.609606], [4.808812, -4.626087], [4.810818, -4.626773], [4.871973, -4.654257], [4.928798, -4.691146], [4.977359, -4.733523], [5.013721, -4.777473], [5.033949, -4.819077], [5.035368, -4.850296], [5.015234, -4.894159], [4.980579, -4.938541], [4.939406, -4.974614], [4.907333, -4.991501], [4.858018, -5.000006], [4.808824, -4.995747], [4.765993, -4.980884], [4.73577, -4.95758], [4.7244, -4.928171], [4.713366, -4.89743], [4.683259, -4.879713], [4.659267, -4.8768], [4.618708, -4.886884], [4.593257, -4.913224], [4.585546, -4.94995], [4.598209, -4.991193], [4.60392, -5.000189], [4.62205, -5.016711], [4.657589, -5.041901], [4.705549, -5.072444], [4.760942, -5.105026], [4.765845, -5.10779], [4.861197, -5.166289], [4.942747, -5.226313], [5.007906, -5.285511], [5.054086, -5.341532], [5.078655, -5.391875], [5.090648, -5.46006], [5.091759, -5.531603], [5.082405, -5.596864], [5.068048, -5.637333], [5.019972, -5.70406], [4.947884, -5.76303], [4.852002, -5.814095], [4.745287, -5.853253], [4.635887, -5.875016], [4.516042, -5.877182], [4.3942, -5.860204], [4.318232, -5.838918], [4.247362, -5.810196], [4.187277, -5.776965], [4.143665, -5.742151], [4.128974, -5.723735], [4.099802, -5.661996], [4.088148, -5.602831], [4.093713, -5.550708], [4.116197, -5.510098], [4.144674, -5.489565], [4.164626, -5.483145], [4.18764, -5.483297], [4.220048, -5.491069], [4.268186, -5.507511], [4.280709, -5.512098], [4.363764, -5.538342], [4.428632, -5.548782], [4.476937, -5.543508], [4.508211, -5.524788], [4.524417, -5.500554], [4.526423, -5.481693], [4.513061, -5.469145], [4.481631, -5.448], [4.436729, -5.421135], [4.382947, -5.39143], [4.378991, -5.38933], [4.297259, -5.343091], [4.235003, -5.299896], [4.187441, -5.255257], [4.149791, -5.204686], [4.117279, -5.14371], [4.091587, -5.065444], [4.083872, -4.984338], [4.094386, -4.908234], [4.108464, -4.87045], [4.154935, -4.800399], [4.221788, -4.735889], [4.304104, -4.680258], [4.39696, -4.636844], [4.493288, -4.609398], [4.57021, -4.600669], [4.655666, -4.600936]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[1.184668, -4.630198], [1.248771, -4.653467], [1.298016, -4.694215], [1.329089, -4.741061], [1.343412, -4.782186], [1.355886, -4.844215], [1.366323, -4.922706], [1.374536, -5.013218], [1.380337, -5.11131], [1.383539, -5.212538], [1.383955, -5.312463], [1.381396, -5.406642], [1.375676, -5.490634], [1.366608, -5.559996], [1.364184, -5.57266], [1.339596, -5.662239], [1.306358, -5.737943], [1.266645, -5.795467], [1.238897, -5.820709], [1.215261, -5.834694], [1.18791, -5.843088], [1.149771, -5.847202], [1.093773, -5.848347], [1.08973, -5.84835], [1.036167, -5.847936], [1.000925, -5.845365], [0.976928, -5.838644], [0.957098, -5.82578], [0.934357, -5.804779], [0.934078, -5.804508], [0.892925, -5.756343], [0.845956, -5.686755], [0.7949, -5.598575], [0.741485, -5.494635], [0.728769, -5.468211], [0.705066, -5.420347], [0.689367, -5.393056], [0.682344, -5.38738], [0.683085, -5.3975], [0.686939, -5.429132], [0.689979, -5.478311], [0.691804, -5.537185], [0.69215, -5.5753], [0.691228, -5.640815], [0.687837, -5.687619], [0.681032, -5.722351], [0.669872, -5.751654], [0.666014, -5.75945], [0.626905, -5.809365], [0.571801, -5.844702], [0.506764, -5.86348], [0.437856, -5.863715], [0.38735, -5.850558], [0.335095, -5.826826], [0.299149, -5.800514], [0.270804, -5.764632], [0.261746, -5.749691], [0.242373, -5.711442], [0.227447, -5.669348], [0.216584, -5.619946], [0.209396, -5.55977], [0.205499, -5.485357], [0.204505, -5.393242], [0.206029, -5.279962], [0.206597, -5.254692], [0.210732, -5.1288], [0.217258, -5.02537], [0.227145, -4.941501], [0.241361, -4.874295], [0.260875, -4.820851], [0.286657, -4.778271], [0.319674, -4.743656], [0.360895, -4.714105], [0.393341, -4.695825], [0.469518, -4.667049], [0.545541, -4.658649], [0.616134, -4.670594], [0.668917, -4.69743], [0.702893, -4.727869], [0.740541, -4.770295], [0.768868, -4.808555], [0.792081, -4.84711], [0.818901, -4.897154], [0.846678, -4.953009], [0.872764, -5.009], [0.89451, -5.059449], [0.909267, -5.098681], [0.9144, -5.120421], [0.918632, -5.129757], [0.921119, -5.128313], [0.922068, -5.11363], [0.918919, -5.080044], [0.912321, -5.033604], [0.908419, -5.010233], [0.893964, -4.906649], [0.889598, -4.820829], [0.895311, -4.754658], [0.910081, -4.711681], [0.951224, -4.666314], [1.010398, -4.636347], [1.084385, -4.623264], [1.102627, -4.6228], [1.184668, -4.630198]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [63.5, 66.675], "angle": 180.0, "polygons": [[[0.330602, 5.803829], [0.452673, 5.803572], [0.553502, 5.803066], [0.635168, 5.802249], [0.699751, 5.801057], [0.74933, 5.799428], [0.785983, 5.797298], [0.81179, 5.794605], [0.828829, 5.791285], [0.83918, 5.787276], [0.843642, 5.783943], [0.859425, 5.767321], [0.8637, 5.761718], [0.866029, 5.749184], [0.872674, 5.714065], [0.883186, 5.658725], [0.897113, 5.585528], [0.914007, 5.496838], [0.933417, 5.395018], [0.954894, 5.282434], [0.977985, 5.161447], [0.983837, 5.1308], [1.011799, 4.985019], [1.035649, 4.862311], [1.055815, 4.760759], [1.072725, 4.678445], [1.086808, 4.613452], [1.09849, 4.563861], [1.108199, 4.527755], [1.116364, 4.503217], [1.123413, 4.488329], [1.128608, 4.482018], [1.145774, 4.472801], [1.183751, 4.455423], [1.239732, 4.431072], [1.310911, 4.400937], [1.394482, 4.366205], [1.487638, 4.328065], [1.587573, 4.287704], [1.588222, 4.287443], [1.710018, 4.238891], [1.810252, 4.19965], [1.890731, 4.169076], [1.953262, 4.146529], [1.999652, 4.131364], [2.031707, 4.12294], [2.051235, 4.120614], [2.05569, 4.12118], [2.084494, 4.133232], [2.122602, 4.155136], [2.145864, 4.170829], [2.199522, 4.208812], [2.265985, 4.254803], [2.342764, 4.307169], [2.42737, 4.364274], [2.517313, 4.424482], [2.610105, 4.486159], [2.703255, 4.54767], [2.794275, 4.607378], [2.880676, 4.66365], [2.959967, 4.714849], [3.029659, 4.759341], [3.087264, 4.79549], [3.130292, 4.821661], [3.156254, 4.83622], [3.162592, 4.8387], [3.178248, 4.830358], [3.210018, 4.805174], [3.258153, 4.762917], [3.322905, 4.703355], [3.404526, 4.626256], [3.503269, 4.531387], [3.619384, 4.418516], [3.634168, 4.404073], [3.722696, 4.317337], [3.805826, 4.235494], [3.881751, 4.160348], [3.948666, 4.093707], [4.004765, 4.037376], [4.048242, 3.99316], [4.077293, 3.962865], [4.09011, 3.948297], [4.09042, 3.947793], [4.096243, 3.918435], [4.093569, 3.904149], [4.084789, 3.889607], [4.062866, 3.856386], [4.029249, 3.806599], [3.985386, 3.742357], [3.932724, 3.665775], [3.872713, 3.578962], [3.806801, 3.484033], [3.736435, 3.3831], [3.731665, 3.376272], [3.644345, 3.250884], [3.571086, 3.144732], [3.511028, 3.056498], [3.463313, 2.984862], [3.427081, 2.928506], [3.401472, 2.886111], [3.385626, 2.856358], [3.378685, 2.837928], [3.3782, 2.833892], [3.383183, 2.814778], [3.397218, 2.775705], [3.418929, 2.719872], [3.44694, 2.650483], [3.479875, 2.570737], [3.516361, 2.483837], [3.555021, 2.392984], [3.59448, 2.301379], [3.633363, 2.212224], [3.670294, 2.128719], [3.703899, 2.054067], [3.732802, 1.991469], [3.755627, 1.944126], [3.770999, 1.915239], [3.77581, 1.908347], [3.792277, 1.902058], [3.832184, 1.891839], [3.893929, 1.878018], [3.975912, 1.860923], [4.076533, 1.840883], [4.194189, 1.818226], [4.327282, 1.793282], [4.4145, 1.777241], [4.557419, 1.751032], [4.677366, 1.728775], [4.776387, 1.710025], [4.856525, 1.694336], [4.919826, 1.681262], [4.968334, 1.670357], [5.004095, 1.661174], [5.029152, 1.653268], [5.04555, 1.646192], [5.055335, 1.639502], [5.057775, 1.636931], [5.062896, 1.629214], [5.06717, 1.618064], [5.070671, 1.601291], [5.073476, 1.576705], [5.07566, 1.542117], [5.077301, 1.495337], [5.078473, 1.434175], [5.079253, 1.356444], [5.079716, 1.259951], [5.07994, 1.14251], [5.079999, 1.001928], [5.08, 0.99695], [5.079947, 0.855691], [5.079738, 0.737634], [5.079296, 0.640582], [5.078542, 0.562339], [5.077399, 0.500706], [5.075789, 0.453487], [5.073635, 0.418485], [5.07086, 0.393502], [5.067385, 0.376341], [5.063134, 0.364805], [5.058029, 0.356697], [5.057376, 0.355876], [5.049886, 0.348996], [5.037406, 0.342116], [5.017833, 0.334772], [4.989065, 0.326502], [4.949002, 0.316843], [4.895541, 0.305332], [4.826581, 0.291506], [4.740019, 0.274902], [4.633755, 0.255059], [4.505686, 0.231513], [4.42869, 0.217454], [4.272796, 0.188713], [4.138119, 0.163205], [4.025294, 0.141063], [3.934958, 0.122418], [3.867746, 0.107401], [3.824295, 0.096144], [3.805241, 0.088779], [3.804836, 0.088411], [3.796299, 0.072884], [3.779436, 0.036398], [3.755362, -0.018427], [3.725195, -0.08897], [3.690052, -0.17261], [3.651048, -0.266729], [3.609302, -0.368705], [3.594824, -0.404351], [3.541385, -0.537066], [3.497682, -0.647596], [3.463313, -0.737045], [3.437873, -0.806516], [3.420958, -0.85711], [3.412163, -0.889933], [3.411058, -0.906001], [3.419893, -0.921866], [3.441795, -0.956297], [3.475258, -1.007058], [3.518774, -1.071912], [3.570835, -1.148624], [3.629934, -1.234957], [3.694563, -1.328676], [3.746371, -1.40335], [3.814412, -1.501327], [3.878334, -1.593681], [3.936593, -1.67816], [3.987646, -1.75251], [4.029949, -1.814481], [4.061959, -1.861818], [4.082132, -1.89227], [4.088567, -1.902676], [4.097235, -1.930544], [4.087438, -1.957139], [4.08506, -1.960864], [4.072377, -1.975359], [4.043367, -2.005705], [3.999899, -2.050027], [3.94384, -2.106454], [3.87706, -2.173114], [3.801428, -2.248134], [3.71881, -2.32964], [3.632839, -2.414037], [3.525762, -2.518582], [3.435275, -2.606189], [3.360127, -2.678004], [3.299069, -2.735167], [3.250851, -2.778823], [3.214221, -2.810115], [3.18793, -2.830185], [3.170727, -2.840178], [3.165006, -2.841766], [3.152074, -2.839566], [3.130642, -2.830531], [3.099118, -2.813665], [3.055915, -2.787976], [2.999442, -2.752468], [2.928108, -2.706147], [2.840325, -2.648019], [2.734503, -2.57709], [2.642115, -2.514741], [2.535481, -2.443032], [2.436967, -2.377588], [2.348497, -2.319639], [2.271994, -2.270413], [2.20938, -2.231139], [2.16258, -2.203044], [2.133515, -2.187359], [2.125068, -2.1844], [2.105214, -2.190177], [2.067092, -2.206254], [2.014723, -2.230749], [1.952126, -2.261778], [1.883322, -2.297459], [1.880982, -2.2987], [1.811838, -2.334539], [1.748549, -2.365777], [1.695191, -2.390525], [1.655842, -2.406893], [1.634577, -2.412995], [1.634284, -2.413], [1.625928, -2.413361], [1.618873, -2.412968], [1.612037, -2.409601], [1.604341, -2.401044], [1.594706, -2.385077], [1.582051, -2.359484], [1.565297, -2.322045], [1.543365, -2.270544], [1.515173, -2.202763], [1.479643, -2.116482], [1.435695, -2.009485], [1.424072, -1.9812], [1.311844, -1.70815], [1.408397, -1.646307], [1.581903, -1.524751], [1.737381, -1.39306], [1.877103, -1.248526], [2.003341, -1.08844], [2.118367, -0.910096], [2.224451, -0.710786], [2.264035, -0.626471], [2.30256, -0.54071], [2.332634, -0.470682], [2.35655, -0.409652], [2.376603, -0.350886], [2.395086, -0.287649], [2.414293, -0.213206], [2.436519, -0.120823], [2.437075, -0.118471], [2.458835, -0.024942], [2.475319, 0.050918], [2.487557, 0.116042], [2.496584, 0.177365], [2.50343, 0.241821], [2.509128, 0.316343], [2.51426, 0.40005], [2.519164, 0.490787], [2.522056, 0.564926], [2.522772, 0.629614], [2.521145, 0.691997], [2.51701, 0.759222], [2.5102, 0.838436], [2.502163, 0.92075], [2.489894, 1.037521], [2.478157, 1.134471], [2.46587, 1.217128], [2.451955, 1.29102], [2.43533, 1.361675], [2.414917, 1.434621], [2.389635, 1.515386], [2.380582, 1.54305], [2.336662, 1.668721], [2.29252, 1.77735], [2.244194, 1.877021], [2.18772, 1.975814], [2.119135, 2.081813], [2.109376, 2.096172], [2.057843, 2.169896], [2.013181, 2.228732], [1.969309, 2.279642], [1.920148, 2.329587], [1.859617, 2.38553], [1.846026, 2.397681], [1.785894, 2.4503], [1.735669, 2.491208], [1.688512, 2.525002], [1.637583, 2.556279], [1.576044, 2.589636], [1.511948, 2.622226], [1.437941, 2.658602], [1.376446, 2.686647], [1.320041, 2.709052], [1.261306, 2.728504], [1.192822, 2.747692], [1.107168, 2.769305], [1.103641, 2.770169], [0.88265, 2.824299], [0.56515, 2.824893], [0.462497, 2.824753], [0.374611, 2.823574], [0.296711, 2.820841], [0.224018, 2.816044], [0.151751, 2.808669], [0.07513, 2.798203], [-0.010623, 2.784135], [-0.11029, 2.76595], [-0.228651, 2.743137], [-0.2667, 2.735672], [-0.365486, 2.715491], [-0.452312, 2.696267], [-0.524299, 2.678723], [-0.578566, 2.663583], [-0.612234, 2.651571], [-0.620863, 2.646618], [-0.615521, 2.635388], [-0.596388, 2.608178], [-0.566111, 2.568371], [-0.527338, 2.519349], [-0.482717, 2.464495], [-0.434895, 2.407191], [-0.416847, 2.385961], [-0.355748, 2.314471], [-0.269949, 2.332558], [-0.127097, 2.361214], [-0.000351, 2.383002], [0.118118, 2.398743], [0.236139, 2.409258], [0.361544, 2.415366], [0.502161, 2.417889], [0.5461, 2.418065], [0.646224, 2.418115], [0.725322, 2.417692], [0.787766, 2.416468], [0.837929, 2.414116], [0.880183, 2.410306], [0.918902, 2.404711], [0.958458, 2.397003], [1.003223, 2.386852], [1.02235, 2.382325], [1.15027, 2.346327], [1.254156, 2.304585], [1.334867, 2.256415], [1.393258, 2.201132], [1.430187, 2.138054], [1.446512, 2.066496], [1.447521, 2.043076], [1.442927, 1.993915], [1.431178, 1.945292], [1.427389, 1.935126], [1.386388, 1.862367], [1.323038, 1.785489], [1.239633, 1.70653], [1.138467, 1.62753], [1.021834, 1.550527], [0.943587, 1.505139], [0.902932, 1.484177], [0.846882, 1.457226], [0.782227, 1.427341], [0.715754, 1.39758], [0.65425, 1.371], [0.604502, 1.350657], [0.582369, 1.342459], [0.57721, 1.341386], [0.572841, 1.340571], [0.569623, 1.338053], [0.567917, 1.331871], [0.568084, 1.320064], [0.570484, 1.300673], [0.575479, 1.271735], [0.583429, 1.231291], [0.594695, 1.177379], [0.609639, 1.108039], [0.62862, 1.02131], [0.651999, 0.915231], [0.680138, 0.787842], [0.705936, 0.671004], [0.731003, 0.557025], [0.754284, 0.45043], [0.775221, 0.353834], [0.793253, 0.269856], [0.807821, 0.201111], [0.818364, 0.150215], [0.824324, 0.119786], [0.825475, 0.112204], [0.82417, 0.109414], [0.819667, 0.112868], [0.811059, 0.124069], [0.797441, 0.144516], [0.777907, 0.175711], [0.751551, 0.219156], [0.717467, 0.276352], [0.674749, 0.348799], [0.622491, 0.438], [0.559788, 0.545455], [0.485734, 0.672666], [0.444863, 0.74295], [0.388434, 0.839884], [0.33579, 0.930063], [0.288337, 1.011098], [0.247479, 1.0806], [0.214623, 1.136179], [0.191175, 1.175446], [0.178541, 1.196013], [0.176888, 1.198404], [0.158791, 1.202957], [0.136412, 1.198404], [0.105503, 1.18745], [0.160052, 0.94615], [0.177072, 0.869301], [0.191937, 0.799198], [0.203758, 0.740277], [0.211649, 0.696973], [0.21472, 0.673722], [0.214732, 0.6731], [0.212159, 0.666057], [0.203178, 0.667765], [0.186031, 0.679802], [0.158959, 0.703743], [0.120205, 0.741166], [0.068009, 0.793646], [0.000614, 0.86276], [-0.016394, 0.88032], [-0.24765, 1.119289], [-0.55245, 1.104663], [-0.651238, 1.1001], [-0.730041, 1.097108], [-0.794233, 1.095819], [-0.84919, 1.09636], [-0.900285, 1.098862], [-0.952892, 1.103455], [-1.012387, 1.110269], [-1.065852, 1.117055], [-1.14717, 1.128021], [-1.209755, 1.137945], [-1.260132, 1.148449], [-1.304829, 1.161155], [-1.350371, 1.177685], [-1.403284, 1.199661], [-1.410212, 1.202644], [-1.545972, 1.261214], [-1.598486, 1.346316], [-1.633654, 1.414385], [-1.649812, 1.477137], [-1.64636, 1.538597], [-1.6227, 1.602793], [-1.578229, 1.67375], [-1.542891, 1.719313], [-1.512071, 1.758163], [-1.495587, 1.783542], [-1.491, 1.801051], [-1.495866, 1.816287], [-1.498593, 1.820913], [-1.519458, 1.85108], [-1.549939, 1.890994], [-1.586409, 1.936376], [-1.625238, 1.982943], [-1.662799, 2.026418], [-1.695463, 2.062519], [-1.719602, 2.086967], [-1.731367, 2.0955], [-1.750664, 2.085766], [-1.781718, 2.058851], [-1.821442, 2.018188], [-1.86675, 1.967209], [-1.914557, 1.909348], [-1.961779, 1.848036], [-1.993721, 1.803628], [-2.095774, 1.635065], [-2.174705, 1.456007], [-2.230448, 1.266613], [-2.246912, 1.184129], [-2.25771, 1.118104], [-2.265244, 1.060822], [-2.269902, 1.00555], [-2.27207, 0.945555], [-2.272138, 0.874104], [-2.270494, 0.784465], [-2.270334, 0.777729], [-2.267396, 0.681448], [-2.263269, 0.603488], [-2.257235, 0.536776], [-2.248579, 0.474235], [-2.236583, 0.408793], [-2.229509, 0.37465], [-2.193938, 0.219477], [-2.156101, 0.080858], [-2.113105, -0.050045], [-2.062059, -0.182071], [-2.00306, -0.3175], [-1.891779, -0.541857], [-1.7693, -0.74865], [-1.633246, -0.9407], [-1.48124, -1.120832], [-1.310906, -1.291868], [-1.119867, -1.456632], [-0.912188, -1.613373], [-0.914233, -1.626452], [-0.925035, -1.659514], [-0.943228, -1.709245], [-0.967446, -1.772334], [-0.996322, -1.845468], [-1.02849, -1.925332], [-1.062584, -2.008616], [-1.097238, -2.092006], [-1.131086, -2.172189], [-1.162762, -2.245852], [-1.190899, -2.309683], [-1.214131, -2.360369], [-1.231092, -2.394597], [-1.240281, -2.408956], [-1.24798, -2.414694], [-1.25596, -2.417902], [-1.267221, -2.417332], [-1.284766, -2.411737], [-1.311597, -2.399869], [-1.350713, -2.380481], [-1.405118, -2.352327], [-1.477813, -2.314157], [-1.513219, -2.295525], [-1.581484, -2.260358], [-1.643594, -2.229771], [-1.695484, -2.205656], [-1.733087, -2.189903], [-1.75215, -2.1844], [-1.768075, -2.191331], [-1.80276, -2.211186], [-1.853993, -2.242552], [-1.919566, -2.284018], [-1.997269, -2.334172], [-2.084891, -2.391604], [-2.180223, -2.454901], [-2.269132, -2.5146], [-2.394295, -2.598612], [-2.503957, -2.671262], [-2.597252, -2.731998], [-2.673311, -2.780271], [-2.731266, -2.815529], [-2.770248, -2.83722], [-2.78939, -2.844796], [-2.789588, -2.8448], [-2.801336, -2.840636], [-2.821171, -2.827382], [-2.850344, -2.803895], [-2.890103, -2.76903], [-2.941697, -2.721644], [-3.006376, -2.660593], [-3.085388, -2.584733], [-3.179982, -2.49292], [-3.271538, -2.403475], [-3.37399, -2.303062], [-3.45968, -2.218771], [-3.53007, -2.149028], [-3.586624, -2.092264], [-3.630802, -2.046905], [-3.664069, -2.011381], [-3.687887, -1.984119], [-3.703718, -1.963549], [-3.713024, -1.948099], [-3.717269, -1.936196], [-3.717915, -1.92627], [-3.717702, -1.92405], [-3.708903, -1.903108], [-3.685344, -1.862304], [-3.647384, -1.802183], [-3.595383, -1.723294], [-3.5297, -1.626182], [-3.450695, -1.511395], [-3.374216, -1.401597], [-3.305271, -1.302542], [-3.241032, -1.209239], [-3.182946, -1.12386], [-3.132456, -1.048576], [-3.091009, -0.985559], [-3.060051, -0.936983], [-3.041026, -0.905018], [-3.0353, -0.892267], [-3.039958, -0.875511], [-3.053092, -0.838418], [-3.073447, -0.784112], [-3.099766, -0.715718], [-3.130794, -0.636358], [-3.165275, -0.549158], [-3.201951, -0.457241], [-3.239568, -0.363731], [-3.276869, -0.271753], [-3.312598, -0.18443], [-3.345499, -0.104887], [-3.374316, -0.036247], [-3.397792, 0.018364], [-3.414671, 0.055824], [-3.423034, 0.072062], [-3.446118, 0.096461], [-3.465164, 0.107336], [-3.482254, 0.111118], [-3.521759, 0.118954], [-3.581105, 0.130359], [-3.657716, 0.144849], [-3.749016, 0.161938], [-3.852431, 0.181142], [-3.965384, 0.201977], [-4.076727, 0.222392], [-4.195982, 0.244428], [-4.307852, 0.26555], [-4.409795, 0.285246], [-4.499274, 0.303004], [-4.573749, 0.318312], [-4.630679, 0.33066], [-4.667526, 0.339535], [-4.681574, 0.344248], [-4.685723, 0.3601], [-4.689374, 0.398382], [-4.692525, 0.456129], [-4.695175, 0.530376], [-4.69732, 0.618158], [-4.698959, 0.716512], [-4.70009, 0.822472], [-4.700712, 0.933074], [-4.700821, 1.045353], [-4.700417, 1.156345], [-4.699496, 1.263086], [-4.698058, 1.36261], [-4.6961, 1.451953], [-4.693619, 1.52815], [-4.690615, 1.588238], [-4.687085, 1.62925], [-4.683028, 1.648224], [-4.682453, 1.648923], [-4.666958, 1.653911], [-4.628975, 1.662872], [-4.571017, 1.675302], [-4.495599, 1.690698], [-4.405234, 1.708554], [-4.302437, 1.728367], [-4.189721, 1.749633], [-4.069678, 1.771832], [-3.925865, 1.798152], [-3.804975, 1.820289], [-3.704956, 1.838685], [-3.623756, 1.853779], [-3.559323, 1.866013], [-3.509605, 1.875825], [-3.472549, 1.883658], [-3.446102, 1.889952], [-3.428213, 1.895147], [-3.41683, 1.899683], [-3.4099, 1.904001], [-3.405371, 1.908542], [-3.401191, 1.913746], [-3.399553, 1.915668], [-3.390434, 1.931763], [-3.37251, 1.968499], [-3.347003, 2.023184], [-3.315141, 2.093124], [-3.278148, 2.175626], [-3.23725, 2.267996], [-3.193672, 2.367543], [-3.187709, 2.38125], [-3.137422, 2.497315], [-3.096661, 2.592421], [-3.064579, 2.668794], [-3.040329, 2.728661], [-3.023065, 2.774248], [-3.01194, 2.807782], [-3.006108, 2.83149], [-3.00472, 2.847598], [-3.006597, 2.8575], [-3.016184, 2.874081], [-3.038934, 2.909222], [-3.073357, 2.960739], [-3.117962, 3.026447], [-3.171256, 3.10416], [-3.231749, 3.191693], [-3.29795, 3.286862], [-3.36631, 3.38455], [-3.45072, 3.505168], [-3.521277, 3.6068], [-3.579017, 3.69104], [-3.624976, 3.759481], [-3.656495, 3.808028], [-2.858247, 3.808028], [-2.797549, 3.741659], [-2.752991, 3.69327], [-2.695247, 3.631096], [-2.625626, 3.556517], [-2.545439, 3.470914], [-2.455995, 3.375669], [-2.358604, 3.272163], [-2.254576, 3.161777], [-2.145221, 3.045894], [-2.031849, 2.925894], [-1.915769, 2.803158], [-1.798292, 2.679068], [-1.680727, 2.555006], [-1.564385, 2.432352], [-1.450574, 2.312488], [-1.340606, 2.196796], [-1.235789, 2.086657], [-1.137434, 1.983451], [-1.046851, 1.888561], [-0.965349, 1.803368], [-0.894239, 1.729253], [-0.834829, 1.667597], [-0.788431, 1.619783], [-0.756354, 1.587191], [-0.739908, 1.571202], [-0.738058, 1.569774], [-0.709934, 1.565963], [-0.66435, 1.564704], [-0.608086, 1.565652], [-0.54792, 1.568459], [-0.490634, 1.572779], [-0.443007, 1.578267], [-0.411819, 1.584574], [-0.4064, 1.586719], [-0.360956, 1.617573], [-0.317758, 1.658526], [-0.287014, 1.699807], [-0.285704, 1.702241], [-0.283534, 1.707195], [-0.282787, 1.712819], [-0.284375, 1.720044], [-0.289213, 1.729803], [-0.298214, 1.743028], [-0.31229, 1.76065], [-0.332356, 1.783602], [-0.359324, 1.812815], [-0.394108, 1.849222], [-0.437622, 1.893755], [-0.490777, 1.947345], [-0.554489, 2.010924], [-0.629669, 2.085425], [-0.717232, 2.17178], [-0.81809, 2.270919], [-0.933157, 2.383777], [-1.063347, 2.511283], [-1.209572, 2.654371], [-1.372746, 2.813972], [-1.430691, 2.870641], [-1.574508, 3.011207], [-1.713367, 3.146769], [-1.846183, 3.276275], [-1.971869, 3.398673], [-2.089339, 3.512909], [-2.197507, 3.617932], [-2.295286, 3.712689], [-2.38159, 3.796126], [-2.455333, 3.867192], [-2.515427, 3.924833], [-2.560788, 3.967998], [-2.590328, 3.995633], [-2.602961, 4.006686], [-2.603314, 4.00685], [-2.616776, 3.999252], [-2.645626, 3.978527], [-2.685715, 3.94778], [-2.732894, 3.910115], [-2.736184, 3.907439], [-2.858247, 3.808028], [-3.656495, 3.808028], [-3.660189, 3.813716], [-3.685694, 3.855338], [-3.702527, 3.88594], [-3.711723, 3.907116], [-3.714329, 3.9196], [-3.712994, 3.930116], [-3.707801, 3.942921], [-3.697289, 3.959589], [-3.679992, 3.981692], [-3.654446, 4.010803], [-3.619189, 4.048492], [-3.572756, 4.096334], [-3.513683, 4.1559], [-3.440507, 4.228763], [-3.351763, 4.316494], [-3.267982, 4.399025], [-3.15755, 4.507357], [-3.063839, 4.598497], [-2.985804, 4.67341], [-2.922403, 4.733059], [-2.872591, 4.778407], [-2.835326, 4.810418], [-2.809562, 4.830054], [-2.794257, 4.838281], [-2.791732, 4.838671], [-2.774723, 4.831587], [-2.738384, 4.811004], [-2.684251, 4.777905], [-2.61386, 4.733274], [-2.528749, 4.678092], [-2.430453, 4.613344], [-2.320508, 4.540012], [-2.2352, 4.482587], [-2.131065, 4.412472], [-2.032631, 4.346649], [-1.942028, 4.286509], [-1.861385, 4.233446], [-1.792833, 4.188851], [-1.738499, 4.154117], [-1.700515, 4.130636], [-1.681009, 4.119802], [-1.679608, 4.119298], [-1.659694, 4.121957], [-1.619758, 4.133537], [-1.563026, 4.152729], [-1.492725, 4.178225], [-1.412081, 4.208715], [-1.324321, 4.242892], [-1.232673, 4.279447], [-1.140361, 4.317071], [-1.050614, 4.354455], [-0.966658, 4.390291], [-0.891719, 4.423271], [-0.829025, 4.452086], [-0.781801, 4.475426], [-0.753275, 4.491985], [-0.746814, 4.497599], [-0.738632, 4.518613], [-0.726422, 4.564405], [-0.710247, 4.634683], [-0.69017, 4.729155], [-0.666251, 4.847531], [-0.638553, 4.989518], [-0.609269, 5.1435], [-0.578024, 5.307709], [-0.550641, 5.447875], [-0.527157, 5.563825], [-0.507609, 5.655387], [-0.492035, 5.722388], [-0.48047, 5.764654], [-0.47329, 5.781675], [-0.467337, 5.786697], [-0.457892, 5.790904], [-0.442836, 5.794368], [-0.420049, 5.797159], [-0.387411, 5.799351], [-0.342804, 5.801013], [-0.284107, 5.802218], [-0.2092, 5.803037], [-0.115965, 5.803542], [-0.002282, 5.803805], [0.133969, 5.803896], [0.185211, 5.8039], [0.330602, 5.803829]]]}}], "layer": "B"}, {"ref": "R99", "bbox": {"pos": [69.215, 96.52], "relpos": [-2.819, -1.13], "size": [5.638, 2.26], "angle": 90.0}, "pads": [{"layers": ["B"], "pos": [69.215, 98.298], "size": [1.3, 1.7], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [69.215, 94.742], "size": [1.3, 1.7], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "Ref**", "bbox": {"pos": [63.5, 80.645], "relpos": [-11.435, -3.9039], "size": [22.690812, 8.5063], "angle": 180.0}, "pads": [], "drawings": [], "layer": "B"}], "metadata": {"title": "working", "revision": "", "company": "", "date": "2023-09-08 17:29:06"}, "bom": {"both": [[["C1", 9], ["C2", 10], ["C3", 11]], [["C4", 12]], [["R1", 13], ["R2", 14], ["R3", 15]], [["R8", 16]], [["R14", 17]], [["R99", 21]], [["U1", 7]], [["SW2", 0]], [["Jack1", 3], ["Jack2", 4], ["Jack5", 5]], [["D-PB0", 2], ["D-PB1", 19]], [["board1", 1]], [["logo1", 20]], [["POT1-MAIN1", 6]], [["Ref**", 22]], [["J4", 18]]], "skipped": [8], "fields": {"0": ["SW_Push", "SW_PUSH-12mm_3D_new"], "1": ["SVG2SHENZHEN", "8Bit_YogyaNoise"], "2": ["LED", "LED_PLCC_2835_Handsoldering"], "3": ["JACK_2P", "PJ301M-12_dusjagr_3d"], "4": ["JACK_2P", "PJ301M-12_dusjagr_3d"], "5": ["JACK_2P", "PJ301M-12_dusjagr_3d"], "6": ["POT 10K lin", "RD901F-ALPHA-3D"], "7": ["ATTINY85-20SU", "DIP-8_Attiny_with_Socket_3d"], "9": ["100nF", "C_1206_3d"], "10": ["100nF", "C_1206_3d"], "11": ["100nF", "C_1206_3d"], "12": ["10uF", "C_1206_3d"], "13": ["22k", "R_1206_3d"], "14": ["22k", "R_1206_3d"], "15": ["22k", "R_1206_3d"], "16": ["330", "R_1206_3d"], "17": ["1K", "R_1206_3d"], "18": ["Con_3-5V", "Bat_connector_SMD"], "19": ["LED", "LED_PLCC_2835_Handsoldering"], "20": ["COCONUT", "Coconut_logo"], "21": ["0", "R_1206_3d"], "22": ["Val**", "NoiseBomb_logo"]}, "F": [[["U1", 7]], [["SW2", 0]], [["Jack1", 3], ["Jack2", 4], ["Jack5", 5]], [["board1", 1]], [["D-PB0", 2]], [["POT1-MAIN1", 6]]], "B": [[["C1", 9], ["C2", 10], ["C3", 11]], [["C4", 12]], [["R1", 13], ["R2", 14], ["R3", 15]], [["R8", 16]], [["R14", 17]], [["R99", 21]], [["D-PB1", 19]], [["logo1", 20]], [["Ref**", 22]], [["J4", 18]]]}, "font_data": {}, "ibom_version": "v2.6.0"}
///////////////////////////////////////////////

///////////////////////////////////////////////
/* Utility functions */

var storagePrefix = 'KiCad_HTML_BOM__' + pcbdata.metadata.title + '__' +
  pcbdata.metadata.revision + '__#';
var storage;

function initStorage(key) {
  try {
    window.localStorage.getItem("blank");
    storage = window.localStorage;
  } catch (e) {
    // localStorage not available
  }
  if (!storage) {
    try {
      window.sessionStorage.getItem("blank");
      storage = window.sessionStorage;
    } catch (e) {
      // sessionStorage also not available
    }
  }
}

function readStorage(key) {
  if (storage) {
    return storage.getItem(storagePrefix + key);
  } else {
    return null;
  }
}

function writeStorage(key, value) {
  if (storage) {
    storage.setItem(storagePrefix + key, value);
  }
}

function fancyDblClickHandler(el, onsingle, ondouble) {
  return function () {
    if (el.getAttribute("data-dblclick") == null) {
      el.setAttribute("data-dblclick", 1);
      setTimeout(function () {
        if (el.getAttribute("data-dblclick") == 1) {
          onsingle();
        }
        el.removeAttribute("data-dblclick");
      }, 200);
    } else {
      el.removeAttribute("data-dblclick");
      ondouble();
    }
  }
}

function smoothScrollToRow(rowid) {
  document.getElementById(rowid).scrollIntoView({
    behavior: "smooth",
    block: "center",
    inline: "nearest"
  });
}

function focusInputField(input) {
  input.scrollIntoView(false);
  input.focus();
  input.select();
}

function saveBomTable(output) {
  var text = '';
  for (var node of bomhead.childNodes[0].childNodes) {
    if (node.firstChild) {
      text += (output == 'csv' ? `"${node.firstChild.nodeValue}"` : node.firstChild.nodeValue);
    }
    if (node != bomhead.childNodes[0].lastChild) {
      text += (output == 'csv' ? ',' : '\t');
    }
  }
  text += '\n';
  for (var row of bombody.childNodes) {
    for (var cell of row.childNodes) {
      let val = '';
      for (var node of cell.childNodes) {
        if (node.nodeName == "INPUT") {
          if (node.checked) {
            val += '';
          }
        } else if ((node.nodeName == "MARK") || (node.nodeName == "A")) {
          val += node.firstChild.nodeValue;
        } else {
          val += node.nodeValue;
        }
      }
      if (output == 'csv') {
        val = val.replace(/\"/g, '\"\"'); // pair of double-quote characters
        if (isNumeric(val)) {
          val = +val;                     // use number
        } else {
          val = `"${val}"`;               // enclosed within double-quote
        }
      }
      text += val;
      if (cell != row.lastChild) {
        text += (output == 'csv' ? ',' : '\t');
      }
    }
    text += '\n';
  }

  if (output != 'clipboard') {
    // To file: csv or txt
    var blob = new Blob([text], {
      type: `text/${output}`
    });
    saveFile(`${pcbdata.metadata.title}.${output}`, blob);
  } else {
    // To clipboard
    var textArea = document.createElement("textarea");
    textArea.classList.add('clipboard-temp');
    textArea.value = text;

    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();

    try {
      if (document.execCommand('copy')) {
        console.log('Bom copied to clipboard.');
      }
    } catch (err) {
      console.log('Can not copy to clipboard.');
    }

    document.body.removeChild(textArea);
  }
}

function isNumeric(str) {
  /* https://stackoverflow.com/a/175787 */
  return (typeof str != "string" ? false : !isNaN(str) && !isNaN(parseFloat(str)));
}

function removeGutterNode(node) {
  for (var i = 0; i < node.childNodes.length; i++) {
    if (node.childNodes[i].classList &&
      node.childNodes[i].classList.contains("gutter")) {
      node.removeChild(node.childNodes[i]);
      break;
    }
  }
}

function cleanGutters() {
  removeGutterNode(document.getElementById("bot"));
  removeGutterNode(document.getElementById("canvasdiv"));
}

var units = {
  prefixes: {
    giga: ["G", "g", "giga", "Giga", "GIGA"],
    mega: ["M", "mega", "Mega", "MEGA"],
    kilo: ["K", "k", "kilo", "Kilo", "KILO"],
    milli: ["m", "milli", "Milli", "MILLI"],
    micro: ["U", "u", "micro", "Micro", "MICRO", "", ""], // different utf8 
    nano: ["N", "n", "nano", "Nano", "NANO"],
    pico: ["P", "p", "pico", "Pico", "PICO"],
  },
  unitsShort: ["R", "r", "", "F", "f", "H", "h"],
  unitsLong: [
    "OHM", "Ohm", "ohm", "ohms",
    "FARAD", "Farad", "farad",
    "HENRY", "Henry", "henry"
  ],
  getMultiplier: function (s) {
    if (this.prefixes.giga.includes(s)) return 1e9;
    if (this.prefixes.mega.includes(s)) return 1e6;
    if (this.prefixes.kilo.includes(s)) return 1e3;
    if (this.prefixes.milli.includes(s)) return 1e-3;
    if (this.prefixes.micro.includes(s)) return 1e-6;
    if (this.prefixes.nano.includes(s)) return 1e-9;
    if (this.prefixes.pico.includes(s)) return 1e-12;
    return 1;
  },
  valueRegex: null,
}

function initUtils() {
  var allPrefixes = units.prefixes.giga
    .concat(units.prefixes.mega)
    .concat(units.prefixes.kilo)
    .concat(units.prefixes.milli)
    .concat(units.prefixes.micro)
    .concat(units.prefixes.nano)
    .concat(units.prefixes.pico);
  var allUnits = units.unitsShort.concat(units.unitsLong);
  units.valueRegex = new RegExp("^([0-9\.]+)" +
    "\\s*(" + allPrefixes.join("|") + ")?" +
    "(" + allUnits.join("|") + ")?" +
    "(\\b.*)?$", "");
  units.valueAltRegex = new RegExp("^([0-9]*)" +
    "(" + units.unitsShort.join("|") + ")?" +
    "([GgMmKkUuNnPp])?" +
    "([0-9]*)" +
    "(\\b.*)?$", "");
  if (config.fields.includes("Value")) {
    var index = config.fields.indexOf("Value");
    pcbdata.bom["parsedValues"] = {};
    for (var id in pcbdata.bom.fields) {
      pcbdata.bom.parsedValues[id] = parseValue(pcbdata.bom.fields[id][index])
    }
  }
}

function parseValue(val, ref) {
  var inferUnit = (unit, ref) => {
    if (unit) {
      unit = unit.toLowerCase();
      if (unit == '' || unit == "ohm" || unit == "ohms") {
        unit = 'r';
      }
      unit = unit[0];
    } else {
      ref = /^([a-z]+)\d+$/i.exec(ref);
      if (ref) {
        ref = ref[1].toLowerCase();
        if (ref == "c") unit = 'f';
        else if (ref == "l") unit = 'h';
        else if (ref == "r" || ref == "rv") unit = 'r';
        else unit = null;
      }
    }
    return unit;
  };
  val = val.replace(/,/g, "");
  var match = units.valueRegex.exec(val);
  var unit;
  if (match) {
    val = parseFloat(match[1]);
    if (match[2]) {
      val = val * units.getMultiplier(match[2]);
    }
    unit = inferUnit(match[3], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[4],
    }
  }
  match = units.valueAltRegex.exec(val);
  if (match && (match[1] || match[4])) {
    val = parseFloat(match[1] + "." + match[4]);
    if (match[3]) {
      val = val * units.getMultiplier(match[3]);
    }
    unit = inferUnit(match[2], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[5],
    }
  }
  return null;
}

function valueCompare(a, b, stra, strb) {
  if (a === null && b === null) {
    // Failed to parse both values, compare them as strings.
    if (stra != strb) return stra > strb ? 1 : -1;
    else return 0;
  } else if (a === null) {
    return 1;
  } else if (b === null) {
    return -1;
  } else {
    if (a.unit != b.unit) return a.unit > b.unit ? 1 : -1;
    else if (a.val != b.val) return a.val > b.val ? 1 : -1;
    else if (a.extra != b.extra) return a.extra > b.extra ? 1 : -1;
    else return 0;
  }
}

function validateSaveImgDimension(element) {
  var valid = false;
  var intValue = 0;
  if (/^[1-9]\d*$/.test(element.value)) {
    intValue = parseInt(element.value);
    if (intValue <= 16000) {
      valid = true;
    }
  }
  if (valid) {
    element.classList.remove("invalid");
  } else {
    element.classList.add("invalid");
  }
  return intValue;
}

function saveImage(layer) {
  var width = validateSaveImgDimension(document.getElementById("render-save-width"));
  var height = validateSaveImgDimension(document.getElementById("render-save-height"));
  var bgcolor = null;
  if (!document.getElementById("render-save-transparent").checked) {
    var style = getComputedStyle(topmostdiv);
    bgcolor = style.getPropertyValue("background-color");
  }
  if (!width || !height) return;

  // Prepare image
  var canvas = document.createElement("canvas");
  var layerdict = {
    transform: {
      x: 0,
      y: 0,
      s: 1,
      panx: 0,
      pany: 0,
      zoom: 1,
    },
    bg: canvas,
    fab: canvas,
    silk: canvas,
    highlight: canvas,
    layer: layer,
  }
  // Do the rendering
  recalcLayerScale(layerdict, width, height);
  prepareLayer(layerdict);
  clearCanvas(canvas, bgcolor);
  drawBackground(layerdict, false);
  drawHighlightsOnLayer(layerdict, false);

  // Save image
  var imgdata = canvas.toDataURL("image/png");

  var filename = pcbdata.metadata.title;
  if (pcbdata.metadata.revision) {
    filename += `.${pcbdata.metadata.revision}`;
  }
  filename += `.${layer}.png`;
  saveFile(filename, dataURLtoBlob(imgdata));
}

function saveSettings() {
  var data = {
    type: "InteractiveHtmlBom settings",
    version: 1,
    pcbmetadata: pcbdata.metadata,
    settings: settings,
  }
  var blob = new Blob([JSON.stringify(data, null, 4)], {
    type: "application/json"
  });
  saveFile(`${pcbdata.metadata.title}.settings.json`, blob);
}

function loadSettings() {
  var input = document.createElement("input");
  input.type = "file";
  input.accept = ".settings.json";
  input.onchange = function (e) {
    var file = e.target.files[0];
    var reader = new FileReader();
    reader.onload = readerEvent => {
      var content = readerEvent.target.result;
      var newSettings;
      try {
        newSettings = JSON.parse(content);
      } catch (e) {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      if (newSettings.type != "InteractiveHtmlBom settings") {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      var metadataMatches = newSettings.hasOwnProperty("pcbmetadata");
      if (metadataMatches) {
        for (var k in pcbdata.metadata) {
          if (!newSettings.pcbmetadata.hasOwnProperty(k) || newSettings.pcbmetadata[k] != pcbdata.metadata[k]) {
            metadataMatches = false;
          }
        }
      }
      if (!metadataMatches) {
        var currentMetadata = JSON.stringify(pcbdata.metadata, null, 4);
        var fileMetadata = JSON.stringify(newSettings.pcbmetadata, null, 4);
        if (!confirm(
          `Settins file metadata does not match current metadata.\n\n` +
          `Page metadata:\n${currentMetadata}\n\n` +
          `Settings file metadata:\n${fileMetadata}\n\n` +
          `Press OK if you would like to import settings anyway.`)) {
          return;
        }
      }
      overwriteSettings(newSettings.settings);
    }
    reader.readAsText(file, 'UTF-8');
  }
  input.click();
}

function resetSettings() {
  if (!confirm(
    `This will reset all checkbox states and other settings.\n\n` +
    `Press OK if you want to continue.`)) {
    return;
  }
  if (storage) {
    var keys = [];
    for (var i = 0; i < storage.length; i++) {
      var key = storage.key(i);
      if (key.startsWith(storagePrefix)) keys.push(key);
    }
    for (var key of keys) storage.removeItem(key);
  }
  location.reload();
}

function overwriteSettings(newSettings) {
  initDone = false;
  Object.assign(settings, newSettings);
  writeStorage("bomlayout", settings.bomlayout);
  writeStorage("bommode", settings.bommode);
  writeStorage("canvaslayout", settings.canvaslayout);
  writeStorage("bomCheckboxes", settings.checkboxes.join(","));
  document.getElementById("bomCheckboxes").value = settings.checkboxes.join(",");
  for (var checkbox of settings.checkboxes) {
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
  }
  writeStorage("markWhenChecked", settings.markWhenChecked);
  padsVisible(settings.renderPads);
  document.getElementById("padsCheckbox").checked = settings.renderPads;
  fabricationVisible(settings.renderFabrication);
  document.getElementById("fabricationCheckbox").checked = settings.renderFabrication;
  silkscreenVisible(settings.renderSilkscreen);
  document.getElementById("silkscreenCheckbox").checked = settings.renderSilkscreen;
  referencesVisible(settings.renderReferences);
  document.getElementById("referencesCheckbox").checked = settings.renderReferences;
  valuesVisible(settings.renderValues);
  document.getElementById("valuesCheckbox").checked = settings.renderValues;
  tracksVisible(settings.renderTracks);
  document.getElementById("tracksCheckbox").checked = settings.renderTracks;
  zonesVisible(settings.renderZones);
  document.getElementById("zonesCheckbox").checked = settings.renderZones;
  dnpOutline(settings.renderDnpOutline);
  document.getElementById("dnpOutlineCheckbox").checked = settings.renderDnpOutline;
  setRedrawOnDrag(settings.redrawOnDrag);
  document.getElementById("dragCheckbox").checked = settings.redrawOnDrag;
  setDarkMode(settings.darkMode);
  document.getElementById("darkmodeCheckbox").checked = settings.darkMode;
  setHighlightPin1(settings.highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = settings.highlightpin1;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  setOffsetBackRotation(settings.offsetBackRotation);
  document.getElementById("offsetBackRotationCheckbox").checked = settings.offsetBackRotation;
  initDone = true;
  prepCheckboxes();
  changeBomLayout(settings.bomlayout);
}

function saveFile(filename, blob) {
  var link = document.createElement("a");
  var objurl = URL.createObjectURL(blob);
  link.download = filename;
  link.href = objurl;
  link.click();
}

function dataURLtoBlob(dataurl) {
  var arr = dataurl.split(','),
    mime = arr[0].match(/:(.*?);/)[1],
    bstr = atob(arr[1]),
    n = bstr.length,
    u8arr = new Uint8Array(n);
  while (n--) {
    u8arr[n] = bstr.charCodeAt(n);
  }
  return new Blob([u8arr], {
    type: mime
  });
}

var settings = {
  canvaslayout: "FB",
  bomlayout: "left-right",
  bommode: "grouped",
  checkboxes: [],
  checkboxStoredRefs: {},
  darkMode: false,
  highlightpin1: "none",
  redrawOnDrag: true,
  boardRotation: 0,
  offsetBackRotation: false,
  renderPads: true,
  renderReferences: true,
  renderValues: true,
  renderSilkscreen: true,
  renderFabrication: true,
  renderDnpOutline: false,
  renderTracks: true,
  renderZones: true,
  columnOrder: [],
  hiddenColumns: [],
  netColors: {},
}

function initDefaults() {
  settings.bomlayout = readStorage("bomlayout");
  if (settings.bomlayout === null) {
    settings.bomlayout = config.bom_view;
  }
  if (!['bom-only', 'left-right', 'top-bottom'].includes(settings.bomlayout)) {
    settings.bomlayout = config.bom_view;
  }
  settings.bommode = readStorage("bommode");
  if (settings.bommode === null) {
    settings.bommode = "grouped";
  }
  if (settings.bommode == "netlist" && !pcbdata.nets) {
    settings.bommode = "grouped";
  }
  if (!["grouped", "ungrouped", "netlist"].includes(settings.bommode)) {
    settings.bommode = "grouped";
  }
  settings.canvaslayout = readStorage("canvaslayout");
  if (settings.canvaslayout === null) {
    settings.canvaslayout = config.layer_view;
  }
  var bomCheckboxes = readStorage("bomCheckboxes");
  if (bomCheckboxes === null) {
    bomCheckboxes = config.checkboxes;
  }
  settings.checkboxes = bomCheckboxes.split(",").filter((e) => e);
  document.getElementById("bomCheckboxes").value = bomCheckboxes;

  var highlightpin1 = readStorage("highlightpin1") || config.highlight_pin1;
  if (highlightpin1 === "false") highlightpin1 = "none";
  if (highlightpin1 === "true") highlightpin1 = "all";
  setHighlightPin1(highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = highlightpin1;

  settings.markWhenChecked = readStorage("markWhenChecked") || "";
  populateMarkWhenCheckedOptions();

  function initBooleanSetting(storageString, def, elementId, func) {
    var b = readStorage(storageString);
    if (b === null) {
      b = def;
    } else {
      b = (b == "true");
    }
    document.getElementById(elementId).checked = b;
    func(b);
  }

  initBooleanSetting("padsVisible", config.show_pads, "padsCheckbox", padsVisible);
  initBooleanSetting("fabricationVisible", config.show_fabrication, "fabricationCheckbox", fabricationVisible);
  initBooleanSetting("silkscreenVisible", config.show_silkscreen, "silkscreenCheckbox", silkscreenVisible);
  initBooleanSetting("referencesVisible", true, "referencesCheckbox", referencesVisible);
  initBooleanSetting("valuesVisible", true, "valuesCheckbox", valuesVisible);
  if ("tracks" in pcbdata) {
    initBooleanSetting("tracksVisible", true, "tracksCheckbox", tracksVisible);
    initBooleanSetting("zonesVisible", true, "zonesCheckbox", zonesVisible);
  } else {
    document.getElementById("tracksAndZonesCheckboxes").style.display = "none";
    tracksVisible(false);
    zonesVisible(false);
  }
  initBooleanSetting("dnpOutline", false, "dnpOutlineCheckbox", dnpOutline);
  initBooleanSetting("redrawOnDrag", config.redraw_on_drag, "dragCheckbox", setRedrawOnDrag);
  initBooleanSetting("darkmode", config.dark_mode, "darkmodeCheckbox", setDarkMode);

  var fields = ["checkboxes", "References"].concat(config.fields).concat(["Quantity"]);
  var hcols = JSON.parse(readStorage("hiddenColumns"));
  if (hcols === null) {
    hcols = [];
  }
  settings.hiddenColumns = hcols.filter(e => fields.includes(e));

  var cord = JSON.parse(readStorage("columnOrder"));
  if (cord === null) {
    cord = fields;
  } else {
    cord = cord.filter(e => fields.includes(e));
    if (cord.length != fields.length)
      cord = fields;
  }
  settings.columnOrder = cord;

  settings.boardRotation = readStorage("boardRotation");
  if (settings.boardRotation === null) {
    settings.boardRotation = config.board_rotation * 5;
  } else {
    settings.boardRotation = parseInt(settings.boardRotation);
  }
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  initBooleanSetting("offsetBackRotation", config.offset_back_rotation, "offsetBackRotationCheckbox", setOffsetBackRotation);

  settings.netColors = JSON.parse(readStorage("netColors")) || {};
}

// Helper classes for user js callbacks.

const IBOM_EVENT_TYPES = {
  ALL: "all",
  HIGHLIGHT_EVENT: "highlightEvent",
  CHECKBOX_CHANGE_EVENT: "checkboxChangeEvent",
  BOM_BODY_CHANGE_EVENT: "bomBodyChangeEvent",
}

const EventHandler = {
  callbacks: {},
  init: function () {
    for (eventType of Object.values(IBOM_EVENT_TYPES))
      this.callbacks[eventType] = [];
  },
  registerCallback: function (eventType, callback) {
    this.callbacks[eventType].push(callback);
  },
  emitEvent: function (eventType, eventArgs) {
    event = {
      eventType: eventType,
      args: eventArgs,
    }
    var callback;
    for (callback of this.callbacks[eventType])
      callback(event);
    for (callback of this.callbacks[IBOM_EVENT_TYPES.ALL])
      callback(event);
  }
}
EventHandler.init();

///////////////////////////////////////////////

///////////////////////////////////////////////
/* PCB rendering code */

var emptyContext2d = document.createElement("canvas").getContext("2d");

function deg2rad(deg) {
  return deg * Math.PI / 180;
}

function calcFontPoint(linepoint, text, offsetx, offsety, tilt) {
  var point = [
    linepoint[0] * text.width + offsetx,
    linepoint[1] * text.height + offsety
  ];
  // This approximates pcbnew behavior with how text tilts depending on horizontal justification
  point[0] -= (linepoint[1] + 0.5 * (1 + text.justify[0])) * text.height * tilt;
  return point;
}

function drawText(ctx, text, color) {
  if ("ref" in text && !settings.renderReferences) return;
  if ("val" in text && !settings.renderValues) return;
  ctx.save();
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  ctx.lineWidth = text.thickness;
  if ("svgpath" in text) {
    ctx.stroke(new Path2D(text.svgpath));
    ctx.restore();
    return;
  }
  if ("polygons" in text) {
    ctx.fill(getPolygonsPath(text));
    ctx.restore();
    return;
  }
  ctx.translate(...text.pos);
  ctx.translate(text.thickness * 0.5, 0);
  var angle = -text.angle;
  if (text.attr.includes("mirrored")) {
    ctx.scale(-1, 1);
    angle = -angle;
  }
  var tilt = 0;
  if (text.attr.includes("italic")) {
    tilt = 0.125;
  }
  var interline = text.height * 1.5 + text.thickness;
  var txt = text.text.split("\n");
  // KiCad ignores last empty line.
  if (txt[txt.length - 1] == '') txt.pop();
  ctx.rotate(deg2rad(angle));
  var offsety = (1 - text.justify[1]) / 2 * text.height; // One line offset
  offsety -= (txt.length - 1) * (text.justify[1] + 1) / 2 * interline; // Multiline offset
  for (var i in txt) {
    var lineWidth = text.thickness + interline / 2 * tilt;
    for (var j = 0; j < txt[i].length; j++) {
      if (txt[i][j] == '\t') {
        var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
        lineWidth += fourSpaces - lineWidth % fourSpaces;
      } else {
        if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
        }
        lineWidth += pcbdata.font_data[txt[i][j]].w * text.width;
      }
    }
    var offsetx = -lineWidth * (text.justify[0] + 1) / 2;
    var inOverbar = false;
    for (var j = 0; j < txt[i].length; j++) {
      if (config.kicad_text_formatting) {
        if (txt[i][j] == '\t') {
          var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
          offsetx += fourSpaces - offsetx % fourSpaces;
          continue;
        } else if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
          if (txt[i][j] != '~') {
            inOverbar = !inOverbar;
          }
        }
      }
      var glyph = pcbdata.font_data[txt[i][j]];
      if (inOverbar) {
        var overbarStart = [offsetx, -text.height * 1.4 + offsety];
        var overbarEnd = [offsetx + text.width * glyph.w, overbarStart[1]];

        if (!lastHadOverbar) {
          overbarStart[0] += text.height * 1.4 * tilt;
          lastHadOverbar = true;
        }
        ctx.beginPath();
        ctx.moveTo(...overbarStart);
        ctx.lineTo(...overbarEnd);
        ctx.stroke();
      } else {
        lastHadOverbar = false;
      }
      for (var line of glyph.l) {
        ctx.beginPath();
        ctx.moveTo(...calcFontPoint(line[0], text, offsetx, offsety, tilt));
        for (var k = 1; k < line.length; k++) {
          ctx.lineTo(...calcFontPoint(line[k], text, offsetx, offsety, tilt));
        }
        ctx.stroke();
      }
      offsetx += glyph.w * text.width;
    }
    offsety += interline;
  }
  ctx.restore();
}

function drawedge(ctx, scalefactor, edge, color) {
  ctx.strokeStyle = color;
  ctx.fillStyle = color;
  ctx.lineWidth = Math.max(1 / scalefactor, edge.width);
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  if ("svgpath" in edge) {
    ctx.stroke(new Path2D(edge.svgpath));
  } else {
    ctx.beginPath();
    if (edge.type == "segment") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(...edge.end);
    }
    if (edge.type == "rect") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(edge.start[0], edge.end[1]);
      ctx.lineTo(...edge.end);
      ctx.lineTo(edge.end[0], edge.start[1]);
      ctx.lineTo(...edge.start);
    }
    if (edge.type == "arc") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        deg2rad(edge.startangle),
        deg2rad(edge.endangle));
    }
    if (edge.type == "circle") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        0, 2 * Math.PI);
      ctx.closePath();
    }
    if (edge.type == "curve") {
      ctx.moveTo(...edge.start);
      ctx.bezierCurveTo(...edge.cpa, ...edge.cpb, ...edge.end);
    }
    if("filled" in edge && edge.filled)
      ctx.fill();
    else
      ctx.stroke();
  }
}

function getChamferedRectPath(size, radius, chamfpos, chamfratio) {
  // chamfpos is a bitmask, left = 1, right = 2, bottom left = 4, bottom right = 8
  var path = new Path2D();
  var width = size[0];
  var height = size[1];
  var x = width * -0.5;
  var y = height * -0.5;
  var chamfOffset = Math.min(width, height) * chamfratio;
  path.moveTo(x, 0);
  if (chamfpos & 4) {
    path.lineTo(x, y + height - chamfOffset);
    path.lineTo(x + chamfOffset, y + height);
    path.lineTo(0, y + height);
  } else {
    path.arcTo(x, y + height, x + width, y + height, radius);
  }
  if (chamfpos & 8) {
    path.lineTo(x + width - chamfOffset, y + height);
    path.lineTo(x + width, y + height - chamfOffset);
    path.lineTo(x + width, 0);
  } else {
    path.arcTo(x + width, y + height, x + width, y, radius);
  }
  if (chamfpos & 2) {
    path.lineTo(x + width, y + chamfOffset);
    path.lineTo(x + width - chamfOffset, y);
    path.lineTo(0, y);
  } else {
    path.arcTo(x + width, y, x, y, radius);
  }
  if (chamfpos & 1) {
    path.lineTo(x + chamfOffset, y);
    path.lineTo(x, y + chamfOffset);
    path.lineTo(x, 0);
  } else {
    path.arcTo(x, y, x, y + height, radius);
  }
  path.closePath();
  return path;
}

function getOblongPath(size) {
  return getChamferedRectPath(size, Math.min(size[0], size[1]) / 2, 0, 0);
}

function getPolygonsPath(shape) {
  if (shape.path2d) {
    return shape.path2d;
  }
  if ("svgpath" in shape) {
    shape.path2d = new Path2D(shape.svgpath);
  } else {
    var path = new Path2D();
    for (var polygon of shape.polygons) {
      path.moveTo(...polygon[0]);
      for (var i = 1; i < polygon.length; i++) {
        path.lineTo(...polygon[i]);
      }
      path.closePath();
    }
    shape.path2d = path;
  }
  return shape.path2d;
}

function drawPolygonShape(ctx, scalefactor, shape, color) {
  ctx.save();
  if (!("svgpath" in shape)) {
    ctx.translate(...shape.pos);
    ctx.rotate(deg2rad(-shape.angle));
  }
  if("filled" in shape && !shape.filled) {
    ctx.strokeStyle = color;
    ctx.lineWidth = Math.max(1 / scalefactor, shape.width);
    ctx.lineCap = "round";
    ctx.lineJoin = "round";
    ctx.stroke(getPolygonsPath(shape));
  } else {
    ctx.fillStyle = color;
    ctx.fill(getPolygonsPath(shape));
  }
  ctx.restore();
}

function drawDrawing(ctx, scalefactor, drawing, color) {
  if (["segment", "arc", "circle", "curve", "rect"].includes(drawing.type)) {
    drawedge(ctx, scalefactor, drawing, color);
  } else if (drawing.type == "polygon") {
    drawPolygonShape(ctx, scalefactor, drawing, color);
  } else {
    drawText(ctx, drawing, color);
  }
}

function getCirclePath(radius) {
  var path = new Path2D();
  path.arc(0, 0, radius, 0, 2 * Math.PI);
  path.closePath();
  return path;
}

function getCachedPadPath(pad) {
  if (!pad.path2d) {
    // if path2d is not set, build one and cache it on pad object
    if (pad.shape == "rect") {
      pad.path2d = new Path2D();
      pad.path2d.rect(...pad.size.map(c => -c * 0.5), ...pad.size);
    } else if (pad.shape == "oval") {
      pad.path2d = getOblongPath(pad.size);
    } else if (pad.shape == "circle") {
      pad.path2d = getCirclePath(pad.size[0] / 2);
    } else if (pad.shape == "roundrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, 0, 0);
    } else if (pad.shape == "chamfrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, pad.chamfpos, pad.chamfratio)
    } else if (pad.shape == "custom") {
      pad.path2d = getPolygonsPath(pad);
    }
  }
  return pad.path2d;
}

function drawPad(ctx, pad, color, outline) {
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  if (pad.offset) {
    ctx.translate(...pad.offset);
  }
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  var path = getCachedPadPath(pad);
  if (outline) {
    ctx.stroke(path);
  } else {
    ctx.fill(path);
  }
  ctx.restore();
}

function drawPadHole(ctx, pad, padHoleColor) {
  if (pad.type != "th") return;
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  ctx.fillStyle = padHoleColor;
  if (pad.drillshape == "oblong") {
    ctx.fill(getOblongPath(pad.drillsize));
  } else {
    ctx.fill(getCirclePath(pad.drillsize[0] / 2));
  }
  ctx.restore();
}

function drawFootprint(ctx, layer, scalefactor, footprint, colors, highlight, outline) {
  if (highlight) {
    // draw bounding box
    if (footprint.layer == layer) {
      ctx.save();
      ctx.globalAlpha = 0.2;
      ctx.translate(...footprint.bbox.pos);
      ctx.rotate(deg2rad(-footprint.bbox.angle));
      ctx.translate(...footprint.bbox.relpos);
      ctx.fillStyle = colors.pad;
      ctx.fillRect(0, 0, ...footprint.bbox.size);
      ctx.globalAlpha = 1;
      ctx.strokeStyle = colors.pad;
      ctx.lineWidth = 3 / scalefactor;
      ctx.strokeRect(0, 0, ...footprint.bbox.size);
      ctx.restore();
    }
  }
  // draw drawings
  for (var drawing of footprint.drawings) {
    if (drawing.layer == layer) {
      drawDrawing(ctx, scalefactor, drawing.drawing, colors.pad);
    }
  }
  ctx.lineWidth = 3 / scalefactor;
  // draw pads
  if (settings.renderPads) {
    for (var pad of footprint.pads) {
      if (pad.layers.includes(layer)) {
        drawPad(ctx, pad, colors.pad, outline);
        if (pad.pin1 &&
          (settings.highlightpin1 == "all" ||
            settings.highlightpin1 == "selected" && highlight)) {
          drawPad(ctx, pad, colors.outline, true);
        }
      }
    }
    for (var pad of footprint.pads) {
      drawPadHole(ctx, pad, colors.padHole);
    }
  }
}

function drawEdgeCuts(canvas, scalefactor) {
  var ctx = canvas.getContext("2d");
  var edgecolor = getComputedStyle(topmostdiv).getPropertyValue('--pcb-edge-color');
  for (var edge of pcbdata.edges) {
    drawDrawing(ctx, scalefactor, edge, edgecolor);
  }
}

function drawFootprints(canvas, layer, scalefactor, highlight) {
  var ctx = canvas.getContext("2d");
  ctx.lineWidth = 3 / scalefactor;
  var style = getComputedStyle(topmostdiv);

  var colors = {
    pad: style.getPropertyValue('--pad-color'),
    padHole: style.getPropertyValue('--pad-hole-color'),
    outline: style.getPropertyValue('--pin1-outline-color'),
  }

  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var mod = pcbdata.footprints[i];
    var outline = settings.renderDnpOutline && pcbdata.bom.skipped.includes(i);
    var h = highlightedFootprints.includes(i);
    var d = markedFootprints.has(i);
    if (highlight) {
      if(h && d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-both');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-both');
      } else if (h) {
        colors.pad = style.getPropertyValue('--pad-color-highlight');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight');
      } else if (d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-marked');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-marked');
      }
    }
    if( h || d || !highlight) {
      drawFootprint(ctx, layer, scalefactor, mod, colors, highlight, outline);
    }
  }
}

function drawBgLayer(layername, canvas, layer, scalefactor, edgeColor, polygonColor, textColor) {
  var ctx = canvas.getContext("2d");
  for (var d of pcbdata.drawings[layername][layer]) {
    if (["segment", "arc", "circle", "curve", "rect"].includes(d.type)) {
      drawedge(ctx, scalefactor, d, edgeColor);
    } else if (d.type == "polygon") {
      drawPolygonShape(ctx, scalefactor, d, polygonColor);
    } else {
      drawText(ctx, d, textColor);
    }
  }
}

function drawTracks(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineCap = "round";
  for (var track of pcbdata.tracks[layer]) {
    if (highlight && highlightedNet != track.net) continue;
    ctx.strokeStyle = highlight ? defaultColor : settings.netColors[track.net] || defaultColor;
    ctx.lineWidth = track.width;
    ctx.beginPath();
    if ('radius' in track) {
      ctx.arc(
        ...track.center,
        track.radius,
        deg2rad(track.startangle),
        deg2rad(track.endangle));
    } else {
      ctx.moveTo(...track.start);
      ctx.lineTo(...track.end);
    }
    ctx.stroke();
  }
}

function drawZones(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineJoin = "round";
  for (var zone of pcbdata.zones[layer]) {
    if (highlight && highlightedNet != zone.net) continue;
    ctx.strokeStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    ctx.fillStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    if (!zone.path2d) {
      zone.path2d = getPolygonsPath(zone);
    }
    ctx.fill(zone.path2d, zone.fillrule || "nonzero");
    if (zone.width > 0) {
      ctx.lineWidth = zone.width;
      ctx.stroke(zone.path2d);
    }
  }
}

function clearCanvas(canvas, color = null) {
  var ctx = canvas.getContext("2d");
  ctx.save();
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  if (color) {
    ctx.fillStyle = color;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  } else {
    if (!window.matchMedia("print").matches)
      ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
  ctx.restore();
}

function drawNets(canvas, layer, highlight) {
  var style = getComputedStyle(topmostdiv);
  if (settings.renderTracks) {
    var trackColor = style.getPropertyValue(highlight ? '--track-color-highlight' : '--track-color');
    drawTracks(canvas, layer, trackColor, highlight);
  }
  if (settings.renderZones) {
    var zoneColor = style.getPropertyValue(highlight ? '--zone-color-highlight' : '--zone-color');
    drawZones(canvas, layer, zoneColor, highlight);
  }
  if (highlight && settings.renderPads) {
    var padColor = style.getPropertyValue('--pad-color-highlight');
    var padHoleColor = style.getPropertyValue('--pad-hole-color');
    var ctx = canvas.getContext("2d");
    for (var footprint of pcbdata.footprints) {
      // draw pads
      var padDrawn = false;
      for (var pad of footprint.pads) {
        if (highlightedNet != pad.net) continue;
        if (pad.layers.includes(layer)) {
          drawPad(ctx, pad, padColor, false);
          padDrawn = true;
        }
      }
      if (padDrawn) {
        // redraw all pad holes because some pads may overlap
        for (var pad of footprint.pads) {
          drawPadHole(ctx, pad, padHoleColor);
        }
      }
    }
  }
}

function drawHighlightsOnLayer(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.highlight);
  }
  if (markedFootprints.size > 0 || highlightedFootprints.length > 0) {
    drawFootprints(canvasdict.highlight, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom, true);
  }
  if (highlightedNet !== null) {
    drawNets(canvasdict.highlight, canvasdict.layer, true);
  }
}

function drawHighlights() {
  drawHighlightsOnLayer(allcanvas.front);
  drawHighlightsOnLayer(allcanvas.back);
}

function drawBackground(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.bg);
    clearCanvas(canvasdict.fab);
    clearCanvas(canvasdict.silk);
  }

  drawNets(canvasdict.bg, canvasdict.layer, false);
  drawFootprints(canvasdict.bg, canvasdict.layer,
    canvasdict.transform.s * canvasdict.transform.zoom, false);

  drawEdgeCuts(canvasdict.bg, canvasdict.transform.s * canvasdict.transform.zoom);

  var style = getComputedStyle(topmostdiv);
  var edgeColor = style.getPropertyValue('--silkscreen-edge-color');
  var polygonColor = style.getPropertyValue('--silkscreen-polygon-color');
  var textColor = style.getPropertyValue('--silkscreen-text-color');
  if (settings.renderSilkscreen) {
    drawBgLayer(
      "silkscreen", canvasdict.silk, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
  edgeColor = style.getPropertyValue('--fabrication-edge-color');
  polygonColor = style.getPropertyValue('--fabrication-polygon-color');
  textColor = style.getPropertyValue('--fabrication-text-color');
  if (settings.renderFabrication) {
    drawBgLayer(
      "fabrication", canvasdict.fab, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
}

function prepareCanvas(canvas, flip, transform) {
  var ctx = canvas.getContext("2d");
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  ctx.scale(transform.zoom, transform.zoom);
  ctx.translate(transform.panx, transform.pany);
  if (flip) {
    ctx.scale(-1, 1);
  }
  ctx.translate(transform.x, transform.y);
  ctx.rotate(deg2rad(settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  ctx.scale(transform.s, transform.s);
}

function prepareLayer(canvasdict) {
  var flip = (canvasdict.layer === "B");
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    prepareCanvas(canvasdict[c], flip, canvasdict.transform);
  }
}

function rotateVector(v, angle) {
  angle = deg2rad(angle);
  return [
    v[0] * Math.cos(angle) - v[1] * Math.sin(angle),
    v[0] * Math.sin(angle) + v[1] * Math.cos(angle)
  ];
}

function applyRotation(bbox, flip) {
  var corners = [
    [bbox.minx, bbox.miny],
    [bbox.minx, bbox.maxy],
    [bbox.maxx, bbox.miny],
    [bbox.maxx, bbox.maxy],
  ];
  corners = corners.map((v) => rotateVector(v, settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  return {
    minx: corners.reduce((a, v) => Math.min(a, v[0]), Infinity),
    miny: corners.reduce((a, v) => Math.min(a, v[1]), Infinity),
    maxx: corners.reduce((a, v) => Math.max(a, v[0]), -Infinity),
    maxy: corners.reduce((a, v) => Math.max(a, v[1]), -Infinity),
  }
}

function recalcLayerScale(layerdict, width, height) {
  var flip = (layerdict.layer === "B");
  var bbox = applyRotation(pcbdata.edges_bbox, flip);
  var scalefactor = 0.98 * Math.min(
    width / (bbox.maxx - bbox.minx),
    height / (bbox.maxy - bbox.miny)
  );
  if (scalefactor < 0.1) {
    scalefactor = 1;
  }
  layerdict.transform.s = scalefactor;
  if (flip) {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor + width) * 0.5;
  } else {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor - width) * 0.5;
  }
  layerdict.transform.y = -((bbox.maxy + bbox.miny) * scalefactor - height) * 0.5;
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    canvas = layerdict[c];
    canvas.width = width;
    canvas.height = height;
    canvas.style.width = (width / devicePixelRatio) + "px";
    canvas.style.height = (height / devicePixelRatio) + "px";
  }
}

function redrawCanvas(layerdict) {
  prepareLayer(layerdict);
  drawBackground(layerdict);
  drawHighlightsOnLayer(layerdict);
}

function resizeCanvas(layerdict) {
  var canvasdivid = {
    "F": "frontcanvas",
    "B": "backcanvas"
  } [layerdict.layer];
  var width = document.getElementById(canvasdivid).clientWidth * devicePixelRatio;
  var height = document.getElementById(canvasdivid).clientHeight * devicePixelRatio;
  recalcLayerScale(layerdict, width, height);
  redrawCanvas(layerdict);
}

function resizeAll() {
  resizeCanvas(allcanvas.front);
  resizeCanvas(allcanvas.back);
}

function pointWithinDistanceToSegment(x, y, x1, y1, x2, y2, d) {
  var A = x - x1;
  var B = y - y1;
  var C = x2 - x1;
  var D = y2 - y1;

  var dot = A * C + B * D;
  var len_sq = C * C + D * D;
  var dx, dy;
  if (len_sq == 0) {
    // start and end of the segment coincide
    dx = x - x1;
    dy = y - y1;
  } else {
    var param = dot / len_sq;
    var xx, yy;
    if (param < 0) {
      xx = x1;
      yy = y1;
    } else if (param > 1) {
      xx = x2;
      yy = y2;
    } else {
      xx = x1 + param * C;
      yy = y1 + param * D;
    }
    dx = x - xx;
    dy = y - yy;
  }
  return dx * dx + dy * dy <= d * d;
}

function modulo(n, mod) {
  return ((n % mod) + mod) % mod;
}

function pointWithinDistanceToArc(x, y, xc, yc, radius, startangle, endangle, d) {
  var dx = x - xc;
  var dy = y - yc;
  var r_sq = dx * dx + dy * dy;
  var rmin = Math.max(0, radius - d);
  var rmax = radius + d;

  if (r_sq < rmin * rmin || r_sq > rmax * rmax)
    return false;

  var angle1 = modulo(deg2rad(startangle), 2 * Math.PI);
  var dx1 = xc + radius * Math.cos(angle1) - x;
  var dy1 = yc + radius * Math.sin(angle1) - y;
  if (dx1 * dx1 + dy1 * dy1 <= d * d)
    return true;

  var angle2 = modulo(deg2rad(endangle), 2 * Math.PI);
  var dx2 = xc + radius * Math.cos(angle2) - x;
  var dy2 = yc + radius * Math.sin(angle2) - y;
  if (dx2 * dx2 + dy2 * dy2 <= d * d)
    return true;

  var angle = modulo(Math.atan2(dy, dx), 2 * Math.PI);
  if (angle1 > angle2)
    return (angle >= angle2 || angle <= angle1);
  else
    return (angle >= angle1 && angle <= angle2);
}

function pointWithinPad(x, y, pad) {
  var v = [x - pad.pos[0], y - pad.pos[1]];
  v = rotateVector(v, pad.angle);
  if (pad.offset) {
    v[0] -= pad.offset[0];
    v[1] -= pad.offset[1];
  }
  return emptyContext2d.isPointInPath(getCachedPadPath(pad), ...v);
}

function netHitScan(layer, x, y) {
  // Check track segments
  if (settings.renderTracks && pcbdata.tracks) {
    for (var track of pcbdata.tracks[layer]) {
      if ('radius' in track) {
        if (pointWithinDistanceToArc(x, y, ...track.center, track.radius, track.startangle, track.endangle, track.width / 2)) {
          return track.net;
        }
      } else {
        if (pointWithinDistanceToSegment(x, y, ...track.start, ...track.end, track.width / 2)) {
          return track.net;
        }
      }
    }
  }
  // Check pads
  if (settings.renderPads) {
    for (var footprint of pcbdata.footprints) {
      for (var pad of footprint.pads) {
        if (pad.layers.includes(layer) && pointWithinPad(x, y, pad)) {
          return pad.net;
        }
      }
    }
  }
  return null;
}

function pointWithinFootprintBbox(x, y, bbox) {
  var v = [x - bbox.pos[0], y - bbox.pos[1]];
  v = rotateVector(v, bbox.angle);
  return bbox.relpos[0] <= v[0] && v[0] <= bbox.relpos[0] + bbox.size[0] &&
    bbox.relpos[1] <= v[1] && v[1] <= bbox.relpos[1] + bbox.size[1];
}

function bboxHitScan(layer, x, y) {
  var result = [];
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var footprint = pcbdata.footprints[i];
    if (footprint.layer == layer) {
      if (pointWithinFootprintBbox(x, y, footprint.bbox)) {
        result.push(i);
      }
    }
  }
  return result;
}

function handlePointerDown(e, layerdict) {
  if (e.button != 0 && e.button != 1) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  layerdict.pointerStates[e.pointerId] = {
    distanceTravelled: 0,
    lastX: e.offsetX,
    lastY: e.offsetY,
    downTime: Date.now(),
  };
}

function handleMouseClick(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var x = e.offsetX;
  var y = e.offsetY;
  var t = layerdict.transform;
  var flip = layerdict.layer === "B";
  if (flip) {
    x = (devicePixelRatio * x / t.zoom - t.panx + t.x) / -t.s;
  } else {
    x = (devicePixelRatio * x / t.zoom - t.panx - t.x) / t.s;
  }
  y = (devicePixelRatio * y / t.zoom - t.y - t.pany) / t.s;
  var v = rotateVector([x, y], -settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0));
  if ("nets" in pcbdata) {
    var net = netHitScan(layerdict.layer, ...v);
    if (net !== highlightedNet) {
      netClicked(net);
    }
  }
  if (highlightedNet === null) {
    var footprints = bboxHitScan(layerdict.layer, ...v);
    if (footprints.length > 0) {
      footprintsClicked(footprints);
    }
  }
}

function handlePointerLeave(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();

  if (!settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }

  delete layerdict.pointerStates[e.pointerId];
}

function resetTransform(layerdict) {
  layerdict.transform.panx = 0;
  layerdict.transform.pany = 0;
  layerdict.transform.zoom = 1;
  redrawCanvas(layerdict);
}

function handlePointerUp(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  e.preventDefault();
  e.stopPropagation();

  if (e.button == 2) {
    // Reset pan and zoom on right click.
    resetTransform(layerdict);
    layerdict.anotherPointerTapped = false;
    return;
  }

  // We haven't necessarily had a pointermove event since the interaction started, so make sure we update this now
  var ptr = layerdict.pointerStates[e.pointerId];
  ptr.distanceTravelled += Math.abs(e.offsetX - ptr.lastX) + Math.abs(e.offsetY - ptr.lastY);

  if (e.button == 0 && ptr.distanceTravelled < 10 && Date.now() - ptr.downTime <= 500) {
    if (Object.keys(layerdict.pointerStates).length == 1) {
      if (layerdict.anotherPointerTapped) {
        // This is the second pointer coming off of a two-finger tap
        resetTransform(layerdict);
      } else {
        // This is just a regular tap
        handleMouseClick(e, layerdict);
      }
      layerdict.anotherPointerTapped = false;
    } else {
      // This is the first finger coming off of what could become a two-finger tap
      layerdict.anotherPointerTapped = true;
    }
  } else {
    if (!settings.redrawOnDrag) {
      redrawCanvas(layerdict);
    }
    layerdict.anotherPointerTapped = false;
  }

  delete layerdict.pointerStates[e.pointerId];
}

function handlePointerMove(e, layerdict) {
  if (!layerdict.pointerStates.hasOwnProperty(e.pointerId)) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var thisPtr = layerdict.pointerStates[e.pointerId];

  var dx = e.offsetX - thisPtr.lastX;
  var dy = e.offsetY - thisPtr.lastY;

  // If this number is low on pointer up, we count the action as a click
  thisPtr.distanceTravelled += Math.abs(dx) + Math.abs(dy);

  if (Object.keys(layerdict.pointerStates).length == 1) {
    // This is a simple drag
    layerdict.transform.panx += devicePixelRatio * dx / layerdict.transform.zoom;
    layerdict.transform.pany += devicePixelRatio * dy / layerdict.transform.zoom;
  } else if (Object.keys(layerdict.pointerStates).length == 2) {
    var otherPtr = Object.values(layerdict.pointerStates).filter((ptr) => ptr != thisPtr)[0];

    var oldDist = Math.sqrt(Math.pow(thisPtr.lastX - otherPtr.lastX, 2) + Math.pow(thisPtr.lastY - otherPtr.lastY, 2));
    var newDist = Math.sqrt(Math.pow(e.offsetX - otherPtr.lastX, 2) + Math.pow(e.offsetY - otherPtr.lastY, 2));

    var scaleFactor = newDist / oldDist;

    if (scaleFactor != NaN) {
      layerdict.transform.zoom *= scaleFactor;

      var zoomd = (1 - scaleFactor) / layerdict.transform.zoom;
      layerdict.transform.panx += devicePixelRatio * otherPtr.lastX * zoomd;
      layerdict.transform.pany += devicePixelRatio * otherPtr.lastY * zoomd;
    }
  }

  thisPtr.lastX = e.offsetX;
  thisPtr.lastY = e.offsetY;

  if (settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }
}

function handleMouseWheel(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();
  var t = layerdict.transform;
  var wheeldelta = e.deltaY;
  if (e.deltaMode == 1) {
    // FF only, scroll by lines
    wheeldelta *= 30;
  } else if (e.deltaMode == 2) {
    wheeldelta *= 300;
  }
  var m = Math.pow(1.1, -wheeldelta / 40);
  // Limit amount of zoom per tick.
  if (m > 2) {
    m = 2;
  } else if (m < 0.5) {
    m = 0.5;
  }
  t.zoom *= m;
  var zoomd = (1 - m) / t.zoom;
  t.panx += devicePixelRatio * e.offsetX * zoomd;
  t.pany += devicePixelRatio * e.offsetY * zoomd;
  redrawCanvas(layerdict);
}

function addMouseHandlers(div, layerdict) {
  div.addEventListener("pointerdown", function(e) {
    handlePointerDown(e, layerdict);
  });
  div.addEventListener("pointermove", function(e) {
    handlePointerMove(e, layerdict);
  });
  div.addEventListener("pointerup", function(e) {
    handlePointerUp(e, layerdict);
  });
  var pointerleave = function(e) {
    handlePointerLeave(e, layerdict);
  }
  div.addEventListener("pointercancel", pointerleave);
  div.addEventListener("pointerleave", pointerleave);
  div.addEventListener("pointerout", pointerleave);

  div.onwheel = function(e) {
    handleMouseWheel(e, layerdict);
  }
  for (var element of [div, layerdict.bg, layerdict.fab, layerdict.silk, layerdict.highlight]) {
    element.addEventListener("contextmenu", function(e) {
      e.preventDefault();
    }, false);
  }
}

function setRedrawOnDrag(value) {
  settings.redrawOnDrag = value;
  writeStorage("redrawOnDrag", value);
}

function setBoardRotation(value) {
  settings.boardRotation = value * 5;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  resizeAll();
}

function setOffsetBackRotation(value) {
  settings.offsetBackRotation = value;
  writeStorage("offsetBackRotation", value);
  resizeAll();
}

function initRender() {
  allcanvas = {
    front: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("F_bg"),
      fab: document.getElementById("F_fab"),
      silk: document.getElementById("F_slk"),
      highlight: document.getElementById("F_hl"),
      layer: "F",
    },
    back: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("B_bg"),
      fab: document.getElementById("B_fab"),
      silk: document.getElementById("B_slk"),
      highlight: document.getElementById("B_hl"),
      layer: "B",
    }
  };
  addMouseHandlers(document.getElementById("frontcanvas"), allcanvas.front);
  addMouseHandlers(document.getElementById("backcanvas"), allcanvas.back);
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/*
 * Table reordering via Drag'n'Drop
 * Inspired by: https://htmldom.dev/drag-and-drop-table-column
 */

function setBomHandlers() {

  const bom = document.getElementById('bomtable');

  let dragName;
  let placeHolderElements;
  let draggingElement;
  let forcePopulation;
  let xOffset;
  let yOffset;
  let wasDragged;

  const mouseUpHandler = function(e) {
    // Delete dragging element
    draggingElement.remove();

    // Make BOM selectable again
    bom.style.removeProperty("userSelect");

    // Remove listeners
    document.removeEventListener('mousemove', mouseMoveHandler);
    document.removeEventListener('mouseup', mouseUpHandler);

    if (wasDragged) {
      // Redraw whole BOM
      populateBomTable();
    }
  }

  const mouseMoveHandler = function(e) {
    // Notice the dragging
    wasDragged = true;

    // Make the dragged element visible
    draggingElement.style.removeProperty("display");

    // Set elements position to mouse position
    draggingElement.style.left = `${e.screenX - xOffset}px`;
    draggingElement.style.top = `${e.screenY - yOffset}px`;

    // Forced redrawing of BOM table
    if (forcePopulation) {
      forcePopulation = false;
      // Copy array
      phe = Array.from(placeHolderElements);
      // populate BOM table again
      populateBomHeader(dragName, phe);
      populateBomBody(dragName, phe);
    }

    // Set up array of hidden columns
    var hiddenColumns = Array.from(settings.hiddenColumns);
    // In the ungrouped mode, quantity don't exist
    if (settings.bommode === "ungrouped")
      hiddenColumns.push("Quantity");
    // If no checkbox fields can be found, we consider them hidden
    if (settings.checkboxes.length == 0)
      hiddenColumns.push("checkboxes");

    // Get table headers and group them into checkboxes, extrafields and normal headers
    const bh = document.getElementById("bomhead");
    headers = Array.from(bh.querySelectorAll("th"))
    headers.shift() // numCol is not part of the columnOrder
    headerGroups = []
    lastCompoundClass = null;
    for (i = 0; i < settings.columnOrder.length; i++) {
      cElem = settings.columnOrder[i];
      if (hiddenColumns.includes(cElem)) {
        // Hidden columns appear as a dummy element
        headerGroups.push([]);
        continue;
      }
      elem = headers.filter(e => getColumnOrderName(e) === cElem)[0];
      if (elem.classList.contains("bom-checkbox")) {
        if (lastCompoundClass === "bom-checkbox") {
          cbGroup = headerGroups.pop();
          cbGroup.push(elem);
          headerGroups.push(cbGroup);
        } else {
          lastCompoundClass = "bom-checkbox";
          headerGroups.push([elem])
        }
      } else {
        headerGroups.push([elem])
      }
    }

    // Copy settings.columnOrder
    var columns = Array.from(settings.columnOrder)

    // Set up array with indices of hidden columns
    var hiddenIndices = hiddenColumns.map(e => settings.columnOrder.indexOf(e));
    var dragIndex = columns.indexOf(dragName);
    var swapIndex = dragIndex;
    var swapDone = false;

    // Check if the current dragged element is swapable with the left or right element
    if (dragIndex > 0) {
      // Get left headers boundingbox
      swapIndex = dragIndex - 1;
      while (hiddenIndices.includes(swapIndex) && swapIndex > 0)
        swapIndex--;
      if (!hiddenIndices.includes(swapIndex)) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX < box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }
    if ((!swapDone) && dragIndex < headerGroups.length - 1) {
      // Get right headers boundingbox
      swapIndex = dragIndex + 1;
      while (hiddenIndices.includes(swapIndex))
        swapIndex++;
      if (swapIndex < headerGroups.length) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX > box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }

    // Write back change to storage
    if (swapDone) {
      settings.columnOrder = columns
      writeStorage("columnOrder", JSON.stringify(columns));
    }

  }

  const mouseDownHandler = function(e) {
    var target = e.target;
    if (target.tagName.toLowerCase() != "td")
      target = target.parentElement;

    // Used to check if a dragging has ever happened
    wasDragged = false;

    // Create new element which will be displayed as the dragged column
    draggingElement = document.createElement("div")
    draggingElement.classList.add("dragging");
    draggingElement.style.display = "none";
    draggingElement.style.position = "absolute";
    draggingElement.style.overflow = "hidden";

    // Get bomhead and bombody elements
    const bh = document.getElementById("bomhead");
    const bb = document.getElementById("bombody");

    // Get all compound headers for the current column
    var compoundHeaders;
    if (target.classList.contains("bom-checkbox")) {
      compoundHeaders = Array.from(bh.querySelectorAll("th.bom-checkbox"));
    } else {
      compoundHeaders = [target];
    }

    // Create new table which will display the column
    var newTable = document.createElement("table");
    newTable.classList.add("bom");
    newTable.style.background = "white";
    draggingElement.append(newTable);

    // Create new header element
    var newHeader = document.createElement("thead");
    newTable.append(newHeader);

    // Set up array for storing all placeholder elements
    placeHolderElements = [];

    // Add all compound headers to the new thead element and placeholders
    compoundHeaders.forEach(function(h) {
      clone = cloneElementWithDimensions(h);
      newHeader.append(clone);
      placeHolderElements.push(clone);
    });

    // Create new body element
    var newBody = document.createElement("tbody");
    newTable.append(newBody);

    // Get indices for compound headers
    var idxs = compoundHeaders.map(e => getBomTableHeaderIndex(e));

    // For each row in the BOM body...
    var rows = bb.querySelectorAll("tr");
    rows.forEach(function(row) {
      // ..get the cells for the compound column
      const tds = row.querySelectorAll("td");
      var copytds = idxs.map(i => tds[i]);
      // Add them to the new element and the placeholders
      var newRow = document.createElement("tr");
      copytds.forEach(function(td) {
        clone = cloneElementWithDimensions(td);
        newRow.append(clone);
        placeHolderElements.push(clone);
      });
      newBody.append(newRow);
    });

    // Compute width for compound header
    var width = compoundHeaders.reduce((acc, x) => acc + x.clientWidth, 0);
    draggingElement.style.width = `${width}px`;

    // Insert the new dragging element and disable selection on BOM
    bom.insertBefore(draggingElement, null);
    bom.style.userSelect = "none";

    // Determine the mouse position offset
    xOffset = e.screenX - compoundHeaders.reduce((acc, x) => Math.min(acc, x.offsetLeft), compoundHeaders[0].offsetLeft);
    yOffset = e.screenY - compoundHeaders[0].offsetTop;

    // Get name for the column in settings.columnOrder
    dragName = getColumnOrderName(target);

    // Change text and class for placeholder elements
    placeHolderElements = placeHolderElements.map(function(e) {
      newElem = cloneElementWithDimensions(e);
      newElem.textContent = "";
      newElem.classList.add("placeholder");
      return newElem;
    });

    // On next mouse move, the whole BOM needs to be redrawn to show the placeholders
    forcePopulation = true;

    // Add listeners for move and up on mouse
    document.addEventListener('mousemove', mouseMoveHandler);
    document.addEventListener('mouseup', mouseUpHandler);
  }

  // In netlist mode, there is nothing to reorder
  if (settings.bommode === "netlist")
    return;

  // Add mouseDownHandler to every column except the numCol
  bom.querySelectorAll("th")
    .forEach(function(head) {
      if (!head.classList.contains("numCol")) {
        head.onmousedown = mouseDownHandler;
      }
    });

}

function getBoundingClientRectFromMultiple(elements) {
  var elems = Array.from(elements);

  if (elems.length == 0)
    return null;

  var box = elems.shift()
    .getBoundingClientRect();

  elems.forEach(function(elem) {
    var elembox = elem.getBoundingClientRect();
    box.left = Math.min(elembox.left, box.left);
    box.top = Math.min(elembox.top, box.top);
    box.width += elembox.width;
    box.height = Math.max(elembox.height, box.height);
  });

  return box;
}

function cloneElementWithDimensions(elem) {
  var newElem = elem.cloneNode(true);
  newElem.style.height = window.getComputedStyle(elem).height;
  newElem.style.width = window.getComputedStyle(elem).width;
  return newElem;
}

function getBomTableHeaderIndex(elem) {
  const bh = document.getElementById('bomhead');
  const ths = Array.from(bh.querySelectorAll("th"));
  return ths.indexOf(elem);
}

function getColumnOrderName(elem) {
  var cname = elem.getAttribute("col_name");
  if (cname === "bom-checkbox")
    return "checkboxes";
  else
    return cname;
}

function resizableGrid(tablehead) {
  var cols = tablehead.firstElementChild.children;
  var rowWidth = tablehead.offsetWidth;

  for (var i = 1; i < cols.length; i++) {
    if (cols[i].classList.contains("bom-checkbox"))
      continue;
    cols[i].style.width = ((cols[i].clientWidth - paddingDiff(cols[i])) * 100 / rowWidth) + '%';
  }

  for (var i = 1; i < cols.length - 1; i++) {
    var div = document.createElement('div');
    div.className = "column-width-handle";
    cols[i].appendChild(div);
    setListeners(div);
  }

  function setListeners(div) {
    var startX, curCol, nxtCol, curColWidth, nxtColWidth, rowWidth;

    div.addEventListener('mousedown', function(e) {
      e.preventDefault();
      e.stopPropagation();

      curCol = e.target.parentElement;
      nxtCol = curCol.nextElementSibling;
      startX = e.pageX;

      var padding = paddingDiff(curCol);

      rowWidth = curCol.parentElement.offsetWidth;
      curColWidth = curCol.clientWidth - padding;
      nxtColWidth = nxtCol.clientWidth - padding;
    });

    document.addEventListener('mousemove', function(e) {
      if (startX) {
        var diffX = e.pageX - startX;
        diffX = -Math.min(-diffX, curColWidth - 20);
        diffX = Math.min(diffX, nxtColWidth - 20);

        curCol.style.width = ((curColWidth + diffX) * 100 / rowWidth) + '%';
        nxtCol.style.width = ((nxtColWidth - diffX) * 100 / rowWidth) + '%';
        console.log(`${curColWidth + nxtColWidth} ${(curColWidth + diffX) * 100 / rowWidth + (nxtColWidth - diffX) * 100 / rowWidth}`);
      }
    });

    document.addEventListener('mouseup', function(e) {
      curCol = undefined;
      nxtCol = undefined;
      startX = undefined;
      nxtColWidth = undefined;
      curColWidth = undefined
    });
  }

  function paddingDiff(col) {

    if (getStyleVal(col, 'box-sizing') == 'border-box') {
      return 0;
    }

    var padLeft = getStyleVal(col, 'padding-left');
    var padRight = getStyleVal(col, 'padding-right');
    return (parseInt(padLeft) + parseInt(padRight));

  }

  function getStyleVal(elm, css) {
    return (window.getComputedStyle(elm, null).getPropertyValue(css))
  }
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/* DOM manipulation and misc code */

var bomsplit;
var canvassplit;
var initDone = false;
var bomSortFunction = null;
var currentSortColumn = null;
var currentSortOrder = null;
var currentHighlightedRowId;
var highlightHandlers = [];
var footprintIndexToHandler = {};
var netsToHandler = {};
var markedFootprints = new Set();
var highlightedFootprints = [];
var highlightedNet = null;
var lastClicked;

function dbg(html) {
  dbgdiv.innerHTML = html;
}

function redrawIfInitDone() {
  if (initDone) {
    redrawCanvas(allcanvas.front);
    redrawCanvas(allcanvas.back);
  }
}

function padsVisible(value) {
  writeStorage("padsVisible", value);
  settings.renderPads = value;
  redrawIfInitDone();
}

function referencesVisible(value) {
  writeStorage("referencesVisible", value);
  settings.renderReferences = value;
  redrawIfInitDone();
}

function valuesVisible(value) {
  writeStorage("valuesVisible", value);
  settings.renderValues = value;
  redrawIfInitDone();
}

function tracksVisible(value) {
  writeStorage("tracksVisible", value);
  settings.renderTracks = value;
  redrawIfInitDone();
}

function zonesVisible(value) {
  writeStorage("zonesVisible", value);
  settings.renderZones = value;
  redrawIfInitDone();
}

function dnpOutline(value) {
  writeStorage("dnpOutline", value);
  settings.renderDnpOutline = value;
  redrawIfInitDone();
}

function setDarkMode(value) {
  if (value) {
    topmostdiv.classList.add("dark");
  } else {
    topmostdiv.classList.remove("dark");
  }
  writeStorage("darkmode", value);
  settings.darkMode = value;
  redrawIfInitDone();
  if (initDone) {
    populateBomTable();
  }
}

function setShowBOMColumn(field, value) {
  if (field === "references") {
    var rl = document.getElementById("reflookup");
    rl.disabled = !value;
    if (!value) {
      rl.value = "";
      updateRefLookup("");
    }
  }

  var n = settings.hiddenColumns.indexOf(field);
  if (value) {
    if (n != -1) {
      settings.hiddenColumns.splice(n, 1);
    }
  } else {
    if (n == -1) {
      settings.hiddenColumns.push(field);
    }
  }

  writeStorage("hiddenColumns", JSON.stringify(settings.hiddenColumns));

  if (initDone) {
    populateBomTable();
  }

  redrawIfInitDone();
}


function setFullscreen(value) {
  if (value) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}

function fabricationVisible(value) {
  writeStorage("fabricationVisible", value);
  settings.renderFabrication = value;
  redrawIfInitDone();
}

function silkscreenVisible(value) {
  writeStorage("silkscreenVisible", value);
  settings.renderSilkscreen = value;
  redrawIfInitDone();
}

function setHighlightPin1(value) {
  writeStorage("highlightpin1", value);
  settings.highlightpin1 = value;
  redrawIfInitDone();
}

function getStoredCheckboxRefs(checkbox) {
  function convert(ref) {
    var intref = parseInt(ref);
    if (isNaN(intref)) {
      for (var i = 0; i < pcbdata.footprints.length; i++) {
        if (pcbdata.footprints[i].ref == ref) {
          return i;
        }
      }
      return -1;
    } else {
      return intref;
    }
  }
  if (!(checkbox in settings.checkboxStoredRefs)) {
    var val = readStorage("checkbox_" + checkbox);
    settings.checkboxStoredRefs[checkbox] = val ? val : "";
  }
  if (!settings.checkboxStoredRefs[checkbox]) {
    return new Set();
  } else {
    return new Set(settings.checkboxStoredRefs[checkbox].split(",").map(r => convert(r)).filter(a => a >= 0));
  }
}

function getCheckboxState(checkbox, references) {
  var storedRefsSet = getStoredCheckboxRefs(checkbox);
  var currentRefsSet = new Set(references.map(r => r[1]));
  // Get difference of current - stored
  var difference = new Set(currentRefsSet);
  for (ref of storedRefsSet) {
    difference.delete(ref);
  }
  if (difference.size == 0) {
    // All the current refs are stored
    return "checked";
  } else if (difference.size == currentRefsSet.size) {
    // None of the current refs are stored
    return "unchecked";
  } else {
    // Some of the refs are stored
    return "indeterminate";
  }
}

function setBomCheckboxState(checkbox, element, references) {
  var state = getCheckboxState(checkbox, references);
  element.checked = (state == "checked");
  element.indeterminate = (state == "indeterminate");
}

function createCheckboxChangeHandler(checkbox, references, row) {
  return function () {
    refsSet = getStoredCheckboxRefs(checkbox);
    var markWhenChecked = settings.markWhenChecked == checkbox;
    eventArgs = {
      checkbox: checkbox,
      refs: references,
    }
    if (this.checked) {
      // checkbox ticked
      for (var ref of references) {
        refsSet.add(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.add("checked");
        for (var ref of references) {
          markedFootprints.add(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'checked';
    } else {
      // checkbox unticked
      for (var ref of references) {
        refsSet.delete(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.remove("checked");
        for (var ref of references) {
          markedFootprints.delete(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'unchecked';
    }
    settings.checkboxStoredRefs[checkbox] = [...refsSet].join(",");
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
    updateCheckboxStats(checkbox);
    EventHandler.emitEvent(IBOM_EVENT_TYPES.CHECKBOX_CHANGE_EVENT, eventArgs);
  }
}

function clearHighlightedFootprints() {
  if (currentHighlightedRowId) {
    document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    currentHighlightedRowId = null;
    highlightedFootprints = [];
    highlightedNet = null;
  }
}

function createRowHighlightHandler(rowid, refs, net) {
  return function () {
    if (currentHighlightedRowId) {
      if (currentHighlightedRowId == rowid) {
        return;
      }
      document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    }
    document.getElementById(rowid).classList.add("highlighted");
    currentHighlightedRowId = rowid;
    highlightedFootprints = refs ? refs.map(r => r[1]) : [];
    highlightedNet = net;
    drawHighlights();
    EventHandler.emitEvent(
      IBOM_EVENT_TYPES.HIGHLIGHT_EVENT, {
      rowid: rowid,
      refs: refs,
      net: net
    });
  }
}

function updateNetColors() {
  writeStorage("netColors", JSON.stringify(settings.netColors));
  redrawIfInitDone();
}

function netColorChangeHandler(net) {
  return (event) => {
    settings.netColors[net] = event.target.value;
    updateNetColors();
  }
}

function netColorRightClick(net) {
  return (event) => {
    if(event.button == 2) {
      event.preventDefault();
      event.stopPropagation();

      var style = getComputedStyle(topmostdiv);
      var defaultNetColor = style.getPropertyValue('--track-color').trim();
      event.target.value = defaultNetColor;
      delete settings.netColors[net];
      updateNetColors();
    }
  }
}

function entryMatches(entry) {
  if (settings.bommode == "netlist") {
    // entry is just a net name
    return entry.toLowerCase().indexOf(filter) >= 0;
  }
  // check refs
  if (!settings.hiddenColumns.includes("references")) {
    for (var ref of entry) {
      if (ref[0].toLowerCase().indexOf(filter) >= 0) {
        return true;
      }
    }
  }
  // check fields
  for (var i in config.fields) {
    var f = config.fields[i];
    if (!settings.hiddenColumns.includes(f)) {
      for (var ref of entry) {
        if (String(pcbdata.bom.fields[ref[1]][i]).toLowerCase().indexOf(filter) >= 0) {
          return true;
        }
      }
    }
  }
  return false;
}

function findRefInEntry(entry) {
  return entry.filter(r => r[0].toLowerCase() == reflookup);
}

function highlightFilter(s) {
  if (!filter) {
    return s;
  }
  var parts = s.toLowerCase().split(filter);
  if (parts.length == 1) {
    return s;
  }
  var r = "";
  var pos = 0;
  for (var i in parts) {
    if (i > 0) {
      r += '<mark class="highlight">' +
        s.substring(pos, pos + filter.length) +
        '</mark>';
      pos += filter.length;
    }
    r += s.substring(pos, pos + parts[i].length);
    pos += parts[i].length;
  }
  return r;
}

function checkboxSetUnsetAllHandler(checkboxname) {
  return function () {
    var checkboxnum = 0;
    while (checkboxnum < settings.checkboxes.length &&
      settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
      checkboxnum++;
    }
    if (checkboxnum >= settings.checkboxes.length) {
      return;
    }
    var allset = true;
    var checkbox;
    var row;
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      if (!checkbox.checked || checkbox.indeterminate) {
        allset = false;
        break;
      }
    }
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      checkbox.checked = !allset;
      checkbox.indeterminate = false;
      checkbox.onchange();
    }
  }
}

function createColumnHeader(name, cls, comparator, is_checkbox = false) {
  var th = document.createElement("TH");
  th.innerHTML = name;
  th.classList.add(cls);
  if (is_checkbox)
    th.setAttribute("col_name", "bom-checkbox");
  else
    th.setAttribute("col_name", name);
  var span = document.createElement("SPAN");
  span.classList.add("sortmark");
  span.classList.add("none");
  th.appendChild(span);
  var spacer = document.createElement("div");
  spacer.className = "column-spacer";
  th.appendChild(spacer);
  spacer.onclick = function () {
    if (currentSortColumn && th !== currentSortColumn) {
      // Currently sorted by another column
      currentSortColumn.childNodes[1].classList.remove(currentSortOrder);
      currentSortColumn.childNodes[1].classList.add("none");
      currentSortColumn = null;
      currentSortOrder = null;
    }
    if (currentSortColumn && th === currentSortColumn) {
      // Already sorted by this column
      if (currentSortOrder == "asc") {
        // Sort by this column, descending order
        bomSortFunction = function (a, b) {
          return -comparator(a, b);
        }
        currentSortColumn.childNodes[1].classList.remove("asc");
        currentSortColumn.childNodes[1].classList.add("desc");
        currentSortOrder = "desc";
      } else {
        // Unsort
        bomSortFunction = null;
        currentSortColumn.childNodes[1].classList.remove("desc");
        currentSortColumn.childNodes[1].classList.add("none");
        currentSortColumn = null;
        currentSortOrder = null;
      }
    } else {
      // Sort by this column, ascending order
      bomSortFunction = comparator;
      currentSortColumn = th;
      currentSortColumn.childNodes[1].classList.remove("none");
      currentSortColumn.childNodes[1].classList.add("asc");
      currentSortOrder = "asc";
    }
    populateBomBody();
  }
  if (is_checkbox) {
    spacer.onclick = fancyDblClickHandler(
      spacer, spacer.onclick, checkboxSetUnsetAllHandler(name));
  }
  return th;
}

function populateBomHeader(placeHolderColumn = null, placeHolderElements = null) {
  while (bomhead.firstChild) {
    bomhead.removeChild(bomhead.firstChild);
  }
  var tr = document.createElement("TR");
  var th = document.createElement("TH");
  th.classList.add("numCol");

  var vismenu = document.createElement("div");
  vismenu.id = "vismenu";
  vismenu.classList.add("menu");

  var visbutton = document.createElement("div");
  visbutton.classList.add("visbtn");
  visbutton.classList.add("hideonprint");

  var viscontent = document.createElement("div");
  viscontent.classList.add("menu-content");
  viscontent.id = "vismenu-content";

  settings.columnOrder.forEach(column => {
    if (typeof column !== "string")
      return;

    // Skip empty columns
    if (column === "checkboxes" && settings.checkboxes.length == 0)
      return;
    else if (column === "Quantity" && settings.bommode == "ungrouped")
      return;

    var label = document.createElement("label");
    label.classList.add("menu-label");

    var input = document.createElement("input");
    input.classList.add("visibility_checkbox");
    input.type = "checkbox";
    input.onchange = function (e) {
      setShowBOMColumn(column, e.target.checked)
    };
    input.checked = !(settings.hiddenColumns.includes(column));

    label.appendChild(input);
    if (column.length > 0)
      label.append(column[0].toUpperCase() + column.slice(1));

    viscontent.appendChild(label);
  });

  viscontent.childNodes[0].classList.add("menu-label-top");

  vismenu.appendChild(visbutton);
  if (settings.bommode != "netlist") {
    vismenu.appendChild(viscontent);
    th.appendChild(vismenu);
  }
  tr.appendChild(th);

  var checkboxCompareClosure = function (checkbox) {
    return (a, b) => {
      var stateA = getCheckboxState(checkbox, a);
      var stateB = getCheckboxState(checkbox, b);
      if (stateA > stateB) return -1;
      if (stateA < stateB) return 1;
      return 0;
    }
  }
  var stringFieldCompareClosure = function (fieldIndex) {
    return (a, b) => {
      var fa = pcbdata.bom.fields[a[0][1]][fieldIndex];
      var fb = pcbdata.bom.fields[b[0][1]][fieldIndex];
      if (fa != fb) return fa > fb ? 1 : -1;
      else return 0;
    }
  }
  var referenceRegex = /(?<prefix>[^0-9]+)(?<number>[0-9]+)/;
  var compareRefs = (a, b) => {
    var ra = referenceRegex.exec(a);
    var rb = referenceRegex.exec(b);
    if (ra === null || rb === null) {
      if (a != b) return a > b ? 1 : -1;
      return 0;
    } else {
      if (ra.groups.prefix != rb.groups.prefix) {
        return ra.groups.prefix > rb.groups.prefix ? 1 : -1;
      }
      if (ra.groups.number != rb.groups.number) {
        return parseInt(ra.groups.number) > parseInt(rb.groups.number) ? 1 : -1;
      }
      return 0;
    }
  }
  if (settings.bommode == "netlist") {
    tr.appendChild(createColumnHeader("Net name", "bom-netname", (a, b) => {
      if (a > b) return -1;
      if (a < b) return 1;
      return 0;
    }));
    tr.appendChild(createColumnHeader("Color", "bom-color", (a, b) => {
      return 0;
    }));
  } else {
    // Filter hidden columns
    var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
    var valueIndex = config.fields.indexOf("Value");
    var footprintIndex = config.fields.indexOf("Footprint");
    columns.forEach((column) => {
      if (column === placeHolderColumn) {
        var n = 1;
        if (column === "checkboxes")
          n = settings.checkboxes.length;
        for (i = 0; i < n; i++) {
          td = placeHolderElements.shift();
          tr.appendChild(td);
        }
        return;
      } else if (column === "checkboxes") {
        for (var checkbox of settings.checkboxes) {
          th = createColumnHeader(
            checkbox, "bom-checkbox", checkboxCompareClosure(checkbox), true);
          tr.appendChild(th);
        }
      } else if (column === "References") {
        tr.appendChild(createColumnHeader("References", "references", (a, b) => {
          var i = 0;
          while (i < a.length && i < b.length) {
            if (a[i] != b[i]) return compareRefs(a[i][0], b[i][0]);
            i++;
          }
          return a.length - b.length;
        }));
      } else if (column === "Value") {
        tr.appendChild(createColumnHeader("Value", "value", (a, b) => {
          var ra = a[0][1], rb = b[0][1];
          return valueCompare(
            pcbdata.bom.parsedValues[ra], pcbdata.bom.parsedValues[rb],
            pcbdata.bom.fields[ra][valueIndex], pcbdata.bom.fields[rb][valueIndex]);
        }));
        return;
      } else if (column === "Footprint") {
        tr.appendChild(createColumnHeader(
          "Footprint", "footprint", stringFieldCompareClosure(footprintIndex)));
      } else if (column === "Quantity" && settings.bommode == "grouped") {
        tr.appendChild(createColumnHeader("Quantity", "quantity", (a, b) => {
          return a.length - b.length;
        }));
      } else {
        // Other fields
        var i = config.fields.indexOf(column);
        if (i < 0)
          return;
        tr.appendChild(createColumnHeader(
          column, `field${i + 1}`, stringFieldCompareClosure(i)));
      }
    });
  }
  bomhead.appendChild(tr);
}

function populateBomBody(placeholderColumn = null, placeHolderElements = null) {
  const urlRegex = /^(https?:\/\/[^\s\/$.?#][^\s]*|file:\/\/([a-zA-Z]:|\/)[^\x00]+)$/;
  while (bom.firstChild) {
    bom.removeChild(bom.firstChild);
  }
  highlightHandlers = [];
  footprintIndexToHandler = {};
  netsToHandler = {};
  currentHighlightedRowId = null;
  var first = true;
  var style = getComputedStyle(topmostdiv);
  var defaultNetColor = style.getPropertyValue('--track-color').trim();
  if (settings.bommode == "netlist") {
    bomtable = pcbdata.nets.slice();
  } else {
    switch (settings.canvaslayout) {
      case 'F':
        bomtable = pcbdata.bom.F.slice();
        break;
      case 'FB':
        bomtable = pcbdata.bom.both.slice();
        break;
      case 'B':
        bomtable = pcbdata.bom.B.slice();
        break;
    }
    if (settings.bommode == "ungrouped") {
      // expand bom table
      expandedTable = []
      for (var bomentry of bomtable) {
        for (var ref of bomentry) {
          expandedTable.push([ref]);
        }
      }
      bomtable = expandedTable;
    }
  }
  if (bomSortFunction) {
    bomtable = bomtable.sort(bomSortFunction);
  }
  for (var i in bomtable) {
    var bomentry = bomtable[i];
    if (filter && !entryMatches(bomentry)) {
      continue;
    }
    var references = null;
    var netname = null;
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    var rownum = +i + 1;
    tr.id = "bomrow" + rownum;
    td.textContent = rownum;
    tr.appendChild(td);
    if (settings.bommode == "netlist") {
      netname = bomentry;
      td = document.createElement("TD");
      td.innerHTML = highlightFilter(netname ? netname : "&lt;no net&gt;");
      tr.appendChild(td);
      var color = settings.netColors[netname] || defaultNetColor;
      td = document.createElement("TD");
      var colorBox = document.createElement("INPUT");
      colorBox.type = "color";
      colorBox.value = color;
      colorBox.onchange = netColorChangeHandler(netname);
      colorBox.onmouseup = netColorRightClick(netname);
      colorBox.oncontextmenu = (e) => e.preventDefault();
      td.appendChild(colorBox);
      td.classList.add("color-column");
      tr.appendChild(td);
    } else {
      if (reflookup) {
        references = findRefInEntry(bomentry);
        if (references.length == 0) {
          continue;
        }
      } else {
        references = bomentry;
      }
      // Filter hidden columns
      var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
      columns.forEach((column) => {
        if (column === placeholderColumn) {
          var n = 1;
          if (column === "checkboxes")
            n = settings.checkboxes.length;
          for (i = 0; i < n; i++) {
            td = placeHolderElements.shift();
            tr.appendChild(td);
          }
          return;
        } else if (column === "checkboxes") {
          for (var checkbox of settings.checkboxes) {
            if (checkbox) {
              td = document.createElement("TD");
              var input = document.createElement("input");
              input.type = "checkbox";
              input.onchange = createCheckboxChangeHandler(checkbox, references, tr);
              setBomCheckboxState(checkbox, input, references);
              if (input.checked && settings.markWhenChecked == checkbox) {
                tr.classList.add("checked");
              }
              td.appendChild(input);
              tr.appendChild(td);
            }
          }
        } else if (column === "References") {
          td = document.createElement("TD");
          td.innerHTML = highlightFilter(references.map(r => r[0]).join(", "));
          tr.appendChild(td);
        } else if (column === "Quantity" && settings.bommode == "grouped") {
          // Quantity
          td = document.createElement("TD");
          td.textContent = references.length;
          tr.appendChild(td);
        } else {
          // All the other fields
          var field_index = config.fields.indexOf(column)
          if (field_index < 0)
            return;
          var valueSet = new Set();
          references.map(r => r[1]).forEach((id) => valueSet.add(pcbdata.bom.fields[id][field_index]));
          td = document.createElement("TD");
          var output = new Array();
          for (let item of valueSet) {
            const visible = highlightFilter(String(item));
            if (typeof item === 'string' && item.match(urlRegex)) {
              output.push(`<a href="${item}" target="_blank">${visible}</a>`);
            } else {
              output.push(visible);
            }
          }
          td.innerHTML = output.join(", ");
          tr.appendChild(td);
        }
      });
    }
    bom.appendChild(tr);
    var handler = createRowHighlightHandler(tr.id, references, netname);
    tr.onmousemove = handler;
    highlightHandlers.push({
      id: tr.id,
      handler: handler,
    });
    if (references !== null) {
      for (var refIndex of references.map(r => r[1])) {
        footprintIndexToHandler[refIndex] = handler;
      }
    }
    if (netname !== null) {
      netsToHandler[netname] = handler;
    }
    if ((filter || reflookup) && first) {
      handler();
      first = false;
    }
  }
  EventHandler.emitEvent(
    IBOM_EVENT_TYPES.BOM_BODY_CHANGE_EVENT, {
    filter: filter,
    reflookup: reflookup,
    checkboxes: settings.checkboxes,
    bommode: settings.bommode,
  });
}

function highlightPreviousRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[highlightHandlers.length - 1].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[0].id == currentHighlightedRowId) {
      highlightHandlers[highlightHandlers.length - 1].handler();
    } else {
      for (var i = 0; i < highlightHandlers.length - 1; i++) {
        if (highlightHandlers[i + 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function highlightNextRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[0].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[highlightHandlers.length - 1].id == currentHighlightedRowId) {
      highlightHandlers[0].handler();
    } else {
      for (var i = 1; i < highlightHandlers.length; i++) {
        if (highlightHandlers[i - 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function populateBomTable() {
  populateBomHeader();
  populateBomBody();
  setBomHandlers();
  resizableGrid(bomhead);
}

function footprintsClicked(footprintIndexes) {
  var lastClickedIndex = footprintIndexes.indexOf(lastClicked);
  for (var i = 1; i <= footprintIndexes.length; i++) {
    var refIndex = footprintIndexes[(lastClickedIndex + i) % footprintIndexes.length];
    if (refIndex in footprintIndexToHandler) {
      lastClicked = refIndex;
      footprintIndexToHandler[refIndex]();
      smoothScrollToRow(currentHighlightedRowId);
      break;
    }
  }
}

function netClicked(net) {
  if (net in netsToHandler) {
    netsToHandler[net]();
    smoothScrollToRow(currentHighlightedRowId);
  } else {
    clearHighlightedFootprints();
    highlightedNet = net;
    drawHighlights();
  }
}

function updateFilter(input) {
  filter = input.toLowerCase();
  populateBomTable();
}

function updateRefLookup(input) {
  reflookup = input.toLowerCase();
  populateBomTable();
}

function changeCanvasLayout(layout) {
  document.getElementById("fl-btn").classList.remove("depressed");
  document.getElementById("fb-btn").classList.remove("depressed");
  document.getElementById("bl-btn").classList.remove("depressed");
  switch (layout) {
    case 'F':
      document.getElementById("fl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(1);
      }
      break;
    case 'B':
      document.getElementById("bl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(0);
      }
      break;
    default:
      document.getElementById("fb-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.setSizes([50, 50]);
      }
  }
  settings.canvaslayout = layout;
  writeStorage("canvaslayout", layout);
  resizeAll();
  changeBomMode(settings.bommode);
}

function populateMetadata() {
  document.getElementById("title").innerHTML = pcbdata.metadata.title;
  document.getElementById("revision").innerHTML = "Rev: " + pcbdata.metadata.revision;
  document.getElementById("company").innerHTML = pcbdata.metadata.company;
  document.getElementById("filedate").innerHTML = pcbdata.metadata.date;
  if (pcbdata.metadata.title != "") {
    document.title = pcbdata.metadata.title + " BOM";
  }
  // Calculate board stats
  var fp_f = 0,
    fp_b = 0,
    pads_f = 0,
    pads_b = 0,
    pads_th = 0;
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    if (pcbdata.bom.skipped.includes(i)) continue;
    var mod = pcbdata.footprints[i];
    if (mod.layer == "F") {
      fp_f++;
    } else {
      fp_b++;
    }
    for (var pad of mod.pads) {
      if (pad.type == "th") {
        pads_th++;
      } else {
        if (pad.layers.includes("F")) {
          pads_f++;
        }
        if (pad.layers.includes("B")) {
          pads_b++;
        }
      }
    }
  }
  document.getElementById("stats-components-front").innerHTML = fp_f;
  document.getElementById("stats-components-back").innerHTML = fp_b;
  document.getElementById("stats-components-total").innerHTML = fp_f + fp_b;
  document.getElementById("stats-groups-front").innerHTML = pcbdata.bom.F.length;
  document.getElementById("stats-groups-back").innerHTML = pcbdata.bom.B.length;
  document.getElementById("stats-groups-total").innerHTML = pcbdata.bom.both.length;
  document.getElementById("stats-smd-pads-front").innerHTML = pads_f;
  document.getElementById("stats-smd-pads-back").innerHTML = pads_b;
  document.getElementById("stats-smd-pads-total").innerHTML = pads_f + pads_b;
  document.getElementById("stats-th-pads").innerHTML = pads_th;
  // Update version string
  document.getElementById("github-link").innerHTML = "InteractiveHtmlBom&nbsp;" +
    /^v\d+\.\d+/.exec(pcbdata.ibom_version)[0];
}

function changeBomLayout(layout) {
  document.getElementById("bom-btn").classList.remove("depressed");
  document.getElementById("lr-btn").classList.remove("depressed");
  document.getElementById("tb-btn").classList.remove("depressed");
  switch (layout) {
    case 'bom-only':
      document.getElementById("bom-btn").classList.add("depressed");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      document.getElementById("frontcanvas").style.display = "none";
      document.getElementById("backcanvas").style.display = "none";
      document.getElementById("bot").style.height = "";
      break;
    case 'top-bottom':
      document.getElementById("tb-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.remove("split-horizontal");
      document.getElementById("canvasdiv").classList.remove("split-horizontal");
      document.getElementById("frontcanvas").classList.add("split-horizontal");
      document.getElementById("backcanvas").classList.add("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        direction: "vertical",
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        onDragEnd: resizeAll
      });
      break;
    case 'left-right':
      document.getElementById("lr-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.add("split-horizontal");
      document.getElementById("canvasdiv").classList.add("split-horizontal");
      document.getElementById("frontcanvas").classList.remove("split-horizontal");
      document.getElementById("backcanvas").classList.remove("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        direction: "vertical",
        onDragEnd: resizeAll
      });
  }
  settings.bomlayout = layout;
  writeStorage("bomlayout", layout);
  changeCanvasLayout(settings.canvaslayout);
}

function changeBomMode(mode) {
  document.getElementById("bom-grouped-btn").classList.remove("depressed");
  document.getElementById("bom-ungrouped-btn").classList.remove("depressed");
  document.getElementById("bom-netlist-btn").classList.remove("depressed");
  var chkbxs = document.getElementsByClassName("visibility_checkbox");

  switch (mode) {
    case 'grouped':
      document.getElementById("bom-grouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'ungrouped':
      document.getElementById("bom-ungrouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'netlist':
      document.getElementById("bom-netlist-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = true;
      }
  }

  writeStorage("bommode", mode);
  if (mode != settings.bommode) {
    settings.bommode = mode;
    bomSortFunction = null;
    currentSortColumn = null;
    currentSortOrder = null;
    clearHighlightedFootprints();
  }
  populateBomTable();
}

function focusFilterField() {
  focusInputField(document.getElementById("filter"));
}

function focusRefLookupField() {
  focusInputField(document.getElementById("reflookup"));
}

function toggleBomCheckbox(bomrowid, checkboxnum) {
  if (!bomrowid || checkboxnum > settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum].childNodes[0];
  checkbox.checked = !checkbox.checked;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function checkBomCheckbox(bomrowid, checkboxname) {
  var checkboxnum = 0;
  while (checkboxnum < settings.checkboxes.length &&
    settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
    checkboxnum++;
  }
  if (!bomrowid || checkboxnum >= settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum + 1].childNodes[0];
  checkbox.checked = true;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function setBomCheckboxes(value) {
  writeStorage("bomCheckboxes", value);
  settings.checkboxes = value.split(",").map((e) => e.trim()).filter((e) => e);
  prepCheckboxes();
  populateMarkWhenCheckedOptions();
  setMarkWhenChecked(settings.markWhenChecked);
}

function setMarkWhenChecked(value) {
  writeStorage("markWhenChecked", value);
  settings.markWhenChecked = value;
  markedFootprints.clear();
  for (var ref of (value ? getStoredCheckboxRefs(value) : [])) {
    markedFootprints.add(ref);
  }
  populateBomTable();
  drawHighlights();
}

function prepCheckboxes() {
  var table = document.getElementById("checkbox-stats");
  while (table.childElementCount > 1) {
    table.removeChild(table.lastChild);
  }
  if (settings.checkboxes.length) {
    table.style.display = "";
  } else {
    table.style.display = "none";
  }
  for (var checkbox of settings.checkboxes) {
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    td.innerHTML = checkbox;
    tr.appendChild(td);
    td = document.createElement("TD");
    td.id = "checkbox-stats-" + checkbox;
    var progressbar = document.createElement("div");
    progressbar.classList.add("bar");
    td.appendChild(progressbar);
    var text = document.createElement("div");
    text.classList.add("text");
    td.appendChild(text);
    tr.appendChild(td);
    table.appendChild(tr);
    updateCheckboxStats(checkbox);
  }
}

function populateMarkWhenCheckedOptions() {
  var container = document.getElementById("markWhenCheckedContainer");

  if (settings.checkboxes.length == 0) {
    container.parentElement.style.display = "none";
    return;
  }

  container.innerHTML = '';
  container.parentElement.style.display = "inline-block";

  function createOption(name, displayName) {
    var id = "markWhenChecked-" + name;

    var div = document.createElement("div");
    div.classList.add("radio-container");

    var input = document.createElement("input");
    input.type = "radio";
    input.name = "markWhenChecked";
    input.value = name;
    input.id = id;
    input.onchange = () => setMarkWhenChecked(name);
    div.appendChild(input);

    // Preserve the selected element when the checkboxes change
    if (name == settings.markWhenChecked) {
      input.checked = true;
    }

    var label = document.createElement("label");
    label.innerHTML = displayName;
    label.htmlFor = id;
    div.appendChild(label);

    container.appendChild(div);
  }
  createOption("", "None");
  for (var checkbox of settings.checkboxes) {
    createOption(checkbox, checkbox);
  }
}

function updateCheckboxStats(checkbox) {
  var checked = getStoredCheckboxRefs(checkbox).size;
  var total = pcbdata.footprints.length - pcbdata.bom.skipped.length;
  var percent = checked * 100.0 / total;
  var td = document.getElementById("checkbox-stats-" + checkbox);
  td.firstChild.style.width = percent + "%";
  td.lastChild.innerHTML = checked + "/" + total + " (" + Math.round(percent) + "%)";
}

function constrain(number, min, max){
  return Math.min(Math.max(parseInt(number), min), max);
}

document.onkeydown = function (e) {
  switch (e.key) {
    case "n":
      if (document.activeElement.type == "text") {
        return;
      }
      if (currentHighlightedRowId !== null) {
        checkBomCheckbox(currentHighlightedRowId, "placed");
        highlightNextRow();
        e.preventDefault();
      }
      break;
    case "ArrowUp":
      highlightPreviousRow();
      e.preventDefault();
      break;
    case "ArrowDown":
      highlightNextRow();
      e.preventDefault();
      break;
    case "ArrowLeft":
    case "ArrowRight":
      if (document.activeElement.type != "text"){
        e.preventDefault();
        let boardRotationElement = document.getElementById("boardRotation")
        settings.boardRotation = parseInt(boardRotationElement.value);  // degrees / 5
        if (e.key == "ArrowLeft"){
            settings.boardRotation += 3;  // 15 degrees
        }
        else{
            settings.boardRotation -= 3;
        }
        settings.boardRotation = constrain(settings.boardRotation, boardRotationElement.min, boardRotationElement.max);
        boardRotationElement.value = settings.boardRotation
        setBoardRotation(settings.boardRotation);
      }
      break;
    default:
      break;
  }
  if (e.altKey) {
    switch (e.key) {
      case "f":
        focusFilterField();
        e.preventDefault();
        break;
      case "r":
        focusRefLookupField();
        e.preventDefault();
        break;
      case "z":
        changeBomLayout("bom-only");
        e.preventDefault();
        break;
      case "x":
        changeBomLayout("left-right");
        e.preventDefault();
        break;
      case "c":
        changeBomLayout("top-bottom");
        e.preventDefault();
        break;
      case "v":
        changeCanvasLayout("F");
        e.preventDefault();
        break;
      case "b":
        changeCanvasLayout("FB");
        e.preventDefault();
        break;
      case "n":
        changeCanvasLayout("B");
        e.preventDefault();
        break;
      default:
        break;
    }
    if (e.key >= '1' && e.key <= '9') {
      toggleBomCheckbox(currentHighlightedRowId, parseInt(e.key));
      e.preventDefault();
    }
  }
}

function hideNetlistButton() {
  document.getElementById("bom-ungrouped-btn").classList.remove("middle-button");
  document.getElementById("bom-ungrouped-btn").classList.add("right-most-button");
  document.getElementById("bom-netlist-btn").style.display = "none";
}

window.onload = function (e) {
  initUtils();
  initRender();
  initStorage();
  initDefaults();
  cleanGutters();
  populateMetadata();
  dbgdiv = document.getElementById("dbg");
  bom = document.getElementById("bombody");
  bomhead = document.getElementById("bomhead");
  filter = "";
  reflookup = "";
  if (!("nets" in pcbdata)) {
    hideNetlistButton();
  }
  initDone = true;
  setBomCheckboxes(document.getElementById("bomCheckboxes").value);
  // Triggers render
  changeBomLayout(settings.bomlayout);

  // Users may leave fullscreen without touching the checkbox. Uncheck.
  document.addEventListener('fullscreenchange', () => {
    if (!document.fullscreenElement)
      document.getElementById('fullscreenCheckbox').checked = false;
  });
}

window.onresize = resizeAll;
window.matchMedia("print").addListener(resizeAll);

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////
  </script>
</head>

<body>

<div id="topmostdiv" class="topmostdiv">
  <div id="top">
    <div style="float: right; height: 100%;">
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="menubtn"></button>
        <div class="menu-content">
          <label class="menu-label menu-label-top" style="width: calc(50% - 18px)">
            <input id="darkmodeCheckbox" type="checkbox" onchange="setDarkMode(this.checked)">
            Dark mode
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label menu-label-top" style="width: calc(50% - 17px); border-left: 0;">
            <input id="fullscreenCheckbox" type="checkbox" onchange="setFullscreen(this.checked)">
            Full Screen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="fabricationCheckbox" type="checkbox" checked onchange="fabricationVisible(this.checked)">
            Fab layer
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="silkscreenCheckbox" type="checkbox" checked onchange="silkscreenVisible(this.checked)">
            Silkscreen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="referencesCheckbox" type="checkbox" checked onchange="referencesVisible(this.checked)">
            References
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="valuesCheckbox" type="checkbox" checked onchange="valuesVisible(this.checked)">
            Values
          </label>
          <div id="tracksAndZonesCheckboxes">
            <label class="menu-label" style="width: calc(50% - 18px)">
              <input id="tracksCheckbox" type="checkbox" checked onchange="tracksVisible(this.checked)">
              Tracks
            </label><!-- This comment eats space! All of it!
            --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
              <input id="zonesCheckbox" type="checkbox" checked onchange="zonesVisible(this.checked)">
              Zones
            </label>
          </div>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="padsCheckbox" type="checkbox" checked onchange="padsVisible(this.checked)">
            Pads
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="dnpOutlineCheckbox" type="checkbox" checked onchange="dnpOutline(this.checked)">
            DNP outlined
          </label>
          <label class="menu-label">
            <input id="dragCheckbox" type="checkbox" checked onchange="setRedrawOnDrag(this.checked)">
            Continuous redraw on drag
          </label>
          <label class="menu-label">
            Highlight first pin
            <form id="highlightpin1">
              <div class="flexbox">
                <label>
                  <input type="radio" name="highlightpin1" value="none" onchange="setHighlightPin1('none')">
                  None
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="all" onchange="setHighlightPin1('all')">
                  All
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="selected" onchange="setHighlightPin1('selected')">
                  Selected
                </label>
              </div>
            </form>
          </label>
          <label class="menu-label">
            <span>Board rotation</span>
            <span style="float: right"><span id="rotationDegree">0</span>&#176;</span>
            <input id="boardRotation" type="range" min="-36" max="36" value="0" class="slider" oninput="setBoardRotation(this.value)">
          </label>
          <label class="menu-label">
            <input id="offsetBackRotationCheckbox" type="checkbox" onchange="setOffsetBackRotation(this.checked)">
            Offset back rotation
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Bom checkboxes</div>
            <input id="bomCheckboxes" class="menu-textbox" type=text
                   oninput="setBomCheckboxes(this.value)">
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Mark when checked</div>
            <div id="markWhenCheckedContainer"></div>
          </label>
          <label class="menu-label">
            <span class="shameless-plug">
              <span>Created using</span>
              <a id="github-link" target="blank" href="https://github.com/openscopeproject/InteractiveHtmlBom">InteractiveHtmlBom</a>
              <a target="blank" title="Mouse and keyboard help" href="https://github.com/openscopeproject/InteractiveHtmlBom/wiki/Usage#bom-page-mouse-actions" style="text-decoration: none;"><label class="help-link">?</label></a>
            </span>
          </label>
        </div>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="fl-btn" class="left-most-button" onclick="changeCanvasLayout('F')"
                title="Front only">F
        </button>
        <button id="fb-btn" class="middle-button" onclick="changeCanvasLayout('FB')"
                title="Front and Back">FB
        </button>
        <button id="bl-btn" class="right-most-button" onclick="changeCanvasLayout('B')"
                title="Back only">B
        </button>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="bom-btn" class="left-most-button" onclick="changeBomLayout('bom-only')"
                title="BOM only"></button>
        <button id="lr-btn" class="middle-button" onclick="changeBomLayout('left-right')"
                title="BOM left, drawings right"></button>
        <button id="tb-btn" class="right-most-button" onclick="changeBomLayout('top-bottom')"
                title="BOM top, drawings bot"></button>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="bom-grouped-btn" class="left-most-button" onclick="changeBomMode('grouped')"
                title="Grouped BOM"></button>
        <button id="bom-ungrouped-btn" class="middle-button" onclick="changeBomMode('ungrouped')"
                title="Ungrouped BOM"></button>
        <button id="bom-netlist-btn" class="right-most-button" onclick="changeBomMode('netlist')"
                title="Netlist"></button>
      </div>
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="statsbtn"></button>
        <div class="menu-content">
          <table class="stats">
            <tbody>
              <tr>
                <td width="40%">Board stats</td>
                <td>Front</td>
                <td>Back</td>
                <td>Total</td>
              </tr>
              <tr>
                <td>Components</td>
                <td id="stats-components-front">~</td>
                <td id="stats-components-back">~</td>
                <td id="stats-components-total">~</td>
              </tr>
              <tr>
                <td>Groups</td>
                <td id="stats-groups-front">~</td>
                <td id="stats-groups-back">~</td>
                <td id="stats-groups-total">~</td>
              </tr>
              <tr>
                <td>SMD pads</td>
                <td id="stats-smd-pads-front">~</td>
                <td id="stats-smd-pads-back">~</td>
                <td id="stats-smd-pads-total">~</td>
              </tr>
              <tr>
                <td>TH pads</td>
                <td colspan=3 id="stats-th-pads">~</td>
              </tr>
            </tbody>
          </table>
          <table class="stats">
            <col width="40%"/><col />
            <tbody id="checkbox-stats">
              <tr>
                <td colspan=2 style="border-top: 0">Checkboxes</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="iobtn"></button>
        <div class="menu-content">
          <div class="menu-label menu-label-top">
            <div style="margin-left: 5px;">Save board image</div>
            <div class="flexbox">
              <input id="render-save-width" class="menu-textbox" type="text" value="1000" placeholder="Width"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
              <span>X</span>
              <input id="render-save-height" class="menu-textbox" type="text" value="1000" placeholder="Height"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
            </div>
            <label>
              <input id="render-save-transparent" type="checkbox">
              Transparent background
            </label>
            <div class="flexbox">
              <button class="savebtn" onclick="saveImage('F')">Front</button>
              <button class="savebtn" onclick="saveImage('B')">Back</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Config and checkbox state</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveSettings()">Export</button>
              <button class="savebtn" onclick="loadSettings()">Import</button>
              <button class="savebtn" onclick="resetSettings()">Reset</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Save bom table as</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveBomTable('csv')">csv</button>
              <button class="savebtn" onclick="saveBomTable('txt')">txt</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="fileinfodiv" style="overflow: auto;">
      <table class="fileinfo">
        <tbody>
          <tr>
            <td id="title" class="title" style="width: 70%">
              Title
            </td>
            <td id="revision" class="title" style="width: 30%">
              Revision
            </td>
          </tr>
          <tr>
            <td id="company">
              Company
            </td>
            <td id="filedate">
              Date
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div id="bot" class="split" style="height: calc(100% - 80px)">
    <div id="bomdiv" class="split split-horizontal">
      <div style="width: 100%">
        <input id="reflookup" class="textbox searchbox reflookup hideonprint" type="text" placeholder="Ref lookup"
               oninput="updateRefLookup(this.value)">
        <input id="filter" class="textbox searchbox filter hideonprint" type="text" placeholder="Filter"
               oninput="updateFilter(this.value)">
        <div class="button-container hideonprint" style="float: left; margin: 0;">
          <button id="copy" title="Copy bom table to clipboard"
               onclick="saveBomTable('clipboard')"></button>
        </div>
      </div>
      <div id="dbg"></div>
      <table class="bom" id="bomtable">
        <thead id="bomhead">
        </thead>
        <tbody id="bombody">
        </tbody>
      </table>
    </div>
    <div id="canvasdiv" class="split split-horizontal">
      <div id="frontcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="F_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="F_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="F_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="F_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
      <div id="backcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="B_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="B_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="B_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="B_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
