<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive BOM for KiCAD</title>
  <style type="text/css">
:root {
  --pcb-edge-color: black;
  --pad-color: #878787;
  --pad-hole-color: #CCCCCC;
  --pad-color-highlight: #D04040;
  --pad-color-highlight-both: #D0D040;
  --pad-color-highlight-marked: #44a344;
  --pin1-outline-color: #ffb629;
  --pin1-outline-color-highlight: #ffb629;
  --pin1-outline-color-highlight-both: #fcbb39;
  --pin1-outline-color-highlight-marked: #fdbe41;
  --silkscreen-edge-color: #aa4;
  --silkscreen-polygon-color: #4aa;
  --silkscreen-text-color: #4aa;
  --fabrication-edge-color: #907651;
  --fabrication-polygon-color: #907651;
  --fabrication-text-color: #a27c24;
  --track-color: #def5f1;
  --track-color-highlight: #D04040;
  --zone-color: #def5f1;
  --zone-color-highlight: #d0404080;
}

html,
body {
  margin: 0px;
  height: 100%;
  font-family: Verdana, sans-serif;
}

.dark.topmostdiv {
  --pcb-edge-color: #eee;
  --pad-color: #808080;
  --pin1-outline-color: #ffa800;
  --pin1-outline-color-highlight: #ccff00;
  --track-color: #42524f;
  --zone-color: #42524f;
  background-color: #252c30;
  color: #eee;
}

button {
  background-color: #eee;
  border: 1px solid #888;
  color: black;
  height: 44px;
  width: 44px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  font-weight: bolder;
}

.dark button {
  /* This will be inverted */
  background-color: #c3b7b5;
}

button.depressed {
  background-color: #0a0;
  color: white;
}

.dark button.depressed {
  /* This will be inverted */
  background-color: #b3b;
}

button:focus {
  outline: 0;
}

button#tb-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.32 290.12h5.82M1.32 291.45h5.82' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 292.5v4.23M.26 292.63H8.2' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='1.35' y='295.73'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#lr-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.06 290.12H3.7m-2.64 1.33H3.7m-2.64 1.32H3.7m-2.64 1.3H3.7m-2.64 1.33H3.7' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 288.8v7.94m0-4.11h3.96' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='5.11' y='291.96'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#bom-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)' fill='none' stroke='%23000' stroke-width='.4'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' stroke-linejoin='round'/%3E%3Cpath d='M1.59 290.12h5.29M1.59 291.45h5.33M1.59 292.75h5.33M1.59 294.09h5.33M1.59 295.41h5.33'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-grouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m4 0h5m4 0h3M6.1 22h3m3.9 0h5m4 0h4m-16-8h4m4 0h4'/%3E%3Cpath stroke-linecap='null' d='M5 17.5h22M5 26.6h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-ungrouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m-4 8h3m-3 8h4'/%3E%3Cpath stroke-linecap='null' d='M5 13.5h22m-22 8h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-netlist-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg fill='none' stroke='%23000' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-width='2' d='M6 26l6-6v-8m13.8-6.3l-6 6v8'/%3E%3Ccircle cx='11.8' cy='9.5' r='2.8' stroke-width='2'/%3E%3Ccircle cx='19.8' cy='22.8' r='2.8' stroke-width='2'/%3E%3C/g%3E%3C/svg%3E");
}

button#copy {
  background-image: url("data:image/svg+xml,%3Csvg height='48' viewBox='0 0 48 48' width='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h48v48h-48z' fill='none'/%3E%3Cpath d='M32 2h-24c-2.21 0-4 1.79-4 4v28h4v-28h24v-4zm6 8h-22c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h22c2.21 0 4-1.79 4-4v-28c0-2.21-1.79-4-4-4zm0 32h-22v-28h22v28z'/%3E%3C/svg%3E");
  background-position: 6px 6px;
  background-repeat: no-repeat;
  background-size: 26px 26px;
  border-radius: 6px;
  height: 40px;
  width: 40px;
  margin: 10px 5px;
}

button#copy:active {
  box-shadow: inset 0px 0px 5px #6c6c6c;
}

textarea.clipboard-temp {
  position: fixed;
  top: 0;
  left: 0;
  width: 2em;
  height: 2em;
  padding: 0;
  border: None;
  outline: None;
  box-shadow: None;
  background: transparent;
}

.left-most-button {
  border-right: 0;
  border-top-left-radius: 6px;
  border-bottom-left-radius: 6px;
}

.middle-button {
  border-right: 0;
}

.right-most-button {
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
}

.button-container {
  font-size: 0;
  margin: 10px 10px 10px 0px;
}

.dark .button-container {
  filter: invert(1);
}

.button-container button {
  background-size: 32px 32px;
  background-position: 5px 5px;
  background-repeat: no-repeat;
}

@media print {
  .hideonprint {
    display: none;
  }
}

canvas {
  cursor: crosshair;
}

canvas:active {
  cursor: grabbing;
}

.fileinfo {
  width: 100%;
  max-width: 1000px;
  border: none;
  padding: 5px;
}

.fileinfo .title {
  font-size: 20pt;
  font-weight: bold;
}

.fileinfo td {
  overflow: hidden;
  white-space: nowrap;
  max-width: 1px;
  width: 50%;
  text-overflow: ellipsis;
}

.bom {
  border-collapse: collapse;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 10pt;
  table-layout: fixed;
  width: 100%;
  margin-top: 1px;
  position: relative;
}

.bom th,
.bom td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

.dark .bom th,
.dark .bom td {
  border: 1px solid #777;
}

.bom th {
  background-color: #CCCCCC;
  background-clip: padding-box;
}

.dark .bom th {
  background-color: #3b4749;
}

.bom tr.highlighted:nth-child(n) {
  background-color: #cfc;
}

.dark .bom tr.highlighted:nth-child(n) {
  background-color: #226022;
}

.bom tr:nth-child(even) {
  background-color: #f2f2f2;
}

.dark .bom tr:nth-child(even) {
  background-color: #313b40;
}

.bom tr.checked {
  color: #1cb53d;
}

.dark .bom tr.checked {
  color: #2cce54;
}

.bom tr {
  transition: background-color 0.2s;
}

.bom .numCol {
  width: 30px;
}

.bom .value {
  width: 15%;
}

.bom .quantity {
  width: 65px;
}

.bom th .sortmark {
  position: absolute;
  right: 1px;
  top: 1px;
  margin-top: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #221 transparent;
  transform-origin: 50% 85%;
  transition: opacity 0.2s, transform 0.4s;
}

.dark .bom th .sortmark {
  filter: invert(1);
}

.bom th .sortmark.none {
  opacity: 0;
}

.bom th .sortmark.desc {
  transform: rotate(180deg);
}

.bom th:hover .sortmark.none {
  opacity: 0.5;
}

.bom .bom-checkbox {
  width: 30px;
  position: relative;
  user-select: none;
  -moz-user-select: none;
}

.bom .bom-checkbox:before {
  content: "";
  position: absolute;
  border-width: 15px;
  border-style: solid;
  border-color: #51829f transparent transparent transparent;
  visibility: hidden;
  top: -15px;
}

.bom .bom-checkbox:after {
  content: "Double click to set/unset all";
  position: absolute;
  color: white;
  top: -35px;
  left: -26px;
  background: #51829f;
  padding: 5px 15px;
  border-radius: 8px;
  white-space: nowrap;
  visibility: hidden;
}

.bom .bom-checkbox:hover:before,
.bom .bom-checkbox:hover:after {
  visibility: visible;
  transition: visibility 0.2s linear 1s;
}

.split {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  overflow-y: auto;
  overflow-x: hidden;
  background-color: inherit;
}

.split.split-horizontal,
.gutter.gutter-horizontal {
  height: 100%;
  float: left;
}

.gutter {
  background-color: #ddd;
  background-repeat: no-repeat;
  background-position: 50%;
  transition: background-color 0.3s;
}

.dark .gutter {
  background-color: #777;
}

.gutter.gutter-horizontal {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');
  cursor: ew-resize;
  width: 5px;
}

.gutter.gutter-vertical {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=');
  cursor: ns-resize;
  height: 5px;
}

.searchbox {
  float: left;
  height: 40px;
  margin: 10px 5px;
  padding: 12px 32px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 18px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 6px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABNklEQVQ4T8XSMUvDQBQH8P/LElFa/AIZHcTBQSz0I/gFstTBRR2KUC4ldDxw7h0Bl3RRUATxi4iiODgoiLNrbQYp5J6cpJJqomkX33Z37/14d/dIa33MzDuYI4johOI4XhyNRteO46zNYjDzAxE1yBZprVeZ+QbAUhXEGJMA2Ox2u4+fQIa0mPmsCgCgJYQ4t7lfgF0opQYAdv9ABkKI/UnOFCClXKjX61cA1osQY8x9kiRNKeV7IWA3oyhaSdP0FkAtjxhj3hzH2RBCPOf3pzqYHCilfAAX+URm9oMguPzeWSGQvUcMYC8rOBJCHBRdqxTo9/vbRHRqi8bj8XKv1xvODbiuW2u32/bvf0SlDv4XYOY7z/Mavu+nM1+BmQ+NMc0wDF/LprP0DbTWW0T00ul0nn4b7Q87+X4Qmfiq2wAAAABJRU5ErkJggg==');
  background-position: 10px 10px;
  background-repeat: no-repeat;
}

.dark .searchbox {
  background-color: #111;
  color: #eee;
}

.searchbox::placeholder {
  color: #ccc;
}

.dark .searchbox::placeholder {
  color: #666;
}

.filter {
  width: calc(60% - 64px);
}

.reflookup {
  width: calc(40% - 10px);
}

input[type=text]:focus {
  background-color: white;
  border: 1px solid #333;
}

.dark input[type=text]:focus {
  background-color: #333;
  border: 1px solid #ccc;
}

mark.highlight {
  background-color: #5050ff;
  color: #fff;
  padding: 2px;
  border-radius: 6px;
}

.dark mark.highlight {
  background-color: #76a6da;
  color: #111;
}

.menubtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 20 20'%3E%3Cpath fill='none' d='M0 0h20v20H0V0z'/%3E%3Cpath d='M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z'/%3E%3C/svg%3E%0A");
  background-position: center;
  background-repeat: no-repeat;
}

.statsbtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg width='36' height='36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 6h28v24H4V6zm0 8h28v8H4m9-16v24h10V5.8' fill='none' stroke='%23000' stroke-width='2'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.iobtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36'%3E%3Cpath fill='none' stroke='%23000' stroke-width='2' d='M3 33v-7l6.8-7h16.5l6.7 7v7H3zM3.2 26H33M21 9l5-5.9 5 6h-2.5V15h-5V9H21zm-4.9 0l-5 6-5-6h2.5V3h5v6h2.5z'/%3E%3Cpath fill='none' stroke='%23000' d='M6.1 29.5H10'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.visbtn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath fill='none' stroke='%23333' d='M2.5 4.5h5v15h-5zM9.5 4.5h5v15h-5zM16.5 4.5h5v15h-5z'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
  padding: 15px;
}

#vismenu-content {
  left: 0px;
  font-family: Verdana, sans-serif;
}

.dark .statsbtn,
.dark .savebtn,
.dark .menubtn,
.dark .iobtn,
.dark .visbtn {
  filter: invert(1);
}

.flexbox {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.savebtn {
  background-color: #d6d6d6;
  width: auto;
  height: 30px;
  flex-grow: 1;
  margin: 5px;
  border-radius: 4px;
}

.savebtn:active {
  background-color: #0a0;
  color: white;
}

.dark .savebtn:active {
  /* This will be inverted */
  background-color: #b3b;
}

.stats {
  border-collapse: collapse;
  font-size: 12pt;
  table-layout: fixed;
  width: 100%;
  min-width: 450px;
}

.dark .stats td {
  border: 1px solid #bbb;
}

.stats td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

#checkbox-stats div {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

#checkbox-stats .bar {
  background-color: rgba(28, 251, 0, 0.6);
}

.menu {
  position: relative;
  display: inline-block;
  margin: 10px 10px 10px 0px;
}

.menu-content {
  font-size: 12pt !important;
  text-align: left !important;
  font-weight: normal !important;
  display: none;
  position: absolute;
  background-color: white;
  right: 0;
  min-width: 300px;
  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
  z-index: 100;
  padding: 8px;
}

.dark .menu-content {
  background-color: #111;
}

.menu:hover .menu-content {
  display: block;
}

.menu:hover .menubtn,
.menu:hover .iobtn,
.menu:hover .statsbtn {
  background-color: #eee;
}

.menu-label {
  display: inline-block;
  padding: 8px;
  border: 1px solid #ccc;
  border-top: 0;
  width: calc(100% - 18px);
}

.menu-label-top {
  border-top: 1px solid #ccc;
}

.menu-textbox {
  float: left;
  height: 24px;
  margin: 10px 5px;
  padding: 5px 5px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 14px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 4px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  width: calc(100% - 10px);
}

.menu-textbox.invalid,
.dark .menu-textbox.invalid {
  color: red;
}

.dark .menu-textbox {
  background-color: #222;
  color: #eee;
}

.radio-container {
  margin: 4px;
}

.topmostdiv {
  width: 100%;
  height: 100%;
  background-color: white;
  transition: background-color 0.3s;
}

#top {
  height: 78px;
  border-bottom: 2px solid black;
}

.dark #top {
  border-bottom: 2px solid #ccc;
}

#dbg {
  display: block;
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #aaa;
}

::-webkit-scrollbar-thumb {
  background: #666;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  margin: 3px 0;
  padding: 0;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
  border-radius: 3px;
}

.slider:hover {
  opacity: 1;
}

.slider:focus {
  outline: none;
}

.slider::-webkit-slider-runnable-track {
  -webkit-appearance: none;
  width: 100%;
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
  border: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin-top: -4px;
}

.dark .slider::-webkit-slider-thumb {
  background: #3d3;
}

.slider::-moz-range-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
}

.slider::-moz-range-track {
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
}

.dark .slider::-moz-range-thumb {
  background: #3d3;
}

.slider::-ms-track {
  width: 100%;
  height: 8px;
  border-width: 3px 0;
  background: transparent;
  border-color: transparent;
  color: transparent;
  transition: opacity .2s;
}

.slider::-ms-fill-lower {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-fill-upper {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin: 0;
}

.shameless-plug {
  font-size: 0.8em;
  text-align: center;
  display: block;
}

a {
  color: #0278a4;
}

.dark a {
  color: #00b9fd;
}

#frontcanvas,
#backcanvas {
  touch-action: none;
}

.placeholder {
  border: 1px dashed #9f9fda !important;
  background-color: #edf2f7 !important;
}

.dragging {
  z-index: 999;
}

.dark .dragging>table>tbody>tr {
  background-color: #252c30;
}

.dark .placeholder {
  filter: invert(1);
}

.column-spacer {
  top: 0;
  left: 0;
  width: calc(100% - 4px);
  position: absolute;
  cursor: pointer;
  user-select: none;
  height: 100%;
}

.column-width-handle {
  top: 0;
  right: 0;
  width: 4px;
  position: absolute;
  cursor: col-resize;
  user-select: none;
  height: 100%;
}

.column-width-handle:hover {
  background-color: #4f99bd;
}

.help-link {
  border: 1px solid #0278a4;
  padding-inline: 0.3rem;
  border-radius: 3px;
  cursor: pointer;
}

.dark .help-link {
  border: 1px solid #00b9fd;
}

.bom-color {
  width: 20%;
}

.color-column input {
  width: 1.6rem;
  height: 1rem;
  border: 1px solid black;
  cursor: pointer;
  padding: 0;
}

/* removes default styling from input color element */
::-webkit-color-swatch {
  border: none;
}

::-webkit-color-swatch-wrapper {
  padding: 0;
}

::-moz-color-swatch,
::-moz-focus-inner {
  border: none;
}

::-moz-focus-inner {
  padding: 0;
}

  </style>
  <script type="text/javascript" >
///////////////////////////////////////////////
/*
  Split.js - v1.3.5
  MIT License
  https://github.com/nathancahill/Split.js
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Split=t()}(this,function(){"use strict";var e=window,t=e.document,n="addEventListener",i="removeEventListener",r="getBoundingClientRect",s=function(){return!1},o=e.attachEvent&&!e[n],a=["","-webkit-","-moz-","-o-"].filter(function(e){var n=t.createElement("div");return n.style.cssText="width:"+e+"calc(9px)",!!n.style.length}).shift()+"calc",l=function(e){return"string"==typeof e||e instanceof String?t.querySelector(e):e};return function(u,c){function z(e,t,n){var i=A(y,t,n);Object.keys(i).forEach(function(t){return e.style[t]=i[t]})}function h(e,t){var n=B(y,t);Object.keys(n).forEach(function(t){return e.style[t]=n[t]})}function f(e){var t=E[this.a],n=E[this.b],i=t.size+n.size;t.size=e/this.size*i,n.size=i-e/this.size*i,z(t.element,t.size,this.aGutterSize),z(n.element,n.size,this.bGutterSize)}function m(e){var t;this.dragging&&((t="touches"in e?e.touches[0][b]-this.start:e[b]-this.start)<=E[this.a].minSize+M+this.aGutterSize?t=E[this.a].minSize+this.aGutterSize:t>=this.size-(E[this.b].minSize+M+this.bGutterSize)&&(t=this.size-(E[this.b].minSize+this.bGutterSize)),f.call(this,t),c.onDrag&&c.onDrag())}function g(){var e=E[this.a].element,t=E[this.b].element;this.size=e[r]()[y]+t[r]()[y]+this.aGutterSize+this.bGutterSize,this.start=e[r]()[G]}function d(){var t=this,n=E[t.a].element,r=E[t.b].element;t.dragging&&c.onDragEnd&&c.onDragEnd(),t.dragging=!1,e[i]("mouseup",t.stop),e[i]("touchend",t.stop),e[i]("touchcancel",t.stop),t.parent[i]("mousemove",t.move),t.parent[i]("touchmove",t.move),delete t.stop,delete t.move,n[i]("selectstart",s),n[i]("dragstart",s),r[i]("selectstart",s),r[i]("dragstart",s),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",t.gutter.style.cursor="",t.parent.style.cursor=""}function S(t){var i=this,r=E[i.a].element,o=E[i.b].element;!i.dragging&&c.onDragStart&&c.onDragStart(),t.preventDefault(),i.dragging=!0,i.move=m.bind(i),i.stop=d.bind(i),e[n]("mouseup",i.stop),e[n]("touchend",i.stop),e[n]("touchcancel",i.stop),i.parent[n]("mousemove",i.move),i.parent[n]("touchmove",i.move),r[n]("selectstart",s),r[n]("dragstart",s),o[n]("selectstart",s),o[n]("dragstart",s),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",i.gutter.style.cursor=j,i.parent.style.cursor=j,g.call(i)}function v(e){e.forEach(function(t,n){if(n>0){var i=F[n-1],r=E[i.a],s=E[i.b];r.size=e[n-1],s.size=t,z(r.element,r.size,i.aGutterSize),z(s.element,s.size,i.bGutterSize)}})}function p(){F.forEach(function(e){e.parent.removeChild(e.gutter),E[e.a].element.style[y]="",E[e.b].element.style[y]=""})}void 0===c&&(c={});var y,b,G,E,w=l(u[0]).parentNode,D=e.getComputedStyle(w).flexDirection,U=c.sizes||u.map(function(){return 100/u.length}),k=void 0!==c.minSize?c.minSize:100,x=Array.isArray(k)?k:u.map(function(){return k}),L=void 0!==c.gutterSize?c.gutterSize:10,M=void 0!==c.snapOffset?c.snapOffset:30,O=c.direction||"horizontal",j=c.cursor||("horizontal"===O?"ew-resize":"ns-resize"),C=c.gutter||function(e,n){var i=t.createElement("div");return i.className="gutter gutter-"+n,i},A=c.elementStyle||function(e,t,n){var i={};return"string"==typeof t||t instanceof String?i[e]=t:i[e]=o?t+"%":a+"("+t+"% - "+n+"px)",i},B=c.gutterStyle||function(e,t){return n={},n[e]=t+"px",n;var n};"horizontal"===O?(y="width","clientWidth",b="clientX",G="left","paddingLeft"):"vertical"===O&&(y="height","clientHeight",b="clientY",G="top","paddingTop");var F=[];return E=u.map(function(e,t){var i,s={element:l(e),size:U[t],minSize:x[t]};if(t>0&&(i={a:t-1,b:t,dragging:!1,isFirst:1===t,isLast:t===u.length-1,direction:O,parent:w},i.aGutterSize=L,i.bGutterSize=L,i.isFirst&&(i.aGutterSize=L/2),i.isLast&&(i.bGutterSize=L/2),"row-reverse"===D||"column-reverse"===D)){var a=i.a;i.a=i.b,i.b=a}if(!o&&t>0){var c=C(t,O);h(c,L),c[n]("mousedown",S.bind(i)),c[n]("touchstart",S.bind(i)),w.insertBefore(c,s.element),i.gutter=c}0===t||t===u.length-1?z(s.element,s.size,L/2):z(s.element,s.size,L);var f=s.element[r]()[y];return f<s.minSize&&(s.minSize=f),t>0&&F.push(i),s}),o?{setSizes:v,destroy:p}:{setSizes:v,getSizes:function(){return E.map(function(e){return e.size})},collapse:function(e){if(e===F.length){var t=F[e-1];g.call(t),o||f.call(t,t.size-t.bGutterSize)}else{var n=F[e];g.call(n),o||f.call(n,n.aGutterSize)}},destroy:p}}});

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////
/*!
 * PEP v0.4.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.PointerEventsPolyfill=b()}(this,function(){"use strict";function a(a,b){b=b||Object.create(null);var c=document.createEvent("Event");c.initEvent(a,b.bubbles||!1,b.cancelable||!1);
for(var d,e=2;e<m.length;e++)d=m[e],c[d]=b[d]||n[e];c.buttons=b.buttons||0;
var f=0;return f=b.pressure&&c.buttons?b.pressure:c.buttons?.5:0,c.x=c.clientX,c.y=c.clientY,c.pointerId=b.pointerId||0,c.width=b.width||0,c.height=b.height||0,c.pressure=f,c.tiltX=b.tiltX||0,c.tiltY=b.tiltY||0,c.twist=b.twist||0,c.tangentialPressure=b.tangentialPressure||0,c.pointerType=b.pointerType||"",c.hwTimestamp=b.hwTimestamp||0,c.isPrimary=b.isPrimary||!1,c}function b(){this.array=[],this.size=0}function c(a,b,c,d){this.addCallback=a.bind(d),this.removeCallback=b.bind(d),this.changedCallback=c.bind(d),A&&(this.observer=new A(this.mutationWatcher.bind(this)))}function d(a){return"body /shadow-deep/ "+e(a)}function e(a){return'[touch-action="'+a+'"]'}function f(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+"; }"}function g(){if(F){D.forEach(function(a){String(a)===a?(E+=e(a)+f(a)+"\n",G&&(E+=d(a)+f(a)+"\n")):(E+=a.selectors.map(e)+f(a.rule)+"\n",G&&(E+=a.selectors.map(d)+f(a.rule)+"\n"))});var a=document.createElement("style");a.textContent=E,document.head.appendChild(a)}}function h(){if(!window.PointerEvent){if(window.PointerEvent=a,window.navigator.msPointerEnabled){var b=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:b,enumerable:!0}),u.registerSource("ms",_)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",N),void 0!==window.ontouchstart&&u.registerSource("touch",V);u.register(document)}}function i(a){if(!u.pointermap.has(a)){var b=new Error("InvalidPointerId");throw b.name="InvalidPointerId",b}}function j(a){for(var b=a.parentNode;b&&b!==a.ownerDocument;)b=b.parentNode;if(!b){var c=new Error("InvalidStateError");throw c.name="InvalidStateError",c}}function k(a){var b=u.pointermap.get(a);return 0!==b.buttons}function l(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:W},releasePointerCapture:{value:X},hasPointerCapture:{value:Y}})}
var m=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],n=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],o=window.Map&&window.Map.prototype.forEach,p=o?Map:b;b.prototype={set:function(a,b){return void 0===b?this["delete"](a):(this.has(a)||this.size++,void(this.array[a]=b))},has:function(a){return void 0!==this.array[a]},"delete":function(a){this.has(a)&&(delete this.array[a],this.size--)},get:function(a){return this.array[a]},clear:function(){this.array.length=0,this.size=0},forEach:function(a,b){return this.array.forEach(function(c,d){a.call(b,c,d,this)},this)}};var q=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],r=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},t="undefined"!=typeof SVGElementInstance,u={pointermap:new p,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(a,b){var c=b,d=c.events;d&&(d.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},register:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.register.call(b,a)},unregister:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.unregister.call(b,a)},contains:function(a,b){try{return a.contains(b)}catch(c){return!1}},down:function(a){a.bubbles=!0,this.fireEvent("pointerdown",a)},move:function(a){a.bubbles=!0,this.fireEvent("pointermove",a)},up:function(a){a.bubbles=!0,this.fireEvent("pointerup",a)},enter:function(a){a.bubbles=!1,this.fireEvent("pointerenter",a)},leave:function(a){a.bubbles=!1,this.fireEvent("pointerleave",a)},over:function(a){a.bubbles=!0,this.fireEvent("pointerover",a)},out:function(a){a.bubbles=!0,this.fireEvent("pointerout",a)},cancel:function(a){a.bubbles=!0,this.fireEvent("pointercancel",a)},leaveOut:function(a){this.out(a),this.propagate(a,this.leave,!1)},enterOver:function(a){this.over(a),this.propagate(a,this.enter,!0)},eventHandler:function(a){if(!a._handledByPE){var b=a.type,c=this.eventMap&&this.eventMap[b];c&&c(a),a._handledByPE=!0}},listen:function(a,b){b.forEach(function(b){this.addEvent(a,b)},this)},unlisten:function(a,b){b.forEach(function(b){this.removeEvent(a,b)},this)},addEvent:function(a,b){a.addEventListener(b,this.boundHandler)},removeEvent:function(a,b){a.removeEventListener(b,this.boundHandler)},makeEvent:function(b,c){this.captureInfo[c.pointerId]&&(c.relatedTarget=null);var d=new a(b,c);return c.preventDefault&&(d.preventDefault=c.preventDefault),d._target=d._target||c.target,d},fireEvent:function(a,b){var c=this.makeEvent(a,b);return this.dispatchEvent(c)},cloneEvent:function(a){for(var b,c=Object.create(null),d=0;d<q.length;d++)b=q[d],c[b]=a[b]||r[d],!t||"target"!==b&&"relatedTarget"!==b||c[b]instanceof SVGElementInstance&&(c[b]=c[b].correspondingUseElement);return a.preventDefault&&(c.preventDefault=function(){a.preventDefault()}),c},getTarget:function(a){var b=this.captureInfo[a.pointerId];return b?a._target!==b&&a.type in s?void 0:b:a._target},propagate:function(a,b,c){for(var d=a.target,e=[];d!==document&&!d.contains(a.relatedTarget);) if(e.push(d),d=d.parentNode,!d)return;c&&e.reverse(),e.forEach(function(c){a.target=c,b.call(this,a)},this)},setCapture:function(b,c,d){this.captureInfo[b]&&this.releaseCapture(b,d),this.captureInfo[b]=c,this.implicitRelease=this.releaseCapture.bind(this,b,d),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var e=new a("gotpointercapture");e.pointerId=b,e._target=c,d||this.asyncDispatchEvent(e)},releaseCapture:function(b,c){var d=this.captureInfo[b];if(d){this.captureInfo[b]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var e=new a("lostpointercapture");e.pointerId=b,e._target=d,c||this.asyncDispatchEvent(e)}},dispatchEvent:/*scope.external.dispatchEvent || */function(a){var b=this.getTarget(a);if(b)return b.dispatchEvent(a)},asyncDispatchEvent:function(a){requestAnimationFrame(this.dispatchEvent.bind(this,a))}};u.boundHandler=u.eventHandler.bind(u);var v={shadow:function(a){if(a)return a.shadowRoot||a.webkitShadowRoot},canTarget:function(a){return a&&Boolean(a.elementFromPoint)},targetingShadow:function(a){var b=this.shadow(a);if(this.canTarget(b))return b},olderShadow:function(a){var b=a.olderShadowRoot;if(!b){var c=a.querySelector("shadow");c&&(b=c.olderShadowRoot)}return b},allShadows:function(a){for(var b=[],c=this.shadow(a);c;)b.push(c),c=this.olderShadow(c);return b},searchRoot:function(a,b,c){if(a){var d,e,f=a.elementFromPoint(b,c);for(e=this.targetingShadow(f);e;){if(d=e.elementFromPoint(b,c)){var g=this.targetingShadow(d);return this.searchRoot(g,b,c)||d} e=this.olderShadow(e)} return f}},owner:function(a){
for(var b=a;b.parentNode;)b=b.parentNode;
return b.nodeType!==Node.DOCUMENT_NODE&&b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(b=document),b},findTarget:function(a){var b=a.clientX,c=a.clientY,d=this.owner(a.target);
return d.elementFromPoint(b,c)||(d=document),this.searchRoot(d,b,c)}},w=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Array.prototype.map.call.bind(Array.prototype.map),y=Array.prototype.slice.call.bind(Array.prototype.slice),z=Array.prototype.filter.call.bind(Array.prototype.filter),A=window.MutationObserver||window.WebKitMutationObserver,B="[touch-action]",C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};c.prototype={watchSubtree:function(a){
//
this.observer&&v.canTarget(a)&&this.observer.observe(a,C)},enableOnSubtree:function(a){this.watchSubtree(a),a===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(a)},installNewSubtree:function(a){w(this.findElements(a),this.addElement,this)},findElements:function(a){return a.querySelectorAll?a.querySelectorAll(B):[]},removeElement:function(a){this.removeCallback(a)},addElement:function(a){this.addCallback(a)},elementChanged:function(a,b){this.changedCallback(a,b)},concatLists:function(a,b){return a.concat(y(b))},
installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(a){return a.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(a){
var b=x(a,this.findElements,this);
return b.push(z(a,this.isElement)),b.reduce(this.concatLists,[])},mutationWatcher:function(a){a.forEach(this.mutationHandler,this)},mutationHandler:function(a){if("childList"===a.type){var b=this.flattenMutationTree(a.addedNodes);b.forEach(this.addElement,this);var c=this.flattenMutationTree(a.removedNodes);c.forEach(this.removeElement,this)}else"attributes"===a.type&&this.elementChanged(a.target,a.oldValue)}};var D=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],E="",F=window.PointerEvent||window.MSPointerEvent,G=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,H=u.pointermap,I=25,J=[1,4,2,8,16],K=!1;try{K=1===new MouseEvent("test",{buttons:1}).buttons}catch(L){}
var M,N={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},lastTouches:[],
isEventSimulatedFromTouch:function(a){for(var b,c=this.lastTouches,d=a.clientX,e=a.clientY,f=0,g=c.length;f<g&&(b=c[f]);f++){
var h=Math.abs(d-b.x),i=Math.abs(e-b.y);if(h<=I&&i<=I)return!0}},prepareEvent:function(a){var b=u.cloneEvent(a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=this.POINTER_ID,b.isPrimary=!0,b.pointerType=this.POINTER_TYPE,b},prepareButtonsForMove:function(a,b){var c=H.get(this.POINTER_ID);
0!==b.which&&c?a.buttons=c.buttons:a.buttons=0,b.buttons=a.buttons},mousedown:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);K||(c.buttons=J[c.button],b&&(c.buttons|=b.buttons),a.buttons=c.buttons),H.set(this.POINTER_ID,a),b&&0!==b.buttons?u.move(c):u.down(c)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.move(b)}},mouseup:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);if(!K){var d=J[c.button];
c.buttons=b?b.buttons&~d:0,a.buttons=c.buttons}H.set(this.POINTER_ID,a),
c.buttons&=~J[c.button],0===c.buttons?u.up(c):u.move(c)}},mouseover:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.enterOver(b)}},mouseout:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,u.leaveOut(b)}},cancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.deactivateMouse()},deactivateMouse:function(){H["delete"](this.POINTER_ID)}},O=u.captureInfo,P=v.findTarget.bind(v),Q=v.allShadows.bind(v),R=u.pointermap,S=2500,T=200,U="touch-action",V={events:["touchstart","touchmove","touchend","touchcancel"],register:function(a){M.enableOnSubtree(a)},unregister:function(){},elementAdded:function(a){var b=a.getAttribute(U),c=this.touchActionToScrollType(b);c&&(a._scrollType=c,u.listen(a,this.events),
Q(a).forEach(function(a){a._scrollType=c,u.listen(a,this.events)},this))},elementRemoved:function(a){a._scrollType=void 0,u.unlisten(a,this.events),
Q(a).forEach(function(a){a._scrollType=void 0,u.unlisten(a,this.events)},this)},elementChanged:function(a,b){var c=a.getAttribute(U),d=this.touchActionToScrollType(c),e=this.touchActionToScrollType(b);
d&&e?(a._scrollType=d,Q(a).forEach(function(a){a._scrollType=d},this)):e?this.elementRemoved(a):d&&this.elementAdded(a)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(a){var b=a,c=this.scrollTypes;return"none"===b?"none":b===c.XSCROLLER?"X":b===c.YSCROLLER?"Y":c.SCROLLER.exec(b)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){
(0===R.size||1===R.size&&R.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(a,T)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var b=0;return"touchstart"!==a&&"touchmove"!==a||(b=1),b},touchToPointer:function(a){var b=this.currentTouchEvent,c=u.cloneEvent(a),d=c.pointerId=a.identifier+2;c.target=O[d]||P(c),c.bubbles=!0,c.cancelable=!0,c.detail=this.clickCount,c.button=0,c.buttons=this.typeToButtons(b.type),c.width=2*(a.radiusX||a.webkitRadiusX||0),c.height=2*(a.radiusY||a.webkitRadiusY||0),c.pressure=a.force||a.webkitForce||.5,c.isPrimary=this.isPrimaryTouch(a),c.pointerType=this.POINTER_TYPE,
c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey;
var e=this;return c.preventDefault=function(){e.scrolling=!1,e.firstXY=null,b.preventDefault()},c},processTouches:function(a,b){var c=a.changedTouches;this.currentTouchEvent=a;for(var d,e=0;e<c.length;e++)d=c[e],b.call(this,this.touchToPointer(d))},
shouldScroll:function(a){if(this.firstXY){var b,c=a.currentTarget._scrollType;if("none"===c)
b=!1;else if("XY"===c)
b=!0;else{var d=a.changedTouches[0],e=c,f="Y"===c?"X":"Y",g=Math.abs(d["client"+e]-this.firstXY[e]),h=Math.abs(d["client"+f]-this.firstXY[f]);
b=g>=h}return this.firstXY=null,b}},findTouch:function(a,b){for(var c,d=0,e=a.length;d<e&&(c=a[d]);d++)if(c.identifier===b)return!0},
vacuumTouches:function(a){var b=a.touches;
if(R.size>=b.length){var c=[];R.forEach(function(a,d){
if(1!==d&&!this.findTouch(b,d-2)){var e=a.out;c.push(e)}},this),c.forEach(this.cancelOut,this)}},touchstart:function(a){this.vacuumTouches(a),this.setPrimaryTouch(a.changedTouches[0]),this.dedupSynthMouse(a),this.scrolling||(this.clickCount++,this.processTouches(a,this.overDown))},overDown:function(a){R.set(a.pointerId,{target:a.target,out:a,outTarget:a.target}),u.enterOver(a),u.down(a)},touchmove:function(a){this.scrolling||(this.shouldScroll(a)?(this.scrolling=!0,this.touchcancel(a)):(a.preventDefault(),this.processTouches(a,this.moveOverOut)))},moveOverOut:function(a){var b=a,c=R.get(b.pointerId);
if(c){var d=c.out,e=c.outTarget;u.move(b),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,
d.target=e,b.target?(u.leaveOut(d),u.enterOver(b)):(
b.target=e,b.relatedTarget=null,this.cancelOut(b))),c.out=b,c.outTarget=b.target}},touchend:function(a){this.dedupSynthMouse(a),this.processTouches(a,this.upOut)},upOut:function(a){this.scrolling||(u.up(a),u.leaveOut(a)),this.cleanUpPointer(a)},touchcancel:function(a){this.processTouches(a,this.cancelOut)},cancelOut:function(a){u.cancel(a),u.leaveOut(a),this.cleanUpPointer(a)},cleanUpPointer:function(a){R["delete"](a.pointerId),this.removePrimaryPointer(a)},
dedupSynthMouse:function(a){var b=N.lastTouches,c=a.changedTouches[0];
if(this.isPrimaryTouch(c)){
var d={x:c.clientX,y:c.clientY};b.push(d);var e=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}.bind(null,b,d);setTimeout(e,S)}}};M=new c(V.elementAdded,V.elementRemoved,V.elementChanged,V);var W,X,Y,Z=u.pointermap,$=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,_={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var b=a;return $&&(b=u.cloneEvent(a),b.pointerType=this.POINTER_TYPES[a.pointerType]),b},cleanup:function(a){Z["delete"](a)},MSPointerDown:function(a){Z.set(a.pointerId,a);var b=this.prepareEvent(a);u.down(b)},MSPointerMove:function(a){var b=this.prepareEvent(a);u.move(b)},MSPointerUp:function(a){var b=this.prepareEvent(a);u.up(b),this.cleanup(a.pointerId)},MSPointerOut:function(a){var b=this.prepareEvent(a);u.leaveOut(b)},MSPointerOver:function(a){var b=this.prepareEvent(a);u.enterOver(b)},MSPointerCancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.cleanup(a.pointerId)},MSLostPointerCapture:function(a){var b=u.makeEvent("lostpointercapture",a);u.dispatchEvent(b)},MSGotPointerCapture:function(a){var b=u.makeEvent("gotpointercapture",a);u.dispatchEvent(b)}},aa=window.navigator;aa.msPointerEnabled?(W=function(a){i(a),j(this),k(a)&&(u.setCapture(a,this,!0),this.msSetPointerCapture(a))},X=function(a){i(a),u.releaseCapture(a,!0),this.msReleasePointerCapture(a)}):(W=function(a){i(a),j(this),k(a)&&u.setCapture(a,this)},X=function(a){i(a),u.releaseCapture(a)}),Y=function(a){return!!u.captureInfo[a]},g(),h(),l();var ba={dispatcher:u,Installer:c,PointerEvent:a,PointerMap:p,targetFinding:v};return ba});

///////////////////////////////////////////////

///////////////////////////////////////////////
var config = {"dark_mode": false, "show_pads": true, "show_fabrication": false, "show_silkscreen": true, "highlight_pin1": "none", "redraw_on_drag": true, "board_rotation": 0, "checkboxes": "Sourced,Placed", "bom_view": "left-right", "layer_view": "FB", "offset_back_rotation": false, "kicad_text_formatting": true, "fields": ["Value", "Footprint"]}
///////////////////////////////////////////////

///////////////////////////////////////////////
var pcbdata = {"edges_bbox": {"minx": 130.525, "miny": 84.525, "maxx": 159.875, "maxy": 114.075}, "edges": [{"type": "segment", "start": [159.8, 109.0], "end": [159.8, 89.6], "width": 0.15}, {"type": "arc", "start": [135.6, 109.0], "radius": 5.0, "startangle": 90.0, "endangle": 180.0, "width": 0.15}, {"type": "arc", "start": [135.6, 89.6], "radius": 5.0, "startangle": -180.0, "endangle": -90.0, "width": 0.15}, {"type": "arc", "start": [154.8, 109.0], "radius": 5.0, "startangle": 0.0, "endangle": 90.0, "width": 0.15}, {"type": "segment", "start": [154.8, 84.6], "end": [135.6, 84.6], "width": 0.15}, {"type": "segment", "start": [135.6, 114.0], "end": [154.8, 114.0], "width": 0.15}, {"type": "arc", "start": [154.8, 89.6], "radius": 5.0, "startangle": -90.0, "endangle": 0.0, "width": 0.15}, {"type": "segment", "start": [130.6, 89.6], "end": [130.6, 109.0], "width": 0.15}], "drawings": {"silkscreen": {"F": [{"thickness": 0.1, "svgpath": "M144.609522,85.544704L144.571426,85.5828L144.457141,85.620895L144.38095,85.620895L144.266664,85.5828L144.190474,85.506609L144.152379,85.430419L144.114283,85.278038L144.114283,85.163752L144.152379,85.011371L144.190474,84.93518L144.266664,84.85899L144.38095,84.820895L144.457141,84.820895L144.571426,84.85899L144.609522,84.897085M145.066664,85.620895L144.990474,85.5828L144.952379,85.544704L144.914283,85.468514L144.914283,85.239942L144.952379,85.163752L144.990474,85.125657L145.066664,85.087561L145.18095,85.087561L145.257141,85.125657L145.295236,85.163752L145.333331,85.239942L145.333331,85.468514L145.295236,85.544704L145.257141,85.5828L145.18095,85.620895L145.066664,85.620895M145.676189,85.087561L145.676189,85.887561M145.676189,85.125657L145.752379,85.087561L145.90476,85.087561L145.980951,85.125657L146.019046,85.163752L146.057141,85.239942L146.057141,85.468514L146.019046,85.544704L145.980951,85.5828L145.90476,85.620895L145.752379,85.620895L145.676189,85.5828M146.323808,85.087561L146.514284,85.620895M146.704761,85.087561L146.514284,85.620895L146.438094,85.811371L146.399999,85.849466L146.323808,85.887561M147.009523,85.620895L147.009523,85.087561M147.009523,85.239942L147.047618,85.163752L147.085713,85.125657L147.161904,85.087561L147.238094,85.087561M147.504761,85.620895L147.504761,85.087561M147.504761,84.820895L147.466665,84.85899L147.504761,84.897085L147.542856,84.85899L147.504761,84.820895L147.504761,84.897085M148.22857,85.087561L148.22857,85.73518L148.190475,85.811371L148.152379,85.849466L148.076189,85.887561L147.961903,85.887561L147.885713,85.849466M148.22857,85.5828L148.152379,85.620895L147.999998,85.620895L147.923808,85.5828L147.885713,85.544704L147.847617,85.468514L147.847617,85.239942L147.885713,85.163752L147.923808,85.125657L147.999998,85.087561L148.152379,85.087561L148.22857,85.125657M148.609523,85.620895L148.609523,84.820895M148.95238,85.620895L148.95238,85.201847L148.914285,85.125657L148.838094,85.087561L148.723808,85.087561L148.647618,85.125657L148.609523,85.163752M149.219047,85.087561L149.523809,85.087561M149.333333,84.820895L149.333333,85.506609L149.371428,85.5828L149.447618,85.620895L149.523809,85.620895M151.047619,85.011371L150.971428,84.973276L150.819047,84.973276L150.742857,85.011371L150.666666,85.087561L150.628571,85.163752L150.628571,85.316133L150.666666,85.392323L150.742857,85.468514L150.819047,85.506609L150.971428,85.506609L151.047619,85.468514M150.895238,84.706609L150.704762,84.744704L150.514285,84.85899L150.4,85.049466L150.361904,85.239942L150.4,85.430419L150.514285,85.620895L150.704762,85.73518L150.895238,85.773276L151.085714,85.73518L151.27619,85.620895L151.390476,85.430419L151.428571,85.239942L151.390476,85.049466L151.27619,84.85899L151.085714,84.744704L150.895238,84.706609M152.342857,84.897085L152.380953,84.85899L152.457143,84.820895L152.647619,84.820895L152.72381,84.85899L152.761905,84.897085L152.8,84.973276L152.8,85.049466L152.761905,85.163752L152.304762,85.620895L152.8,85.620895M153.295239,84.820895L153.371429,84.820895L153.44762,84.85899L153.485715,84.897085L153.52381,84.973276L153.561905,85.125657L153.561905,85.316133L153.52381,85.468514L153.485715,85.544704L153.44762,85.5828L153.371429,85.620895L153.295239,85.620895L153.219048,85.5828L153.180953,85.544704L153.142858,85.468514L153.104762,85.316133L153.104762,85.125657L153.142858,84.973276L153.180953,84.897085L153.219048,84.85899L153.295239,84.820895M154.32381,85.620895L153.866667,85.620895M154.095239,85.620895L154.095239,84.820895L154.019048,84.93518L153.942858,85.011371L153.866667,85.049466M154.780953,85.163752L154.704763,85.125657L154.666668,85.087561L154.628572,85.011371L154.628572,84.973276L154.666668,84.897085L154.704763,84.85899L154.780953,84.820895L154.933334,84.820895L155.009525,84.85899L155.04762,84.897085L155.085715,84.973276L155.085715,85.011371L155.04762,85.087561L155.009525,85.125657L154.933334,85.163752L154.780953,85.163752L154.704763,85.201847L154.666668,85.239942L154.628572,85.316133L154.628572,85.468514L154.666668,85.544704L154.704763,85.5828L154.780953,85.620895L154.933334,85.620895L155.009525,85.5828L155.04762,85.544704L155.085715,85.468514L155.085715,85.316133L155.04762,85.239942L155.009525,85.201847L154.933334,85.163752M145.295236,86.680323L145.676189,86.680323M145.219046,86.908895L145.485713,86.108895L145.752379,86.908895M146.361903,86.908895L146.361903,86.489847L146.323808,86.413657L146.247617,86.375561L146.095236,86.375561L146.019046,86.413657M146.361903,86.8708L146.285712,86.908895L146.095236,86.908895L146.019046,86.8708L145.98095,86.794609L145.98095,86.718419L146.019046,86.642228L146.095236,86.604133L146.285712,86.604133L146.361903,86.566038M146.742856,86.908895L146.742856,86.375561M146.742856,86.527942L146.780951,86.451752L146.819046,86.413657L146.895237,86.375561L146.971427,86.375561M147.352379,86.908895L147.276189,86.8708L147.238094,86.832704L147.199998,86.756514L147.199998,86.527942L147.238094,86.451752L147.276189,86.413657L147.352379,86.375561L147.466665,86.375561L147.542856,86.413657L147.580951,86.451752L147.619046,86.527942L147.619046,86.756514L147.580951,86.832704L147.542856,86.8708L147.466665,86.908895L147.352379,86.908895M147.961904,86.375561L147.961904,86.908895M147.961904,86.451752L147.999999,86.413657L148.076189,86.375561L148.190475,86.375561L148.266666,86.413657L148.304761,86.489847L148.304761,86.908895M149.219047,86.108895L149.409523,86.908895L149.561904,86.337466L149.714285,86.908895L149.904762,86.108895M150.209524,86.908895L150.209524,86.375561M150.209524,86.108895L150.171428,86.14699L150.209524,86.185085L150.247619,86.14699L150.209524,86.108895L150.209524,86.185085M150.704761,86.908895L150.628571,86.8708L150.590476,86.794609L150.590476,86.108895M151.123809,86.908895L151.047619,86.8708L151.009524,86.794609L151.009524,86.108895M151.428572,86.908895L151.428572,86.375561M151.428572,86.108895L151.390476,86.14699L151.428572,86.185085L151.466667,86.14699L151.428572,86.108895L151.428572,86.185085M152.152381,86.908895L152.152381,86.489847L152.114286,86.413657L152.038095,86.375561L151.885714,86.375561L151.809524,86.413657M152.152381,86.8708L152.07619,86.908895L151.885714,86.908895L151.809524,86.8708L151.771428,86.794609L151.771428,86.718419L151.809524,86.642228L151.885714,86.604133L152.07619,86.604133L152.152381,86.566038M152.533334,86.908895L152.533334,86.375561M152.533334,86.451752L152.571429,86.413657L152.647619,86.375561L152.761905,86.375561L152.838096,86.413657L152.876191,86.489847L152.876191,86.908895M152.876191,86.489847L152.914286,86.413657L152.990477,86.375561L153.104762,86.375561L153.180953,86.413657L153.219048,86.489847L153.219048,86.908895M153.561905,86.8708L153.638096,86.908895L153.790477,86.908895L153.866667,86.8708L153.904763,86.794609L153.904763,86.756514L153.866667,86.680323L153.790477,86.642228L153.676191,86.642228L153.600001,86.604133L153.561905,86.527942L153.561905,86.489847L153.600001,86.413657L153.676191,86.375561L153.790477,86.375561L153.866667,86.413657"}, {"thickness": 0.15, "svgpath": "M138.809523,93.554819L138.238095,93.554819M138.523809,93.554819L138.523809,92.554819L138.428571,92.697676L138.333333,92.792914L138.238095,92.840533M139.666666,92.554819L139.47619,92.554819L139.380952,92.602438L139.333333,92.650057L139.238095,92.792914L139.190476,92.98339L139.190476,93.364342L139.238095,93.45958L139.285714,93.5072L139.380952,93.554819L139.571428,93.554819L139.666666,93.5072L139.714285,93.45958L139.761904,93.364342L139.761904,93.126247L139.714285,93.031009L139.666666,92.98339L139.571428,92.935771L139.380952,92.935771L139.285714,92.98339L139.238095,93.031009L139.190476,93.126247"}, {"thickness": 0.1, "svgpath": "M134.6732,104.697618L134.635104,104.811904L134.635104,105.00238L134.6732,105.078571L134.711295,105.116666L134.787485,105.154761L134.863676,105.154761L134.939866,105.116666L134.977961,105.078571L135.016057,105.00238L135.054152,104.849999L135.092247,104.773809L135.130342,104.735714L135.206533,104.697618L135.282723,104.697618L135.358914,104.735714L135.397009,104.773809L135.435104,104.849999L135.435104,105.040476L135.397009,105.154761M134.711295,105.954762L134.6732,105.916666L134.635104,105.802381L134.635104,105.72619L134.6732,105.611904L134.74939,105.535714L134.82558,105.497619L134.977961,105.459523L135.092247,105.459523L135.244628,105.497619L135.320819,105.535714L135.397009,105.611904L135.435104,105.72619L135.435104,105.802381L135.397009,105.916666L135.358914,105.954762M134.635104,106.678571L134.635104,106.297619L135.435104,106.297619"}, {"thickness": 0.3, "svgpath": "M141.628572,113.678328L140.771429,113.678328M141.2,113.678328L141.2,112.178328L141.057143,112.392614L140.914286,112.535471L140.771429,112.6069"}, {"thickness": 0.3, "svgpath": "M151.071429,101.021185L151.142857,100.949757L151.285715,100.878328L151.642857,100.878328L151.785715,100.949757L151.857143,101.021185L151.928572,101.164042L151.928572,101.3069L151.857143,101.521185L151,102.378328L151.928572,102.378328"}, {"thickness": 0.3, "svgpath": "M157,100.878328L157.928572,100.878328L157.428572,101.449757L157.642857,101.449757L157.785715,101.521185L157.857143,101.592614L157.928572,101.735471L157.928572,102.092614L157.857143,102.235471L157.785715,102.3069L157.642857,102.378328L157.214286,102.378328L157.071429,102.3069L157,102.235471"}, {"thickness": 0.3, "svgpath": "M157.814286,94.778328L156.957143,94.778328M157.385714,94.778328L157.385714,93.278328L157.242857,93.492614L157.1,93.635471L156.957143,93.7069M159.242857,94.778328L158.385714,94.778328M158.814285,94.778328L158.814285,93.278328L158.671428,93.492614L158.528571,93.635471L158.385714,93.7069"}, {"thickness": 0.15, "svgpath": "M138.759523,87.554819L138.188095,87.554819M138.473809,87.554819L138.473809,86.554819L138.378571,86.697676L138.283333,86.792914L138.188095,86.840533M139.092857,86.554819L139.759523,86.554819L139.330952,87.554819"}, {"thickness": 0.3, "svgpath": "M151.428572,103.378328L151.571429,103.378328L151.714286,103.449757L151.785715,103.521185L151.857143,103.664042L151.928572,103.949757L151.928572,104.3069L151.857143,104.592614L151.785715,104.735471L151.714286,104.8069L151.571429,104.878328L151.428572,104.878328L151.285715,104.8069L151.214286,104.735471L151.142857,104.592614L151.071429,104.3069L151.071429,103.949757L151.142857,103.664042L151.214286,103.521185L151.285715,103.449757L151.428572,103.378328"}, {"thickness": 0.1, "svgpath": "M134.8232,107.228571L134.785104,107.342857L134.785104,107.533333L134.8232,107.609524L134.861295,107.647619L134.937485,107.685714L135.013676,107.685714L135.089866,107.647619L135.127961,107.609524L135.166057,107.533333L135.204152,107.380952L135.242247,107.304762L135.280342,107.266667L135.356533,107.228571L135.432723,107.228571L135.508914,107.266667L135.547009,107.304762L135.585104,107.380952L135.585104,107.571429L135.547009,107.685714M134.785104,108.028572L135.585104,108.028572L135.585104,108.219048L135.547009,108.333334L135.470819,108.409524L135.394628,108.447619L135.242247,108.485715L135.127961,108.485715L134.97558,108.447619L134.89939,108.409524L134.8232,108.333334L134.785104,108.219048L134.785104,108.028572M135.013676,108.790476L135.013676,109.171429M134.785104,108.714286L135.585104,108.980953L134.785104,109.247619"}, {"thickness": 0.15, "svgpath": "M143.859523,93.454819L143.288095,93.454819M143.573809,93.454819L143.573809,92.454819L143.478571,92.597676L143.383333,92.692914L143.288095,92.740533M144.240476,92.550057L144.288095,92.502438L144.383333,92.454819L144.621428,92.454819L144.716666,92.502438L144.764285,92.550057L144.811904,92.645295L144.811904,92.740533L144.764285,92.88339L144.192857,93.454819L144.811904,93.454819"}, {"thickness": 0.3, "svgpath": "M157.928572,104.878328L157.071429,104.878328M157.5,104.878328L157.5,103.378328L157.357143,103.592614L157.214286,103.735471L157.071429,103.8069"}, {"thickness": 0.15, "svgpath": "M142.680952,93.704819L143.25238,93.704819M142.966666,94.704819L142.966666,93.704819M144.157142,94.60958L144.109523,94.6572L143.966666,94.704819L143.871428,94.704819L143.728571,94.6572L143.633333,94.561961L143.585714,94.466723L143.538095,94.276247L143.538095,94.13339L143.585714,93.942914L143.633333,93.847676L143.728571,93.752438L143.871428,93.704819L143.966666,93.704819L144.109523,93.752438L144.157142,93.800057M144.538095,94.419104L145.014285,94.419104M144.442857,94.704819L144.77619,93.704819L145.109523,94.704819M145.490476,94.704819L145.680952,94.704819L145.77619,94.6572L145.823809,94.60958L145.919047,94.466723L145.966666,94.276247L145.966666,93.895295L145.919047,93.800057L145.871428,93.752438L145.77619,93.704819L145.585714,93.704819L145.490476,93.752438L145.442857,93.800057L145.395238,93.895295L145.395238,94.13339L145.442857,94.228628L145.490476,94.276247L145.585714,94.323866L145.77619,94.323866L145.871428,94.276247L145.919047,94.228628L145.966666,94.13339M146.871428,93.704819L146.395238,93.704819L146.347619,94.181009L146.395238,94.13339L146.490476,94.085771L146.728571,94.085771L146.823809,94.13339L146.871428,94.181009L146.919047,94.276247L146.919047,94.514342L146.871428,94.60958L146.823809,94.6572L146.728571,94.704819L146.490476,94.704819L146.395238,94.6572L146.347619,94.60958M147.823809,93.704819L147.347619,93.704819L147.3,94.181009L147.347619,94.13339L147.442857,94.085771L147.680952,94.085771L147.77619,94.13339L147.823809,94.181009L147.871428,94.276247L147.871428,94.514342L147.823809,94.60958L147.77619,94.6572L147.680952,94.704819L147.442857,94.704819L147.347619,94.6572L147.3,94.60958M148.77619,93.704819L148.3,93.704819L148.252381,94.181009L148.3,94.13339L148.395238,94.085771L148.633333,94.085771L148.728571,94.13339L148.77619,94.181009L148.823809,94.276247L148.823809,94.514342L148.77619,94.60958L148.728571,94.6572L148.633333,94.704819L148.395238,94.704819L148.3,94.6572L148.252381,94.60958"}, {"thickness": 0.15, "svgpath": "M141.309523,87.504819L140.738095,87.504819M141.023809,87.504819L141.023809,86.504819L140.928571,86.647676L140.833333,86.742914L140.738095,86.790533M142.214285,86.504819L141.738095,86.504819L141.690476,86.981009L141.738095,86.93339L141.833333,86.885771L142.071428,86.885771L142.166666,86.93339L142.214285,86.981009L142.261904,87.076247L142.261904,87.314342L142.214285,87.40958L142.166666,87.4572L142.071428,87.504819L141.833333,87.504819L141.738095,87.4572L141.690476,87.40958"}, {"thickness": 0.3, "svgpath": "M150.464286,94.678328L149.607143,94.678328M150.035714,94.678328L150.035714,93.178328L149.892857,93.392614L149.75,93.535471L149.607143,93.6069M151.392857,93.178328L151.535714,93.178328L151.678571,93.249757L151.75,93.321185L151.821428,93.464042L151.892857,93.749757L151.892857,94.1069L151.821428,94.392614L151.75,94.535471L151.678571,94.6069L151.535714,94.678328L151.392857,94.678328L151.25,94.6069L151.178571,94.535471L151.107142,94.392614L151.035714,94.1069L151.035714,93.749757L151.107142,93.464042L151.178571,93.321185L151.25,93.249757L151.392857,93.178328"}, {"thickness": 0.1, "svgpath": "M135.089866,96.971429L135.089866,97.580953M134.785104,97.276191L135.394628,97.276191M135.585104,97.885714L135.585104,98.380952L135.280342,98.114286L135.280342,98.228571L135.242247,98.304762L135.204152,98.342857L135.127961,98.380952L134.937485,98.380952L134.861295,98.342857L134.8232,98.304762L134.785104,98.228571L134.785104,98L134.8232,97.923809L134.861295,97.885714M135.585104,98.609524L134.785104,98.876191L135.585104,99.142857"}, {"thickness": 0.1, "svgpath": "M135.497009,87.240476L135.535104,87.164286L135.535104,87.05L135.497009,86.935714L135.420819,86.859524L135.344628,86.821429L135.192247,86.783333L135.077961,86.783333L134.92558,86.821429L134.84939,86.859524L134.7732,86.935714L134.735104,87.05L134.735104,87.126191L134.7732,87.240476L134.811295,87.278572L135.077961,87.278572L135.077961,87.126191M134.735104,87.621429L135.535104,87.621429L134.735104,88.078572L135.535104,88.078572M134.735104,88.459524L135.535104,88.459524L135.535104,88.65L135.497009,88.764286L135.420819,88.840476L135.344628,88.878571L135.192247,88.916667L135.077961,88.916667L134.92558,88.878571L134.84939,88.840476L134.7732,88.764286L134.735104,88.65L134.735104,88.459524"}, {"thickness": 0.1, "svgpath": "M135.547009,99.890476L135.585104,99.814286L135.585104,99.7L135.547009,99.585714L135.470819,99.509524L135.394628,99.471429L135.242247,99.433333L135.127961,99.433333L134.97558,99.471429L134.89939,99.509524L134.8232,99.585714L134.785104,99.7L134.785104,99.776191L134.8232,99.890476L134.861295,99.928572L135.127961,99.928572L135.127961,99.776191M134.785104,100.271429L135.585104,100.271429L134.785104,100.728572L135.585104,100.728572M134.785104,101.109524L135.585104,101.109524L135.585104,101.3L135.547009,101.414286L135.470819,101.490476L135.394628,101.528571L135.242247,101.566667L135.127961,101.566667L134.97558,101.528571L134.89939,101.490476L134.8232,101.414286L134.785104,101.3L134.785104,101.109524"}, {"thickness": 0.3, "svgpath": "M157,95.778328L158,95.778328L157.357143,97.278328"}, {"thickness": 0.15, "svgpath": "M146.219048,93.073866L146.980953,93.073866M146.6,93.454819L146.6,92.692914"}, {"thickness": 0.3, "svgpath": "M151.785715,98.878328L151.785715,99.878328M151.428572,98.3069L151.071429,99.378328L152,99.378328"}, {"thickness": 0.1, "svgpath": "M135.089866,109.721429L135.089866,110.330953M134.785104,110.026191L135.394628,110.026191M135.585104,110.635714L135.585104,111.130952L135.280342,110.864286L135.280342,110.978571L135.242247,111.054762L135.204152,111.092857L135.127961,111.130952L134.937485,111.130952L134.861295,111.092857L134.8232,111.054762L134.785104,110.978571L134.785104,110.75L134.8232,110.673809L134.861295,110.635714M135.585104,111.359524L134.785104,111.626191L135.585104,111.892857"}, {"thickness": 0.3, "svgpath": "M150.928571,106.9069L152.071429,106.9069M151.5,107.478328L151.5,106.335471"}, {"thickness": 0.3, "svgpath": "M150.828571,91.6069L151.971429,91.6069"}, {"thickness": 0.1, "svgpath": "M134.685104,89.676191L135.485104,89.676191M134.685104,90.057143L135.485104,90.057143L134.685104,90.514286L135.485104,90.514286M135.485104,90.780952L135.485104,91.238095M134.685104,91.009523L135.485104,91.009523M135.7072,89.565715L135.7072,91.234286"}, {"thickness": 0.3, "svgpath": "M157.857143,98.378328L157.142857,98.378328L157.071429,99.092614L157.142857,99.021185L157.285715,98.949757L157.642857,98.949757L157.785715,99.021185L157.857143,99.092614L157.928572,99.235471L157.928572,99.592614L157.857143,99.735471L157.785715,99.8069L157.642857,99.878328L157.285715,99.878328L157.142857,99.8069L157.071429,99.735471"}, {"thickness": 0.3, "svgpath": "M151.785715,95.778328L151.5,95.778328L151.357143,95.849757L151.285715,95.921185L151.142857,96.135471L151.071429,96.421185L151.071429,96.992614L151.142857,97.135471L151.214286,97.2069L151.357143,97.278328L151.642857,97.278328L151.785715,97.2069L151.857143,97.135471L151.928572,96.992614L151.928572,96.635471L151.857143,96.492614L151.785715,96.421185L151.642857,96.349757L151.357143,96.349757L151.214286,96.421185L151.142857,96.492614L151.071429,96.635471"}, {"thickness": 0.3, "svgpath": "M157.028571,106.9069L158.171429,106.9069"}, {"thickness": 0.1, "svgpath": "M134.8232,94.528571L134.785104,94.642857L134.785104,94.833333L134.8232,94.909524L134.861295,94.947619L134.937485,94.985714L135.013676,94.985714L135.089866,94.947619L135.127961,94.909524L135.166057,94.833333L135.204152,94.680952L135.242247,94.604762L135.280342,94.566667L135.356533,94.528571L135.432723,94.528571L135.508914,94.566667L135.547009,94.604762L135.585104,94.680952L135.585104,94.871429L135.547009,94.985714M134.785104,95.328572L135.585104,95.328572L135.585104,95.519048L135.547009,95.633334L135.470819,95.709524L135.394628,95.747619L135.242247,95.785715L135.127961,95.785715L134.97558,95.747619L134.89939,95.709524L134.8232,95.633334L134.785104,95.519048L134.785104,95.328572M135.013676,96.090476L135.013676,96.471429M134.785104,96.014286L135.585104,96.280953L134.785104,96.547619"}, {"thickness": 0.15, "svgpath": "M146.219048,87.323866L146.980953,87.323866"}, {"thickness": 0.1, "svgpath": "M142.702383,104.872371L142.702383,104.272371M142.940478,104.872371L142.940478,104.272371L143.226192,104.872371L143.226192,104.272371M143.821431,104.8438L143.892859,104.872371L144.011907,104.872371L144.059526,104.8438L144.083335,104.815228L144.107145,104.758085L144.107145,104.700942L144.083335,104.6438L144.059526,104.615228L144.011907,104.586657L143.916669,104.558085L143.86905,104.529514L143.84524,104.500942L143.821431,104.4438L143.821431,104.386657L143.84524,104.329514L143.86905,104.300942L143.916669,104.272371L144.035716,104.272371L144.107145,104.300942M144.32143,104.872371L144.32143,104.272371L144.440478,104.272371L144.511906,104.300942L144.559525,104.358085L144.583335,104.415228L144.607144,104.529514L144.607144,104.615228L144.583335,104.729514L144.559525,104.786657L144.511906,104.8438L144.440478,104.872371L144.32143,104.872371M145.178573,104.8438L145.250001,104.872371L145.369049,104.872371L145.416668,104.8438L145.440477,104.815228L145.464287,104.758085L145.464287,104.700942L145.440477,104.6438L145.416668,104.615228L145.369049,104.586657L145.273811,104.558085L145.226192,104.529514L145.202382,104.500942L145.178573,104.4438L145.178573,104.386657L145.202382,104.329514L145.226192,104.300942L145.273811,104.272371L145.392858,104.272371L145.464287,104.300942M145.964286,104.815228L145.940477,104.8438L145.869048,104.872371L145.821429,104.872371L145.750001,104.8438L145.702382,104.786657L145.678572,104.729514L145.654763,104.615228L145.654763,104.529514L145.678572,104.415228L145.702382,104.358085L145.750001,104.300942L145.821429,104.272371L145.869048,104.272371L145.940477,104.300942L145.964286,104.329514M146.535715,104.700942L146.77381,104.700942M146.488096,104.872371L146.654762,104.272371L146.821429,104.872371M147.083333,104.272371L147.130952,104.272371L147.178571,104.300942L147.202381,104.329514L147.22619,104.386657L147.25,104.500942L147.25,104.6438L147.22619,104.758085L147.202381,104.815228L147.178571,104.8438L147.130952,104.872371L147.083333,104.872371L147.035714,104.8438L147.011905,104.815228L146.988095,104.758085L146.964286,104.6438L146.964286,104.500942L146.988095,104.386657L147.011905,104.329514L147.035714,104.300942L147.083333,104.272371M147.821428,104.700942L148.059523,104.700942M147.773809,104.872371L147.940475,104.272371L148.107142,104.872371M148.535713,104.872371L148.249999,104.872371M148.392856,104.872371L148.392856,104.272371L148.345237,104.358085L148.297618,104.415228L148.249999,104.4438M149.107141,104.700942L149.345236,104.700942M149.059522,104.872371L149.226188,104.272371L149.392855,104.872371M149.535712,104.329514L149.559521,104.300942L149.60714,104.272371L149.726188,104.272371L149.773807,104.300942L149.797616,104.329514L149.821426,104.386657L149.821426,104.4438L149.797616,104.529514L149.511902,104.872371L149.821426,104.872371"}, {"thickness": 0.1, "svgpath": "M134.8232,91.947618L134.785104,92.061904L134.785104,92.25238L134.8232,92.328571L134.861295,92.366666L134.937485,92.404761L135.013676,92.404761L135.089866,92.366666L135.127961,92.328571L135.166057,92.25238L135.204152,92.099999L135.242247,92.023809L135.280342,91.985714L135.356533,91.947618L135.432723,91.947618L135.508914,91.985714L135.547009,92.023809L135.585104,92.099999L135.585104,92.290476L135.547009,92.404761M134.861295,93.204762L134.8232,93.166666L134.785104,93.052381L134.785104,92.97619L134.8232,92.861904L134.89939,92.785714L134.97558,92.747619L135.127961,92.709523L135.242247,92.709523L135.394628,92.747619L135.470819,92.785714L135.547009,92.861904L135.585104,92.97619L135.585104,93.052381L135.547009,93.166666L135.508914,93.204762M134.785104,93.928571L134.785104,93.547619L135.585104,93.547619"}, {"thickness": 0.1, "svgpath": "M134.785104,102.426191L135.585104,102.426191M134.785104,102.807143L135.585104,102.807143L134.785104,103.264286L135.585104,103.264286M135.585104,103.530952L135.585104,103.988095M134.785104,103.759523L135.585104,103.759523M135.8072,102.315715L135.8072,103.984286"}, {"thickness": 0.15, "svgpath": "M141.309523,93.504819L140.738095,93.504819M141.023809,93.504819L141.023809,92.504819L140.928571,92.647676L140.833333,92.742914L140.738095,92.790533M142.166666,92.838152L142.166666,93.504819M141.928571,92.4572L141.690476,93.171485L142.309523,93.171485"}, {"thickness": 0.3, "svgpath": "M157.128571,91.7069L158.271429,91.7069"}, {"thickness": 0.15, "svgpath": "M143.859523,87.504819L143.288095,87.504819M143.573809,87.504819L143.573809,86.504819L143.478571,86.647676L143.383333,86.742914L143.288095,86.790533M144.192857,86.504819L144.811904,86.504819L144.478571,86.885771L144.621428,86.885771L144.716666,86.93339L144.764285,86.981009L144.811904,87.076247L144.811904,87.314342L144.764285,87.40958L144.716666,87.4572L144.621428,87.504819L144.335714,87.504819L144.240476,87.4572L144.192857,87.40958"}, {"thickness": 0.15, "svgpath": "M138.959523,112.004819L138.62619,111.528628M138.388095,112.004819L138.388095,111.004819L138.769047,111.004819L138.864285,111.052438L138.911904,111.100057L138.959523,111.195295L138.959523,111.338152L138.911904,111.43339L138.864285,111.481009L138.769047,111.528628L138.388095,111.528628M139.388095,112.004819L139.388095,111.004819L139.959523,112.004819L139.959523,111.004819M140.388095,111.100057L140.435714,111.052438L140.530952,111.004819L140.769047,111.004819L140.864285,111.052438L140.911904,111.100057L140.959523,111.195295L140.959523,111.290533L140.911904,111.43339L140.340476,112.004819L140.959523,112.004819", "ref": 1}, {"type": "segment", "start": [139.1, 110.83], "end": [140.1, 110.83], "width": 0.12}, {"type": "segment", "start": [139.1, 107.47], "end": [140.1, 107.47], "width": 0.12}, {"thickness": 0.15, "svgpath": "M150.866667,113.4572L151.009524,113.504819L151.247619,113.504819L151.342857,113.4572L151.390476,113.40958L151.438095,113.314342L151.438095,113.219104L151.390476,113.123866L151.342857,113.076247L151.247619,113.028628L151.057143,112.981009L150.961905,112.93339L150.914286,112.885771L150.866667,112.790533L150.866667,112.695295L150.914286,112.600057L150.961905,112.552438L151.057143,112.504819L151.295238,112.504819L151.438095,112.552438M151.771429,112.504819L152.009524,113.504819L152.2,112.790533L152.390476,113.504819L152.628572,112.504819M153.533333,113.504819L152.961905,113.504819M153.247619,113.504819L153.247619,112.504819L153.152381,112.647676L153.057143,112.742914L152.961905,112.790533", "ref": 1}, {"type": "segment", "start": [141.695, 105.04], "end": [150.695, 105.04], "width": 0.15}, {"type": "segment", "start": [141.695, 112.64], "end": [141.695, 105.04], "width": 0.15}, {"type": "segment", "start": [142.495, 113.44], "end": [141.695, 112.64], "width": 0.15}, {"type": "segment", "start": [150.695, 105.04], "end": [150.695, 113.44], "width": 0.15}, {"type": "segment", "start": [150.695, 113.44], "end": [142.495, 113.44], "width": 0.15}, {"thickness": 0.15, "svgpath": "M152.445833,111.55958L152.398214,111.6072L152.255357,111.654819L152.160119,111.654819L152.017262,111.6072L151.922024,111.511961L151.874405,111.416723L151.826786,111.226247L151.826786,111.08339L151.874405,110.892914L151.922024,110.797676L152.017262,110.702438L152.160119,110.654819L152.255357,110.654819L152.398214,110.702438L152.445833,110.750057M152.826786,110.750057L152.874405,110.702438L152.969643,110.654819L153.207738,110.654819L153.302976,110.702438L153.350595,110.750057L153.398214,110.845295L153.398214,110.940533L153.350595,111.08339L152.779167,111.654819L153.398214,111.654819", "ref": 1}, {"type": "segment", "start": [152.291422, 108.84], "end": [152.808578, 108.84], "width": 0.12}, {"type": "segment", "start": [152.291422, 110.26], "end": [152.808578, 110.26], "width": 0.12}, {"thickness": 0.15, "svgpath": "M150.578571,83.681009L150.245238,83.681009M150.245238,84.204819L150.245238,83.204819L150.721428,83.204819M151.102381,84.204819L151.102381,83.204819M151.578571,84.204819L151.578571,83.204819L151.816666,83.204819L151.959523,83.252438L152.054761,83.347676L152.10238,83.442914L152.149999,83.63339L152.149999,83.776247L152.10238,83.966723L152.054761,84.061961L151.959523,84.1572L151.816666,84.204819L151.578571,84.204819M153.10238,84.204819L152.530952,84.204819M152.816666,84.204819L152.816666,83.204819L152.721428,83.347676L152.62619,83.442914L152.530952,83.490533", "ref": 1}, {"thickness": 0.15, "svgpath": "M153.578571,83.731009L153.245238,83.731009M153.245238,84.254819L153.245238,83.254819L153.721428,83.254819M154.102381,84.254819L154.102381,83.254819M154.578571,84.254819L154.578571,83.254819L154.816666,83.254819L154.959523,83.302438L155.054761,83.397676L155.10238,83.492914L155.149999,83.68339L155.149999,83.826247L155.10238,84.016723L155.054761,84.111961L154.959523,84.2072L154.816666,84.254819L154.578571,84.254819M155.530952,83.350057L155.578571,83.302438L155.673809,83.254819L155.911904,83.254819L156.007142,83.302438L156.054761,83.350057L156.10238,83.445295L156.10238,83.540533L156.054761,83.68339L155.483333,84.254819L156.10238,84.254819", "ref": 1}, {"thickness": 0.15, "svgpath": "M129.381009,116.171428L129.381009,116.504761M129.904819,116.504761L128.904819,116.504761L128.904819,116.028571M129.904819,115.647618L128.904819,115.647618M129.904819,115.171428L128.904819,115.171428L128.904819,114.933333L128.952438,114.790476L129.047676,114.695238L129.142914,114.647619L129.33339,114.6L129.476247,114.6L129.666723,114.647619L129.761961,114.695238L129.8572,114.790476L129.904819,114.933333L129.904819,115.171428M128.904819,114.266666L128.904819,113.647619L129.285771,113.980952L129.285771,113.838095L129.33339,113.742857L129.381009,113.695238L129.476247,113.647619L129.714342,113.647619L129.80958,113.695238L129.8572,113.742857L129.904819,113.838095L129.904819,114.123809L129.8572,114.219047L129.80958,114.266666", "ref": 1}, {"thickness": 0.15, "svgpath": "M136.983333,99.70958L136.935714,99.7572L136.792857,99.804819L136.697619,99.804819L136.554762,99.7572L136.459524,99.661961L136.411905,99.566723L136.364286,99.376247L136.364286,99.23339L136.411905,99.042914L136.459524,98.947676L136.554762,98.852438L136.697619,98.804819L136.792857,98.804819L136.935714,98.852438L136.983333,98.900057M137.935714,99.804819L137.364286,99.804819M137.65,99.804819L137.65,98.804819L137.554762,98.947676L137.459524,99.042914L137.364286,99.090533", "ref": 1}, {"type": "segment", "start": [137.362779, 101.06], "end": [137.037221, 101.06], "width": 0.12}, {"type": "segment", "start": [137.362779, 100.04], "end": [137.037221, 100.04], "width": 0.12}, {"thickness": 0.15, "svgpath": "M151.283333,90.55958L151.235714,90.6072L151.092857,90.654819L150.997619,90.654819L150.854762,90.6072L150.759524,90.511961L150.711905,90.416723L150.664286,90.226247L150.664286,90.08339L150.711905,89.892914L150.759524,89.797676L150.854762,89.702438L150.997619,89.654819L151.092857,89.654819L151.235714,89.702438L151.283333,89.750057M152.140476,89.988152L152.140476,90.654819M151.902381,89.6072L151.664286,90.321485L152.283333,90.321485", "ref": 1}, {"type": "segment", "start": [148.89, 90.458578], "end": [148.89, 89.941422], "width": 0.12}, {"type": "segment", "start": [150.31, 90.458578], "end": [150.31, 89.941422], "width": 0.12}, {"thickness": 0.15, "svgpath": "M137.283333,104.25958L137.235714,104.3072L137.092857,104.354819L136.997619,104.354819L136.854762,104.3072L136.759524,104.211961L136.711905,104.116723L136.664286,103.926247L136.664286,103.78339L136.711905,103.592914L136.759524,103.497676L136.854762,103.402438L136.997619,103.354819L137.092857,103.354819L137.235714,103.402438L137.283333,103.450057M137.616667,103.354819L138.235714,103.354819L137.902381,103.735771L138.045238,103.735771L138.140476,103.78339L138.188095,103.831009L138.235714,103.926247L138.235714,104.164342L138.188095,104.25958L138.140476,104.3072L138.045238,104.354819L137.759524,104.354819L137.664286,104.3072L137.616667,104.25958", "ref": 1}, {"type": "segment", "start": [137.708578, 102.96], "end": [137.191422, 102.96], "width": 0.12}, {"type": "segment", "start": [137.708578, 101.54], "end": [137.191422, 101.54], "width": 0.12}, {"thickness": 0.15, "svgpath": "M139.759523,104.054819L139.42619,103.578628M139.188095,104.054819L139.188095,103.054819L139.569047,103.054819L139.664285,103.102438L139.711904,103.150057L139.759523,103.245295L139.759523,103.388152L139.711904,103.48339L139.664285,103.531009L139.569047,103.578628L139.188095,103.578628M140.188095,104.054819L140.188095,103.054819L140.759523,104.054819L140.759523,103.054819M141.759523,104.054819L141.188095,104.054819M141.473809,104.054819L141.473809,103.054819L141.378571,103.197676L141.283333,103.292914L141.188095,103.340533", "ref": 1}, {"type": "segment", "start": [141.37, 106.15], "end": [141.37, 105.35], "width": 0.12}, {"type": "segment", "start": [139.53, 106.15], "end": [139.53, 105.35], "width": 0.12}, {"thickness": 0.15, "svgpath": "M155.666667,90.104819L155.666667,89.104819L156,89.819104L156.333333,89.104819L156.333333,90.104819M156.809524,90.104819L156.809524,89.104819M156.809524,89.581009L157.380952,89.581009M157.380952,90.104819L157.380952,89.104819M157.809524,89.200057L157.857143,89.152438L157.952381,89.104819L158.190476,89.104819L158.285714,89.152438L158.333333,89.200057L158.380952,89.295295L158.380952,89.390533L158.333333,89.53339L157.761905,90.104819L158.380952,90.104819", "ref": 1}, {"thickness": 0.15, "svgpath": "M155.616667,109.354819L155.616667,108.354819L155.95,109.069104L156.283333,108.354819L156.283333,109.354819M156.759524,109.354819L156.759524,108.354819M156.759524,108.831009L157.330952,108.831009M157.330952,109.354819L157.330952,108.354819M158.330952,109.354819L157.759524,109.354819M158.045238,109.354819L158.045238,108.354819L157.95,108.497676L157.854762,108.592914L157.759524,108.640533", "ref": 1}, {"thickness": 0.15, "svgpath": "M129.481009,112.821428L129.481009,113.154761M130.004819,113.154761L129.004819,113.154761L129.004819,112.678571M130.004819,112.297618L129.004819,112.297618M130.004819,111.821428L129.004819,111.821428L129.004819,111.583333L129.052438,111.440476L129.147676,111.345238L129.242914,111.297619L129.43339,111.25L129.576247,111.25L129.766723,111.297619L129.861961,111.345238L129.9572,111.440476L130.004819,111.583333L130.004819,111.821428M129.338152,110.392857L130.004819,110.392857M128.9572,110.630952L129.671485,110.869047L129.671485,110.25", "ref": 1}, {"thickness": 0.15, "svgpath": "M140.613095,95.454819L140.613095,96.264342L140.660714,96.35958L140.708333,96.4072L140.803571,96.454819L140.994047,96.454819L141.089285,96.4072L141.136904,96.35958L141.184523,96.264342L141.184523,95.454819M142.184523,96.454819L141.613095,96.454819M141.898809,96.454819L141.898809,95.454819L141.803571,95.597676L141.708333,95.692914L141.613095,95.740533", "ref": 1}, {"type": "segment", "start": [149.4, 103.25], "end": [143.675, 103.25], "width": 0.15}, {"type": "segment", "start": [148.325, 95.15], "end": [148.325, 95.175], "width": 0.15}, {"type": "segment", "start": [148.325, 95.15], "end": [143.675, 95.15], "width": 0.15}, {"type": "segment", "start": [143.675, 103.2], "end": [143.675, 103.175], "width": 0.15}, {"type": "segment", "start": [143.675, 95.15], "end": [143.675, 95.175], "width": 0.15}], "B": [{"thickness": 0.2, "svgpath": "M136.528742,93.517292L135.328742,93.517292M135.443028,94.031578L135.385885,94.088721L135.328742,94.203007L135.328742,94.488721L135.385885,94.603007L135.443028,94.660149L135.557314,94.717292L135.6716,94.717292L135.843028,94.660149L136.528742,93.974435L136.528742,94.717292M136.414457,95.917292L136.4716,95.860149L136.528742,95.688721L136.528742,95.574435L136.4716,95.403006L136.357314,95.288721L136.243028,95.231578L136.014457,95.174435L135.843028,95.174435L135.614457,95.231578L135.500171,95.288721L135.385885,95.403006L135.328742,95.574435L135.328742,95.688721L135.385885,95.860149L135.443028,95.917292M136.185885,97.288721L136.185885,97.86015M136.528742,97.174435L135.328742,97.574435L136.528742,97.974435M136.528742,98.888721L135.328742,98.888721M136.4716,98.888721L136.528742,98.774435L136.528742,98.545863L136.4716,98.431578L136.414457,98.374435L136.300171,98.317292L135.957314,98.317292L135.843028,98.374435L135.785885,98.431578L135.728742,98.545863L135.728742,98.774435L135.785885,98.888721M136.528742,99.974435L135.328742,99.974435M136.4716,99.974435L136.528742,99.860149L136.528742,99.631577L136.4716,99.517292L136.414457,99.460149L136.300171,99.403006L135.957314,99.403006L135.843028,99.460149L135.785885,99.517292L135.728742,99.631577L135.728742,99.860149L135.785885,99.974435M136.528742,100.545863L135.728742,100.545863M135.957314,100.545863L135.843028,100.603006L135.785885,100.660149L135.728742,100.774434L135.728742,100.88872M136.4716,101.745863L136.528742,101.631577L136.528742,101.403006L136.4716,101.28872L136.357314,101.231577L135.900171,101.231577L135.785885,101.28872L135.728742,101.403006L135.728742,101.631577L135.785885,101.745863L135.900171,101.803006L136.014457,101.803006L136.128742,101.231577M136.4716,102.260148L136.528742,102.374434L136.528742,102.603005L136.4716,102.717291L136.357314,102.774434L136.300171,102.774434L136.185885,102.717291L136.128742,102.603005L136.128742,102.431577L136.0716,102.317291L135.957314,102.260148L135.900171,102.260148L135.785885,102.317291L135.728742,102.431577L135.728742,102.603005L135.785885,102.717291M136.4716,103.231577L136.528742,103.345863L136.528742,103.574434L136.4716,103.68872L136.357314,103.745863L136.300171,103.745863L136.185885,103.68872L136.128742,103.574434L136.128742,103.403006L136.0716,103.28872L135.957314,103.231577L135.900171,103.231577L135.785885,103.28872L135.728742,103.403006L135.728742,103.574434L135.785885,103.68872M136.414457,104.260149L136.4716,104.317292L136.528742,104.260149L136.4716,104.203006L136.414457,104.260149L136.528742,104.260149M135.785885,104.260149L135.843028,104.317292L135.900171,104.260149L135.843028,104.203006L135.785885,104.260149L135.900171,104.260149M137.260742,93.745863L137.260742,93.860149L137.317885,93.974435L137.375028,94.031578L137.489314,94.08872L137.717885,94.145863L138.0036,94.145863L138.232171,94.08872L138.346457,94.031578L138.4036,93.974435L138.460742,93.860149L138.460742,93.745863L138.4036,93.631578L138.346457,93.574435L138.232171,93.517292L138.0036,93.460149L137.717885,93.460149L137.489314,93.517292L137.375028,93.574435L137.317885,93.631578L137.260742,93.745863M138.460742,94.545863L137.660742,95.174435M137.660742,94.545863L138.460742,95.174435M137.375028,95.574435L137.317885,95.631578L137.260742,95.745864L137.260742,96.031578L137.317885,96.145864L137.375028,96.203006L137.489314,96.260149L137.6036,96.260149L137.775028,96.203006L138.460742,95.517292L138.460742,96.260149M137.260742,97.003006L137.260742,97.117292L137.317885,97.231578L137.375028,97.288721L137.489314,97.345863L137.717885,97.403006L138.0036,97.403006L138.232171,97.345863L138.346457,97.288721L138.4036,97.231578L138.460742,97.117292L138.460742,97.003006L138.4036,96.888721L138.346457,96.831578L138.232171,96.774435L138.0036,96.717292L137.717885,96.717292L137.489314,96.774435L137.375028,96.831578L137.317885,96.888721L137.260742,97.003006M138.0036,97.917292L138.0036,98.831578M137.260742,99.631577L137.260742,99.745863L137.317885,99.860149L137.375028,99.917292L137.489314,99.974434L137.717885,100.031577L138.0036,100.031577L138.232171,99.974434L138.346457,99.917292L138.4036,99.860149L138.460742,99.745863L138.460742,99.631577L138.4036,99.517292L138.346457,99.460149L138.232171,99.403006L138.0036,99.345863L137.717885,99.345863L137.489314,99.403006L137.375028,99.460149L137.317885,99.517292L137.260742,99.631577M138.460742,100.431577L137.660742,101.060149M137.660742,100.431577L138.460742,101.060149M137.375028,101.460149L137.317885,101.517292L137.260742,101.631578L137.260742,101.917292L137.317885,102.031578L137.375028,102.08872L137.489314,102.145863L137.6036,102.145863L137.775028,102.08872L138.460742,101.403006L138.460742,102.145863M137.260742,102.545863L137.260742,103.345863L138.460742,102.831577"}, {"thickness": 0.2, "svgpath": "M150.885714,111.178742L151.571428,111.178742M151.228571,111.178742L151.228571,109.978742L151.342857,110.150171L151.457142,110.264457L151.571428,110.3216M150.371428,111.064457L150.314285,111.1216L150.371428,111.178742L150.428571,111.1216L150.371428,111.064457L150.371428,111.178742M149.285714,109.978742L149.514285,109.978742L149.628571,110.035885L149.685714,110.093028L149.799999,110.264457L149.857142,110.493028L149.857142,110.950171L149.799999,111.064457L149.742856,111.1216L149.628571,111.178742L149.399999,111.178742L149.285714,111.1216L149.228571,111.064457L149.171428,110.950171L149.171428,110.664457L149.228571,110.550171L149.285714,110.493028L149.399999,110.435885L149.628571,110.435885L149.742856,110.493028L149.799999,110.550171L149.857142,110.664457M148.085714,109.978742L148.657142,109.978742L148.714285,110.550171L148.657142,110.493028L148.542857,110.435885L148.257142,110.435885L148.142857,110.493028L148.085714,110.550171L148.028571,110.664457L148.028571,110.950171L148.085714,111.064457L148.142857,111.1216L148.257142,111.178742L148.542857,111.178742L148.657142,111.1216L148.714285,111.064457M147.514285,110.7216L146.6,110.7216M145.514286,109.978742L145.742857,109.978742L145.857143,110.035885L145.914286,110.093028L146.028571,110.264457L146.085714,110.493028L146.085714,110.950171L146.028571,111.064457L145.971428,111.1216L145.857143,111.178742L145.628571,111.178742L145.514286,111.1216L145.457143,111.064457L145.4,110.950171L145.4,110.664457L145.457143,110.550171L145.514286,110.493028L145.628571,110.435885L145.857143,110.435885L145.971428,110.493028L146.028571,110.550171L146.085714,110.664457M145.057143,109.978742L144.657143,111.178742L144.257143,109.978742M142.942857,111.178742L142.942857,109.978742M142.428571,110.093028L142.371428,110.035885L142.257143,109.978742L141.971428,109.978742L141.857143,110.035885L141.8,110.093028L141.742857,110.207314L141.742857,110.3216L141.8,110.493028L142.485714,111.178742L141.742857,111.178742M140.542857,111.064457L140.6,111.1216L140.771428,111.178742L140.885714,111.178742L141.057143,111.1216L141.171428,111.007314L141.228571,110.893028L141.285714,110.664457L141.285714,110.493028L141.228571,110.264457L141.171428,110.150171L141.057143,110.035885L140.885714,109.978742L140.771428,109.978742L140.6,110.035885L140.542857,110.093028M151.342856,111.967885L151.457142,111.910742L151.62857,111.910742L151.799999,111.967885L151.914284,112.082171L151.971427,112.196457L152.02857,112.425028L152.02857,112.596457L151.971427,112.825028L151.914284,112.939314L151.799999,113.0536L151.62857,113.110742L151.514284,113.110742L151.342856,113.0536L151.285713,112.996457L151.285713,112.596457L151.514284,112.596457M150.771427,113.110742L150.771427,111.910742L150.314284,111.910742L150.199999,111.967885L150.142856,112.025028L150.085713,112.139314L150.085713,112.310742L150.142856,112.425028L150.199999,112.482171L150.314284,112.539314L150.771427,112.539314M149.571427,113.110742L149.571427,111.910742M148.771427,111.910742L148.542855,111.910742L148.42857,111.967885L148.314284,112.082171L148.257141,112.310742L148.257141,112.710742L148.314284,112.939314L148.42857,113.0536L148.542855,113.110742L148.771427,113.110742L148.885713,113.0536L148.999998,112.939314L149.057141,112.710742L149.057141,112.310742L148.999998,112.082171L148.885713,111.967885L148.771427,111.910742M146.828569,112.482171L146.428569,112.482171M146.257141,113.110742L146.828569,113.110742L146.828569,111.910742L146.257141,111.910742M145.857141,113.110742L145.22857,112.310742M145.857141,112.310742L145.22857,113.110742M144.771426,112.310742L144.771426,113.510742M144.771426,112.367885L144.657141,112.310742L144.428569,112.310742L144.314283,112.367885L144.257141,112.425028L144.199998,112.539314L144.199998,112.882171L144.257141,112.996457L144.314283,113.0536L144.428569,113.110742L144.657141,113.110742L144.771426,113.0536M143.171427,113.110742L143.171427,112.482171L143.228569,112.367885L143.342855,112.310742L143.571427,112.310742L143.685712,112.367885M143.171427,113.0536L143.285712,113.110742L143.571427,113.110742L143.685712,113.0536L143.742855,112.939314L143.742855,112.825028L143.685712,112.710742L143.571427,112.6536L143.285712,112.6536L143.171427,112.596457M142.599998,112.310742L142.599998,113.110742M142.599998,112.425028L142.542855,112.367885L142.42857,112.310742L142.257141,112.310742L142.142855,112.367885L142.085713,112.482171L142.085713,113.110742M140.999999,113.110742L140.999999,111.910742M140.999999,113.0536L141.114284,113.110742L141.342856,113.110742L141.457141,113.0536L141.514284,112.996457L141.571427,112.882171L141.571427,112.539314L141.514284,112.425028L141.457141,112.367885L141.342856,112.310742L141.114284,112.310742L140.999999,112.367885M139.971427,113.0536L140.085713,113.110742L140.314285,113.110742L140.42857,113.0536L140.485713,112.939314L140.485713,112.482171L140.42857,112.367885L140.314285,112.310742L140.085713,112.310742L139.971427,112.367885L139.914285,112.482171L139.914285,112.596457L140.485713,112.710742M139.399999,113.110742L139.399999,112.310742M139.399999,112.539314L139.342856,112.425028L139.285714,112.367885L139.171428,112.310742L139.057142,112.310742"}, {"thickness": 0.3, "svgpath": "M143.007142,108.728328L143.507142,108.014042M143.864285,108.728328L143.864285,107.228328L143.292856,107.228328L143.149999,107.299757L143.07857,107.371185L143.007142,107.514042L143.007142,107.728328L143.07857,107.871185L143.149999,107.942614L143.292856,108.014042L143.864285,108.014042M141.792856,108.6569L141.935713,108.728328L142.221428,108.728328L142.364285,108.6569L142.435713,108.514042L142.435713,107.942614L142.364285,107.799757L142.221428,107.728328L141.935713,107.728328L141.792856,107.799757L141.721428,107.942614L141.721428,108.085471L142.435713,108.228328M141.221428,107.728328L140.864285,108.728328L140.507142,107.728328M138.007142,108.728328L138.864285,108.728328M138.435714,108.728328L138.435714,107.228328L138.578571,107.442614L138.721428,107.585471L138.864285,107.6569M137.364286,108.585471L137.292857,108.6569L137.364286,108.728328L137.435714,108.6569L137.364286,108.585471L137.364286,108.728328M136.792857,107.228328L135.864285,107.228328L136.364285,107.799757L136.15,107.799757L136.007143,107.871185L135.935714,107.942614L135.864285,108.085471L135.864285,108.442614L135.935714,108.585471L136.007143,108.6569L136.15,108.728328L136.578571,108.728328L136.721428,108.6569L136.792857,108.585471"}, {"thickness": 0.25, "svgpath": "M150.556955,95.239L150.385527,95.296142L150.099812,95.296142L149.985527,95.239L149.928384,95.181857L149.871241,95.067571L149.871241,94.953285L149.928384,94.839L149.985527,94.781857L150.099812,94.724714L150.328384,94.667571L150.442669,94.610428L150.499812,94.553285L150.556955,94.439L150.556955,94.324714L150.499812,94.210428L150.442669,94.153285L150.328384,94.096142L150.042669,94.096142L149.871241,94.153285M149.471241,94.496142L149.24267,95.296142L149.014098,94.724714L148.785527,95.296142L148.556955,94.496142M148.099812,95.296142L148.099812,94.496142M148.099812,94.096142L148.156955,94.153285L148.099812,94.210428L148.042669,94.153285L148.099812,94.096142L148.099812,94.210428M147.699812,94.496142L147.242669,94.496142M147.528383,94.096142L147.528383,95.124714L147.47124,95.239L147.356955,95.296142L147.242669,95.296142M146.328384,95.239L146.442669,95.296142L146.671241,95.296142L146.785526,95.239L146.842669,95.181857L146.899812,95.067571L146.899812,94.724714L146.842669,94.610428L146.785526,94.553285L146.671241,94.496142L146.442669,94.496142L146.328384,94.553285M145.814098,95.296142L145.814098,94.096142M145.299813,95.296142L145.299813,94.667571L145.356955,94.553285L145.471241,94.496142L145.64267,94.496142L145.756955,94.553285L145.814098,94.610428M143.871241,95.239L143.699813,95.296142L143.414098,95.296142L143.299813,95.239L143.24267,95.181857L143.185527,95.067571L143.185527,94.953285L143.24267,94.839L143.299813,94.781857L143.414098,94.724714L143.64267,94.667571L143.756955,94.610428L143.814098,94.553285L143.871241,94.439L143.871241,94.324714L143.814098,94.210428L143.756955,94.153285L143.64267,94.096142L143.356955,94.096142L143.185527,94.153285M142.785527,94.096142L142.499813,95.296142L142.271241,94.439L142.04267,95.296142L141.756956,94.096142M140.671241,95.296142L141.356955,95.296142M141.014098,95.296142L141.014098,94.096142L141.128384,94.267571L141.242669,94.381857L141.356955,94.439M140.156955,95.181857L140.099812,95.239L140.156955,95.296142L140.214098,95.239L140.156955,95.181857L140.156955,95.296142M140.156955,94.553285L140.099812,94.610428L140.156955,94.667571L140.214098,94.610428L140.156955,94.553285L140.156955,94.667571M149.871241,97.228142L150.556955,97.228142M150.214098,97.228142L150.214098,96.028142L150.328384,96.199571L150.442669,96.313857L150.556955,96.371M149.356955,97.113857L149.299812,97.171L149.356955,97.228142L149.414098,97.171L149.356955,97.113857L149.356955,97.228142M149.356955,96.485285L149.299812,96.542428L149.356955,96.599571L149.414098,96.542428L149.356955,96.485285L149.356955,96.599571M147.87124,97.228142L147.87124,96.028142M147.299811,97.228142L147.299811,96.028142L146.614097,97.228142L146.614097,96.028142M146.214097,96.028142L145.528383,96.028142M145.87124,97.228142L145.87124,96.028142M144.214096,97.228142L144.214096,96.028142L143.756953,96.028142L143.642668,96.085285L143.585525,96.142428L143.528382,96.256714L143.528382,96.428142L143.585525,96.542428L143.642668,96.599571L143.756953,96.656714L144.214096,96.656714M143.014096,96.028142L143.014096,96.999571L142.956953,97.113857L142.899811,97.171L142.785525,97.228142L142.556953,97.228142L142.442668,97.171L142.385525,97.113857L142.328382,96.999571L142.328382,96.028142M150.556955,98.074428L150.499812,98.017285L150.385527,97.960142L150.099812,97.960142L149.985527,98.017285L149.928384,98.074428L149.871241,98.188714L149.871241,98.303L149.928384,98.474428L150.614098,99.160142L149.871241,99.160142M149.356955,99.045857L149.299812,99.103L149.356955,99.160142L149.414098,99.103L149.356955,99.045857L149.356955,99.160142M149.356955,98.417285L149.299812,98.474428L149.356955,98.531571L149.414098,98.474428L149.356955,98.417285L149.356955,98.531571M147.928383,99.103L147.756955,99.160142L147.47124,99.160142L147.356955,99.103L147.299812,99.045857L147.242669,98.931571L147.242669,98.817285L147.299812,98.703L147.356955,98.645857L147.47124,98.588714L147.699812,98.531571L147.814097,98.474428L147.87124,98.417285L147.928383,98.303L147.928383,98.188714L147.87124,98.074428L147.814097,98.017285L147.699812,97.960142L147.414097,97.960142L147.242669,98.017285M146.728383,99.160142L146.728383,97.960142L146.442669,97.960142L146.27124,98.017285L146.156955,98.131571L146.099812,98.245857L146.042669,98.474428L146.042669,98.645857L146.099812,98.874428L146.156955,98.988714L146.27124,99.103L146.442669,99.160142L146.728383,99.160142M145.585526,98.817285L145.014098,98.817285M145.699812,99.160142L145.299812,97.960142L144.899812,99.160142M143.585526,99.160142L143.585526,97.960142L143.128383,97.960142L143.014098,98.017285L142.956955,98.074428L142.899812,98.188714L142.899812,98.360142L142.956955,98.474428L143.014098,98.531571L143.128383,98.588714L143.585526,98.588714M142.385526,97.960142L142.385526,98.931571L142.328383,99.045857L142.271241,99.103L142.156955,99.160142L141.928383,99.160142L141.814098,99.103L141.756955,99.045857L141.699812,98.931571L141.699812,97.960142M150.614098,99.892142L149.871241,99.892142L150.271241,100.349285L150.099812,100.349285L149.985527,100.406428L149.928384,100.463571L149.871241,100.577857L149.871241,100.863571L149.928384,100.977857L149.985527,101.035L150.099812,101.092142L150.442669,101.092142L150.556955,101.035L150.614098,100.977857M149.356955,100.977857L149.299812,101.035L149.356955,101.092142L149.414098,101.035L149.356955,100.977857L149.356955,101.092142M149.356955,100.349285L149.299812,100.406428L149.356955,100.463571L149.414098,100.406428L149.356955,100.349285L149.356955,100.463571M147.928383,101.035L147.756955,101.092142L147.47124,101.092142L147.356955,101.035L147.299812,100.977857L147.242669,100.863571L147.242669,100.749285L147.299812,100.635L147.356955,100.577857L147.47124,100.520714L147.699812,100.463571L147.814097,100.406428L147.87124,100.349285L147.928383,100.235L147.928383,100.120714L147.87124,100.006428L147.814097,99.949285L147.699812,99.892142L147.414097,99.892142L147.242669,99.949285M146.042669,100.977857L146.099812,101.035L146.27124,101.092142L146.385526,101.092142L146.556955,101.035L146.67124,100.920714L146.728383,100.806428L146.785526,100.577857L146.785526,100.406428L146.728383,100.177857L146.67124,100.063571L146.556955,99.949285L146.385526,99.892142L146.27124,99.892142L146.099812,99.949285L146.042669,100.006428M144.956955,101.092142L145.528383,101.092142L145.528383,99.892142M143.642668,101.092142L143.642668,99.892142L143.185525,99.892142L143.07124,99.949285L143.014097,100.006428L142.956954,100.120714L142.956954,100.292142L143.014097,100.406428L143.07124,100.463571L143.185525,100.520714L143.642668,100.520714M142.442668,99.892142L142.442668,100.863571L142.385525,100.977857L142.328383,101.035L142.214097,101.092142L141.985525,101.092142L141.87124,101.035L141.814097,100.977857L141.756954,100.863571L141.756954,99.892142M149.985527,102.224142L149.985527,103.024142M150.271241,101.767L150.556955,102.624142L149.814098,102.624142M149.356955,102.909857L149.299812,102.967L149.356955,103.024142L149.414098,102.967L149.356955,102.909857L149.356955,103.024142M149.356955,102.281285L149.299812,102.338428L149.356955,102.395571L149.414098,102.338428L149.356955,102.281285L149.356955,102.395571M147.928383,102.681285L147.356955,102.681285M148.042669,103.024142L147.642669,101.824142L147.242669,103.024142M146.614098,101.824142L146.499812,101.824142L146.385526,101.881285L146.328384,101.938428L146.271241,102.052714L146.214098,102.281285L146.214098,102.567L146.271241,102.795571L146.328384,102.909857L146.385526,102.967L146.499812,103.024142L146.614098,103.024142L146.728384,102.967L146.785526,102.909857L146.842669,102.795571L146.899812,102.567L146.899812,102.281285L146.842669,102.052714L146.785526,101.938428L146.728384,101.881285L146.614098,101.824142M149.928384,103.756142L150.499812,103.756142L150.556955,104.327571L150.499812,104.270428L150.385527,104.213285L150.099812,104.213285L149.985527,104.270428L149.928384,104.327571L149.871241,104.441857L149.871241,104.727571L149.928384,104.841857L149.985527,104.899L150.099812,104.956142L150.385527,104.956142L150.499812,104.899L150.556955,104.841857M149.356955,104.841857L149.299812,104.899L149.356955,104.956142L149.414098,104.899L149.356955,104.841857L149.356955,104.956142M149.356955,104.213285L149.299812,104.270428L149.356955,104.327571L149.414098,104.270428L149.356955,104.213285L149.356955,104.327571M147.928383,104.613285L147.356955,104.613285M148.042669,104.956142L147.642669,103.756142L147.242669,104.956142M146.214098,104.956142L146.899812,104.956142M146.556955,104.956142L146.556955,103.756142L146.671241,103.927571L146.785526,104.041857L146.899812,104.099M149.985527,105.688142L150.214098,105.688142L150.328384,105.745285L150.385527,105.802428L150.499812,105.973857L150.556955,106.202428L150.556955,106.659571L150.499812,106.773857L150.442669,106.831L150.328384,106.888142L150.099812,106.888142L149.985527,106.831L149.928384,106.773857L149.871241,106.659571L149.871241,106.373857L149.928384,106.259571L149.985527,106.202428L150.099812,106.145285L150.328384,106.145285L150.442669,106.202428L150.499812,106.259571L150.556955,106.373857M149.356955,106.773857L149.299812,106.831L149.356955,106.888142L149.414098,106.831L149.356955,106.773857L149.356955,106.888142M149.356955,106.145285L149.299812,106.202428L149.356955,106.259571L149.414098,106.202428L149.356955,106.145285L149.356955,106.259571M147.928383,106.545285L147.356955,106.545285M148.042669,106.888142L147.642669,105.688142L147.242669,106.888142M146.899812,105.802428L146.842669,105.745285L146.728384,105.688142L146.442669,105.688142L146.328384,105.745285L146.271241,105.802428L146.214098,105.916714L146.214098,106.031L146.271241,106.202428L146.956955,106.888142L146.214098,106.888142"}, {"thickness": 0.15, "svgpath": "M152.654819,108.766666L153.369104,108.766666L153.511961,108.719047L153.6072,108.623809L153.654819,108.480952L153.654819,108.385714M152.750057,109.195238L152.702438,109.242857L152.654819,109.338095L152.654819,109.57619L152.702438,109.671428L152.750057,109.719047L152.845295,109.766666L152.940533,109.766666L153.08339,109.719047L153.654819,109.147619L153.654819,109.766666", "ref": 1}, {"type": "segment", "start": [151.93, 106.8], "end": [151.93, 108.07], "width": 0.12}, {"type": "segment", "start": [151.93, 108.07], "end": [153.2, 108.07], "width": 0.12}, {"type": "segment", "start": [154.242929, 91.18], "end": [154.697071, 91.18], "width": 0.12}, {"type": "segment", "start": [154.242929, 91.94], "end": [154.697071, 91.94], "width": 0.12}, {"type": "segment", "start": [154.242929, 93.72], "end": [154.697071, 93.72], "width": 0.12}, {"type": "segment", "start": [154.242929, 94.48], "end": [154.697071, 94.48], "width": 0.12}, {"type": "segment", "start": [154.242929, 96.26], "end": [154.697071, 96.26], "width": 0.12}, {"type": "segment", "start": [154.242929, 97.02], "end": [154.697071, 97.02], "width": 0.12}, {"type": "segment", "start": [154.242929, 98.8], "end": [154.697071, 98.8], "width": 0.12}, {"type": "segment", "start": [154.242929, 99.56], "end": [154.697071, 99.56], "width": 0.12}, {"type": "segment", "start": [154.242929, 101.34], "end": [154.697071, 101.34], "width": 0.12}, {"type": "segment", "start": [154.242929, 102.1], "end": [154.697071, 102.1], "width": 0.12}, {"type": "segment", "start": [154.242929, 103.88], "end": [154.697071, 103.88], "width": 0.12}, {"type": "segment", "start": [154.242929, 104.64], "end": [154.697071, 104.64], "width": 0.12}, {"type": "segment", "start": [154.31, 106.42], "end": [154.697071, 106.42], "width": 0.12}, {"type": "segment", "start": [154.31, 107.18], "end": [154.697071, 107.18], "width": 0.12}, {"type": "segment", "start": [156.782929, 91.18], "end": [157.18, 91.18], "width": 0.12}, {"type": "segment", "start": [156.782929, 91.94], "end": [157.18, 91.94], "width": 0.12}, {"type": "segment", "start": [156.782929, 93.72], "end": [157.18, 93.72], "width": 0.12}, {"type": "segment", "start": [156.782929, 94.48], "end": [157.18, 94.48], "width": 0.12}, {"type": "segment", "start": [156.782929, 96.26], "end": [157.18, 96.26], "width": 0.12}, {"type": "segment", "start": [156.782929, 97.02], "end": [157.18, 97.02], "width": 0.12}, {"type": "segment", "start": [156.782929, 98.8], "end": [157.18, 98.8], "width": 0.12}, {"type": "segment", "start": [156.782929, 99.56], "end": [157.18, 99.56], "width": 0.12}, {"type": "segment", "start": [156.782929, 101.34], "end": [157.18, 101.34], "width": 0.12}, {"type": "segment", "start": [156.782929, 102.1], "end": [157.18, 102.1], "width": 0.12}, {"type": "segment", "start": [156.782929, 103.88], "end": [157.18, 103.88], "width": 0.12}, {"type": "segment", "start": [156.782929, 104.64], "end": [157.18, 104.64], "width": 0.12}, {"type": "segment", "start": [156.782929, 106.42], "end": [157.18, 106.42], "width": 0.12}, {"type": "segment", "start": [156.782929, 107.18], "end": [157.18, 107.18], "width": 0.12}, {"type": "segment", "start": [157.18, 90.23], "end": [159.84, 90.23], "width": 0.12}, {"type": "segment", "start": [157.18, 92.83], "end": [159.84, 92.83], "width": 0.12}, {"type": "segment", "start": [157.18, 95.37], "end": [159.84, 95.37], "width": 0.12}, {"type": "segment", "start": [157.18, 97.91], "end": [159.84, 97.91], "width": 0.12}, {"type": "segment", "start": [157.18, 100.45], "end": [159.84, 100.45], "width": 0.12}, {"type": "segment", "start": [157.18, 102.99], "end": [159.84, 102.99], "width": 0.12}, {"type": "segment", "start": [157.18, 105.53], "end": [159.84, 105.53], "width": 0.12}, {"type": "segment", "start": [157.18, 108.13], "end": [157.18, 90.23], "width": 0.12}, {"type": "segment", "start": [159.84, 90.23], "end": [159.84, 108.13], "width": 0.12}, {"type": "segment", "start": [159.84, 91.94], "end": [165.84, 91.94], "width": 0.12}, {"type": "segment", "start": [159.84, 94.48], "end": [165.84, 94.48], "width": 0.12}, {"type": "segment", "start": [159.84, 97.02], "end": [165.84, 97.02], "width": 0.12}, {"type": "segment", "start": [159.84, 99.56], "end": [165.84, 99.56], "width": 0.12}, {"type": "segment", "start": [159.84, 102.1], "end": [165.84, 102.1], "width": 0.12}, {"type": "segment", "start": [159.84, 104.64], "end": [165.84, 104.64], "width": 0.12}, {"type": "segment", "start": [159.84, 106.52], "end": [165.84, 106.52], "width": 0.12}, {"type": "segment", "start": [159.84, 106.64], "end": [165.84, 106.64], "width": 0.12}, {"type": "segment", "start": [159.84, 106.76], "end": [165.84, 106.76], "width": 0.12}, {"type": "segment", "start": [159.84, 106.88], "end": [165.84, 106.88], "width": 0.12}, {"type": "segment", "start": [159.84, 107.0], "end": [165.84, 107.0], "width": 0.12}, {"type": "segment", "start": [159.84, 107.12], "end": [165.84, 107.12], "width": 0.12}, {"type": "segment", "start": [159.84, 107.18], "end": [165.84, 107.18], "width": 0.12}, {"type": "segment", "start": [159.84, 108.13], "end": [157.18, 108.13], "width": 0.12}, {"type": "segment", "start": [165.84, 91.18], "end": [159.84, 91.18], "width": 0.12}, {"type": "segment", "start": [165.84, 91.94], "end": [165.84, 91.18], "width": 0.12}, {"type": "segment", "start": [165.84, 93.72], "end": [159.84, 93.72], "width": 0.12}, {"type": "segment", "start": [165.84, 94.48], "end": [165.84, 93.72], "width": 0.12}, {"type": "segment", "start": [165.84, 96.26], "end": [159.84, 96.26], "width": 0.12}, {"type": "segment", "start": [165.84, 97.02], "end": [165.84, 96.26], "width": 0.12}, {"type": "segment", "start": [165.84, 98.8], "end": [159.84, 98.8], "width": 0.12}, {"type": "segment", "start": [165.84, 99.56], "end": [165.84, 98.8], "width": 0.12}, {"type": "segment", "start": [165.84, 101.34], "end": [159.84, 101.34], "width": 0.12}, {"type": "segment", "start": [165.84, 102.1], "end": [165.84, 101.34], "width": 0.12}, {"type": "segment", "start": [165.84, 103.88], "end": [159.84, 103.88], "width": 0.12}, {"type": "segment", "start": [165.84, 104.64], "end": [165.84, 103.88], "width": 0.12}, {"type": "segment", "start": [165.84, 106.42], "end": [159.84, 106.42], "width": 0.12}, {"type": "segment", "start": [165.84, 107.18], "end": [165.84, 106.42], "width": 0.12}, {"thickness": 0.15, "svgpath": "M149.433333,87.954819L149.433333,88.669104L149.480952,88.811961L149.57619,88.9072L149.719047,88.954819L149.814285,88.954819M149.05238,87.954819L148.433333,87.954819L148.766666,88.335771L148.623809,88.335771L148.528571,88.38339L148.480952,88.431009L148.433333,88.526247L148.433333,88.764342L148.480952,88.85958L148.528571,88.9072L148.623809,88.954819L148.909523,88.954819L149.004761,88.9072L149.05238,88.85958", "ref": 1}, {"type": "segment", "start": [146.6, 92.67], "end": [147.87, 92.67], "width": 0.12}, {"type": "segment", "start": [147.87, 92.67], "end": [147.87, 91.4], "width": 0.12}, {"type": "segment", "start": [138.6, 90.357071], "end": [138.6, 89.902929], "width": 0.12}, {"type": "segment", "start": [139.36, 90.357071], "end": [139.36, 89.902929], "width": 0.12}, {"type": "segment", "start": [141.14, 90.357071], "end": [141.14, 89.902929], "width": 0.12}, {"type": "segment", "start": [141.9, 90.357071], "end": [141.9, 89.902929], "width": 0.12}, {"type": "segment", "start": [143.68, 90.357071], "end": [143.68, 89.902929], "width": 0.12}, {"type": "segment", "start": [144.44, 90.357071], "end": [144.44, 89.902929], "width": 0.12}, {"type": "segment", "start": [146.22, 90.29], "end": [146.22, 89.902929], "width": 0.12}, {"type": "segment", "start": [146.98, 90.29], "end": [146.98, 89.902929], "width": 0.12}, {"type": "segment", "start": [138.6, 87.817071], "end": [138.6, 87.42], "width": 0.12}, {"type": "segment", "start": [139.36, 87.817071], "end": [139.36, 87.42], "width": 0.12}, {"type": "segment", "start": [141.14, 87.817071], "end": [141.14, 87.42], "width": 0.12}, {"type": "segment", "start": [141.9, 87.817071], "end": [141.9, 87.42], "width": 0.12}, {"type": "segment", "start": [143.68, 87.817071], "end": [143.68, 87.42], "width": 0.12}, {"type": "segment", "start": [144.44, 87.817071], "end": [144.44, 87.42], "width": 0.12}, {"type": "segment", "start": [146.22, 87.817071], "end": [146.22, 87.42], "width": 0.12}, {"type": "segment", "start": [146.98, 87.817071], "end": [146.98, 87.42], "width": 0.12}, {"type": "segment", "start": [137.65, 87.42], "end": [137.65, 84.76], "width": 0.12}, {"type": "segment", "start": [140.25, 87.42], "end": [140.25, 84.76], "width": 0.12}, {"type": "segment", "start": [142.79, 87.42], "end": [142.79, 84.76], "width": 0.12}, {"type": "segment", "start": [145.33, 87.42], "end": [145.33, 84.76], "width": 0.12}, {"type": "segment", "start": [147.93, 87.42], "end": [137.65, 87.42], "width": 0.12}, {"type": "segment", "start": [137.65, 84.76], "end": [147.93, 84.76], "width": 0.12}, {"type": "segment", "start": [139.36, 84.76], "end": [139.36, 78.76], "width": 0.12}, {"type": "segment", "start": [141.9, 84.76], "end": [141.9, 78.76], "width": 0.12}, {"type": "segment", "start": [144.44, 84.76], "end": [144.44, 78.76], "width": 0.12}, {"type": "segment", "start": [146.32, 84.76], "end": [146.32, 78.76], "width": 0.12}, {"type": "segment", "start": [146.44, 84.76], "end": [146.44, 78.76], "width": 0.12}, {"type": "segment", "start": [146.56, 84.76], "end": [146.56, 78.76], "width": 0.12}, {"type": "segment", "start": [146.68, 84.76], "end": [146.68, 78.76], "width": 0.12}, {"type": "segment", "start": [146.8, 84.76], "end": [146.8, 78.76], "width": 0.12}, {"type": "segment", "start": [146.92, 84.76], "end": [146.92, 78.76], "width": 0.12}, {"type": "segment", "start": [146.98, 84.76], "end": [146.98, 78.76], "width": 0.12}, {"type": "segment", "start": [147.93, 84.76], "end": [147.93, 87.42], "width": 0.12}, {"type": "segment", "start": [138.6, 78.76], "end": [138.6, 84.76], "width": 0.12}, {"type": "segment", "start": [139.36, 78.76], "end": [138.6, 78.76], "width": 0.12}, {"type": "segment", "start": [141.14, 78.76], "end": [141.14, 84.76], "width": 0.12}, {"type": "segment", "start": [141.9, 78.76], "end": [141.14, 78.76], "width": 0.12}, {"type": "segment", "start": [143.68, 78.76], "end": [143.68, 84.76], "width": 0.12}, {"type": "segment", "start": [144.44, 78.76], "end": [143.68, 78.76], "width": 0.12}, {"type": "segment", "start": [146.22, 78.76], "end": [146.22, 84.76], "width": 0.12}, {"type": "segment", "start": [146.98, 78.76], "end": [146.22, 78.76], "width": 0.12}, {"thickness": 0.15, "svgpath": "M133.933333,85.404819L133.933333,86.119104L133.980952,86.261961L134.07619,86.3572L134.219047,86.404819L134.314285,86.404819M132.933333,86.404819L133.504761,86.404819M133.219047,86.404819L133.219047,85.404819L133.314285,85.547676L133.409523,85.642914L133.504761,85.690533", "ref": 1}, {"type": "segment", "start": [134.52, 87.85], "end": [134.52, 86.58], "width": 0.12}, {"type": "segment", "start": [134.52, 86.58], "end": [133.25, 86.58], "width": 0.12}, {"type": "segment", "start": [132.207071, 111.09], "end": [131.81, 111.09], "width": 0.12}, {"type": "segment", "start": [132.207071, 110.33], "end": [131.81, 110.33], "width": 0.12}, {"type": "segment", "start": [132.207071, 108.55], "end": [131.81, 108.55], "width": 0.12}, {"type": "segment", "start": [132.207071, 107.79], "end": [131.81, 107.79], "width": 0.12}, {"type": "segment", "start": [132.207071, 106.01], "end": [131.81, 106.01], "width": 0.12}, {"type": "segment", "start": [132.207071, 105.25], "end": [131.81, 105.25], "width": 0.12}, {"type": "segment", "start": [132.207071, 103.47], "end": [131.81, 103.47], "width": 0.12}, {"type": "segment", "start": [132.207071, 102.71], "end": [131.81, 102.71], "width": 0.12}, {"type": "segment", "start": [132.207071, 100.93], "end": [131.81, 100.93], "width": 0.12}, {"type": "segment", "start": [132.207071, 100.17], "end": [131.81, 100.17], "width": 0.12}, {"type": "segment", "start": [132.207071, 98.39], "end": [131.81, 98.39], "width": 0.12}, {"type": "segment", "start": [132.207071, 97.63], "end": [131.81, 97.63], "width": 0.12}, {"type": "segment", "start": [132.207071, 95.85], "end": [131.81, 95.85], "width": 0.12}, {"type": "segment", "start": [132.207071, 95.09], "end": [131.81, 95.09], "width": 0.12}, {"type": "segment", "start": [132.207071, 93.31], "end": [131.81, 93.31], "width": 0.12}, {"type": "segment", "start": [132.207071, 92.55], "end": [131.81, 92.55], "width": 0.12}, {"type": "segment", "start": [132.207071, 90.77], "end": [131.81, 90.77], "width": 0.12}, {"type": "segment", "start": [132.207071, 90.01], "end": [131.81, 90.01], "width": 0.12}, {"type": "segment", "start": [132.14, 88.23], "end": [131.81, 88.23], "width": 0.12}, {"type": "segment", "start": [132.14, 87.47], "end": [131.81, 87.47], "width": 0.12}, {"type": "segment", "start": [131.81, 112.04], "end": [129.15, 112.04], "width": 0.12}, {"type": "segment", "start": [131.81, 109.44], "end": [129.15, 109.44], "width": 0.12}, {"type": "segment", "start": [131.81, 106.9], "end": [129.15, 106.9], "width": 0.12}, {"type": "segment", "start": [131.81, 104.36], "end": [129.15, 104.36], "width": 0.12}, {"type": "segment", "start": [131.81, 101.82], "end": [129.15, 101.82], "width": 0.12}, {"type": "segment", "start": [131.81, 99.28], "end": [129.15, 99.28], "width": 0.12}, {"type": "segment", "start": [131.81, 96.74], "end": [129.15, 96.74], "width": 0.12}, {"type": "segment", "start": [131.81, 94.2], "end": [129.15, 94.2], "width": 0.12}, {"type": "segment", "start": [131.81, 91.66], "end": [129.15, 91.66], "width": 0.12}, {"type": "segment", "start": [131.81, 89.12], "end": [129.15, 89.12], "width": 0.12}, {"type": "segment", "start": [131.81, 86.52], "end": [131.81, 112.04], "width": 0.12}, {"type": "segment", "start": [129.15, 112.04], "end": [129.15, 86.52], "width": 0.12}, {"type": "segment", "start": [129.15, 110.33], "end": [123.15, 110.33], "width": 0.12}, {"type": "segment", "start": [129.15, 107.79], "end": [123.15, 107.79], "width": 0.12}, {"type": "segment", "start": [129.15, 105.25], "end": [123.15, 105.25], "width": 0.12}, {"type": "segment", "start": [129.15, 102.71], "end": [123.15, 102.71], "width": 0.12}, {"type": "segment", "start": [129.15, 100.17], "end": [123.15, 100.17], "width": 0.12}, {"type": "segment", "start": [129.15, 97.63], "end": [123.15, 97.63], "width": 0.12}, {"type": "segment", "start": [129.15, 95.09], "end": [123.15, 95.09], "width": 0.12}, {"type": "segment", "start": [129.15, 92.55], "end": [123.15, 92.55], "width": 0.12}, {"type": "segment", "start": [129.15, 90.01], "end": [123.15, 90.01], "width": 0.12}, {"type": "segment", "start": [129.15, 88.13], "end": [123.15, 88.13], "width": 0.12}, {"type": "segment", "start": [129.15, 88.01], "end": [123.15, 88.01], "width": 0.12}, {"type": "segment", "start": [129.15, 87.89], "end": [123.15, 87.89], "width": 0.12}, {"type": "segment", "start": [129.15, 87.77], "end": [123.15, 87.77], "width": 0.12}, {"type": "segment", "start": [129.15, 87.65], "end": [123.15, 87.65], "width": 0.12}, {"type": "segment", "start": [129.15, 87.53], "end": [123.15, 87.53], "width": 0.12}, {"type": "segment", "start": [129.15, 87.47], "end": [123.15, 87.47], "width": 0.12}, {"type": "segment", "start": [129.15, 86.52], "end": [131.81, 86.52], "width": 0.12}, {"type": "segment", "start": [123.15, 111.09], "end": [129.15, 111.09], "width": 0.12}, {"type": "segment", "start": [123.15, 110.33], "end": [123.15, 111.09], "width": 0.12}, {"type": "segment", "start": [123.15, 108.55], "end": [129.15, 108.55], "width": 0.12}, {"type": "segment", "start": [123.15, 107.79], "end": [123.15, 108.55], "width": 0.12}, {"type": "segment", "start": [123.15, 106.01], "end": [129.15, 106.01], "width": 0.12}, {"type": "segment", "start": [123.15, 105.25], "end": [123.15, 106.01], "width": 0.12}, {"type": "segment", "start": [123.15, 103.47], "end": [129.15, 103.47], "width": 0.12}, {"type": "segment", "start": [123.15, 102.71], "end": [123.15, 103.47], "width": 0.12}, {"type": "segment", "start": [123.15, 100.93], "end": [129.15, 100.93], "width": 0.12}, {"type": "segment", "start": [123.15, 100.17], "end": [123.15, 100.93], "width": 0.12}, {"type": "segment", "start": [123.15, 98.39], "end": [129.15, 98.39], "width": 0.12}, {"type": "segment", "start": [123.15, 97.63], "end": [123.15, 98.39], "width": 0.12}, {"type": "segment", "start": [123.15, 95.85], "end": [129.15, 95.85], "width": 0.12}, {"type": "segment", "start": [123.15, 95.09], "end": [123.15, 95.85], "width": 0.12}, {"type": "segment", "start": [123.15, 93.31], "end": [129.15, 93.31], "width": 0.12}, {"type": "segment", "start": [123.15, 92.55], "end": [123.15, 93.31], "width": 0.12}, {"type": "segment", "start": [123.15, 90.77], "end": [129.15, 90.77], "width": 0.12}, {"type": "segment", "start": [123.15, 90.01], "end": [123.15, 90.77], "width": 0.12}, {"type": "segment", "start": [123.15, 88.23], "end": [129.15, 88.23], "width": 0.12}, {"type": "segment", "start": [123.15, 87.47], "end": [123.15, 88.23], "width": 0.12}]}, "fabrication": {"F": [{"thickness": 0.15, "svgpath": "M139.004761,106.804819L138.433333,106.804819M138.719047,106.804819L138.719047,105.804819L138.623809,105.947676L138.528571,106.042914L138.433333,106.090533M139.623809,105.804819L139.719047,105.804819L139.814285,105.852438L139.861904,105.900057L139.909523,105.995295L139.957142,106.185771L139.957142,106.423866L139.909523,106.614342L139.861904,106.70958L139.814285,106.7572L139.719047,106.804819L139.623809,106.804819L139.528571,106.7572L139.480952,106.70958L139.433333,106.614342L139.385714,106.423866L139.385714,106.185771L139.433333,105.995295L139.480952,105.900057L139.528571,105.852438L139.623809,105.804819M140.385714,106.804819L140.385714,105.804819M140.480952,106.423866L140.766666,106.804819M140.766666,106.138152L140.385714,106.519104", "val": 1}, {"thickness": 0.075, "svgpath": "M139.827409,109.495238L139.589314,109.661904M139.827409,109.780952L139.327409,109.780952L139.327409,109.590476L139.351219,109.542857L139.375028,109.519047L139.422647,109.495238L139.494076,109.495238L139.541695,109.519047L139.565504,109.542857L139.589314,109.590476L139.589314,109.780952M139.827409,109.280952L139.327409,109.280952L139.827409,108.995238L139.327409,108.995238M139.375028,108.780951L139.351219,108.757142L139.327409,108.709523L139.327409,108.590475L139.351219,108.542856L139.375028,108.519047L139.422647,108.495237L139.470266,108.495237L139.541695,108.519047L139.827409,108.804761L139.827409,108.495237"}, {"type": "segment", "start": [140.4, 110.75], "end": [138.8, 110.75], "width": 0.1}, {"type": "segment", "start": [140.4, 107.55], "end": [140.4, 110.75], "width": 0.1}, {"type": "segment", "start": [138.8, 110.75], "end": [138.8, 107.55], "width": 0.1}, {"type": "segment", "start": [138.8, 107.55], "end": [140.4, 107.55], "width": 0.1}, {"thickness": 0.15, "svgpath": "M141.980714,109.6472L142.123571,109.694819L142.361666,109.694819L142.456904,109.6472L142.504523,109.59958L142.552142,109.504342L142.552142,109.409104L142.504523,109.313866L142.456904,109.266247L142.361666,109.218628L142.17119,109.171009L142.075952,109.12339L142.028333,109.075771L141.980714,108.980533L141.980714,108.885295L142.028333,108.790057L142.075952,108.742438L142.17119,108.694819L142.409285,108.694819L142.552142,108.742438M142.885476,108.694819L143.123571,109.694819L143.314047,108.980533L143.504523,109.694819L143.742619,108.694819M143.885476,109.790057L144.64738,109.790057M144.885476,109.694819L144.885476,108.694819L145.123571,108.694819L145.266428,108.742438L145.361666,108.837676L145.409285,108.932914L145.456904,109.12339L145.456904,109.266247L145.409285,109.456723L145.361666,109.551961L145.266428,109.6472L145.123571,109.694819L144.885476,109.694819M145.885476,109.694819L145.885476,108.694819M146.361666,109.694819L146.361666,108.694819L146.742618,108.694819L146.837856,108.742438L146.885475,108.790057L146.933094,108.885295L146.933094,109.028152L146.885475,109.12339L146.837856,109.171009L146.742618,109.218628L146.361666,109.218628M147.123571,109.790057L147.885475,109.790057M148.028333,109.694819L148.552142,109.028152M148.028333,109.028152L148.552142,109.694819M149.123571,108.694819L149.218809,108.694819L149.314047,108.742438L149.361666,108.790057L149.409285,108.885295L149.456904,109.075771L149.456904,109.313866L149.409285,109.504342L149.361666,109.59958L149.314047,109.6472L149.218809,109.694819L149.123571,109.694819L149.028333,109.6472L148.980714,109.59958L148.933095,109.504342L148.885476,109.313866L148.885476,109.075771L148.933095,108.885295L148.980714,108.790057L149.028333,108.742438L149.123571,108.694819M150.314047,108.694819L150.123571,108.694819L150.028333,108.742438L149.980714,108.790057L149.885476,108.932914L149.837857,109.12339L149.837857,109.504342L149.885476,109.59958L149.933095,109.6472L150.028333,109.694819L150.218809,109.694819L150.314047,109.6472L150.361666,109.59958L150.409285,109.504342L150.409285,109.266247L150.361666,109.171009L150.314047,109.12339L150.218809,109.075771L150.028333,109.075771L149.933095,109.12339L149.885476,109.171009L149.837857,109.266247", "val": 1}, {"type": "segment", "start": [141.795, 106.99], "end": [150.595, 106.99], "width": 0.12}, {"type": "segment", "start": [141.795, 111.49], "end": [141.795, 106.99], "width": 0.12}, {"type": "segment", "start": [150.595, 106.99], "end": [150.595, 111.49], "width": 0.12}, {"type": "segment", "start": [150.595, 111.49], "end": [141.795, 111.49], "width": 0.12}, {"thickness": 0.15, "svgpath": "M151.478571,111.654819L150.907143,111.654819M151.192857,111.654819L151.192857,110.654819L151.097619,110.797676L151.002381,110.892914L150.907143,110.940533M152.097619,110.654819L152.192857,110.654819L152.288095,110.702438L152.335714,110.750057L152.383333,110.845295L152.430952,111.035771L152.430952,111.273866L152.383333,111.464342L152.335714,111.55958L152.288095,111.6072L152.192857,111.654819L152.097619,111.654819L152.002381,111.6072L151.954762,111.55958L151.907143,111.464342L151.859524,111.273866L151.859524,111.035771L151.907143,110.845295L151.954762,110.750057L152.002381,110.702438L152.097619,110.654819M153.288095,110.988152L153.288095,111.654819M152.859524,110.988152L152.859524,111.511961L152.907143,111.6072L153.002381,111.654819L153.145238,111.654819L153.240476,111.6072L153.288095,111.55958M154.097619,111.131009L153.764286,111.131009M153.764286,111.654819L153.764286,110.654819L154.240476,110.654819", "val": 1}, {"thickness": 0.08, "svgpath": "M152.466666,109.72953L152.442857,109.75334L152.371428,109.777149L152.323809,109.777149L152.252381,109.75334L152.204762,109.70572L152.180952,109.658101L152.157143,109.562863L152.157143,109.491435L152.180952,109.396197L152.204762,109.348578L152.252381,109.300959L152.323809,109.277149L152.371428,109.277149L152.442857,109.300959L152.466666,109.324768M152.657143,109.324768L152.680952,109.300959L152.728571,109.277149L152.847619,109.277149L152.895238,109.300959L152.919047,109.324768L152.942857,109.372387L152.942857,109.420006L152.919047,109.491435L152.633333,109.777149L152.942857,109.777149"}, {"type": "segment", "start": [151.55, 108.95], "end": [153.55, 108.95], "width": 0.1}, {"type": "segment", "start": [151.55, 110.15], "end": [151.55, 108.95], "width": 0.1}, {"type": "segment", "start": [153.55, 108.95], "end": [153.55, 110.15], "width": 0.1}, {"type": "segment", "start": [153.55, 110.15], "end": [151.55, 110.15], "width": 0.1}, {"thickness": 0.15, "svgpath": "M147.959524,86.281009L147.626191,86.281009M147.626191,86.804819L147.626191,85.804819L148.102381,85.804819M148.483334,86.804819L148.483334,85.804819M148.959524,86.804819L148.959524,85.804819L149.197619,85.804819L149.340476,85.852438L149.435714,85.947676L149.483333,86.042914L149.530952,86.23339L149.530952,86.376247L149.483333,86.566723L149.435714,86.661961L149.340476,86.7572L149.197619,86.804819L148.959524,86.804819M149.959524,85.804819L149.959524,86.614342L150.007143,86.70958L150.054762,86.7572L150.15,86.804819L150.340476,86.804819L150.435714,86.7572L150.483333,86.70958L150.530952,86.614342L150.530952,85.804819M151.578571,86.70958L151.530952,86.7572L151.388095,86.804819L151.292857,86.804819L151.15,86.7572L151.054762,86.661961L151.007143,86.566723L150.959524,86.376247L150.959524,86.23339L151.007143,86.042914L151.054762,85.947676L151.15,85.852438L151.292857,85.804819L151.388095,85.804819L151.530952,85.852438L151.578571,85.900057M152.007143,86.804819L152.007143,85.804819M152.435714,86.519104L152.911904,86.519104M152.340476,86.804819L152.673809,85.804819L153.007142,86.804819M153.816666,86.804819L153.340476,86.804819L153.340476,85.804819M153.911905,86.900057L154.673809,86.900057M155.435714,86.804819L154.864286,86.804819M155.15,86.804819L155.15,85.804819L155.054762,85.947676L154.959524,86.042914L154.864286,86.090533M155.864286,86.804819L155.864286,85.804819L156.197619,86.519104L156.530952,85.804819L156.530952,86.804819M157.007143,86.804819L157.007143,85.804819L157.340476,86.519104L157.673809,85.804819L157.673809,86.804819", "val": 1}, {"thickness": 0.15, "svgpath": "M147.959524,86.281009L147.626191,86.281009M147.626191,86.804819L147.626191,85.804819L148.102381,85.804819M148.483334,86.804819L148.483334,85.804819M148.959524,86.804819L148.959524,85.804819L149.197619,85.804819L149.340476,85.852438L149.435714,85.947676L149.483333,86.042914L149.530952,86.23339L149.530952,86.376247L149.483333,86.566723L149.435714,86.661961L149.340476,86.7572L149.197619,86.804819L148.959524,86.804819M149.959524,85.804819L149.959524,86.614342L150.007143,86.70958L150.054762,86.7572L150.15,86.804819L150.340476,86.804819L150.435714,86.7572L150.483333,86.70958L150.530952,86.614342L150.530952,85.804819M151.578571,86.70958L151.530952,86.7572L151.388095,86.804819L151.292857,86.804819L151.15,86.7572L151.054762,86.661961L151.007143,86.566723L150.959524,86.376247L150.959524,86.23339L151.007143,86.042914L151.054762,85.947676L151.15,85.852438L151.292857,85.804819L151.388095,85.804819L151.530952,85.852438L151.578571,85.900057M152.007143,86.804819L152.007143,85.804819M152.435714,86.519104L152.911904,86.519104M152.340476,86.804819L152.673809,85.804819L153.007142,86.804819M153.816666,86.804819L153.340476,86.804819L153.340476,85.804819M153.911905,86.900057L154.673809,86.900057M155.435714,86.804819L154.864286,86.804819M155.15,86.804819L155.15,85.804819L155.054762,85.947676L154.959524,86.042914L154.864286,86.090533M155.864286,86.804819L155.864286,85.804819L156.197619,86.519104L156.530952,85.804819L156.530952,86.804819M157.007143,86.804819L157.007143,85.804819L157.340476,86.519104L157.673809,85.804819L157.673809,86.804819", "val": 1}, {"thickness": 0.15, "svgpath": "M131.759524,110.531009L131.426191,110.531009M131.426191,111.054819L131.426191,110.054819L131.902381,110.054819M132.283334,111.054819L132.283334,110.054819M132.759524,111.054819L132.759524,110.054819L132.997619,110.054819L133.140476,110.102438L133.235714,110.197676L133.283333,110.292914L133.330952,110.48339L133.330952,110.626247L133.283333,110.816723L133.235714,110.911961L133.140476,111.0072L132.997619,111.054819L132.759524,111.054819M133.759524,110.054819L133.759524,110.864342L133.807143,110.95958L133.854762,111.0072L133.95,111.054819L134.140476,111.054819L134.235714,111.0072L134.283333,110.95958L134.330952,110.864342L134.330952,110.054819M135.378571,110.95958L135.330952,111.0072L135.188095,111.054819L135.092857,111.054819L134.95,111.0072L134.854762,110.911961L134.807143,110.816723L134.759524,110.626247L134.759524,110.48339L134.807143,110.292914L134.854762,110.197676L134.95,110.102438L135.092857,110.054819L135.188095,110.054819L135.330952,110.102438L135.378571,110.150057M135.807143,111.054819L135.807143,110.054819M136.235714,110.769104L136.711904,110.769104M136.140476,111.054819L136.473809,110.054819L136.807142,111.054819M137.616666,111.054819L137.140476,111.054819L137.140476,110.054819M137.711905,111.150057L138.473809,111.150057M139.235714,111.054819L138.664286,111.054819M138.95,111.054819L138.95,110.054819L138.854762,110.197676L138.759524,110.292914L138.664286,110.340533M139.664286,111.054819L139.664286,110.054819L139.997619,110.769104L140.330952,110.054819L140.330952,111.054819M140.807143,111.054819L140.807143,110.054819L141.140476,110.769104L141.473809,110.054819L141.473809,111.054819", "val": 1}, {"thickness": 0.15, "svgpath": "M136.604761,99.574819L136.033333,99.574819M136.319047,99.574819L136.319047,98.574819L136.223809,98.717676L136.128571,98.812914L136.033333,98.860533M137.461904,98.908152L137.461904,99.574819M137.033333,98.908152L137.033333,99.431961L137.080952,99.5272L137.17619,99.574819L137.319047,99.574819L137.414285,99.5272L137.461904,99.47958M138.271428,99.051009L137.938095,99.051009M137.938095,99.574819L137.938095,98.574819L138.414285,98.574819", "val": 1}, {"thickness": 0.06, "svgpath": "M137.133333,100.693832L137.114285,100.71288L137.057143,100.731927L137.019047,100.731927L136.961904,100.71288L136.923809,100.674784L136.904762,100.636689L136.885714,100.560499L136.885714,100.503356L136.904762,100.427165L136.923809,100.38907L136.961904,100.350975L137.019047,100.331927L137.057143,100.331927L137.114285,100.350975L137.133333,100.370022M137.514285,100.731927L137.285714,100.731927M137.4,100.731927L137.4,100.331927L137.361904,100.38907L137.323809,100.427165L137.285714,100.446213"}, {"type": "segment", "start": [138.0, 100.95], "end": [136.4, 100.95], "width": 0.1}, {"type": "segment", "start": [138.0, 100.15], "end": [138.0, 100.95], "width": 0.1}, {"type": "segment", "start": [136.4, 100.95], "end": [136.4, 100.15], "width": 0.1}, {"type": "segment", "start": [136.4, 100.15], "end": [138.0, 100.15], "width": 0.1}, {"thickness": 0.15, "svgpath": "M151.704819,91.271428L151.704819,91.842856M151.704819,91.557142L150.704819,91.557142L150.847676,91.65238L150.942914,91.747618L150.990533,91.842856M150.704819,90.65238L150.704819,90.557142L150.752438,90.461904L150.800057,90.414285L150.895295,90.366666L151.085771,90.319047L151.323866,90.319047L151.514342,90.366666L151.60958,90.414285L151.6572,90.461904L151.704819,90.557142L151.704819,90.65238L151.6572,90.747618L151.60958,90.795237L151.514342,90.842856L151.323866,90.890475L151.085771,90.890475L150.895295,90.842856L150.800057,90.795237L150.752438,90.747618L150.704819,90.65238M151.038152,89.461904L151.704819,89.461904M151.038152,89.890475L151.561961,89.890475L151.6572,89.842856L151.704819,89.747618L151.704819,89.604761L151.6572,89.509523L151.60958,89.461904M151.181009,88.65238L151.181009,88.985713M151.704819,88.985713L150.704819,88.985713L150.704819,88.509523", "val": 1}, {"thickness": 0.08, "svgpath": "M149.77953,90.283333L149.80334,90.307142L149.827149,90.378571L149.827149,90.42619L149.80334,90.497618L149.75572,90.545237L149.708101,90.569047L149.612863,90.592856L149.541435,90.592856L149.446197,90.569047L149.398578,90.545237L149.350959,90.497618L149.327149,90.42619L149.327149,90.378571L149.350959,90.307142L149.374768,90.283333M149.493816,89.854761L149.827149,89.854761M149.30334,89.973809L149.660482,90.092856L149.660482,89.783333"}, {"type": "segment", "start": [149.0, 91.2], "end": [149.0, 89.2], "width": 0.1}, {"type": "segment", "start": [150.2, 91.2], "end": [149.0, 91.2], "width": 0.1}, {"type": "segment", "start": [149.0, 89.2], "end": [150.2, 89.2], "width": 0.1}, {"type": "segment", "start": [150.2, 89.2], "end": [150.2, 91.2], "width": 0.1}, {"thickness": 0.15, "svgpath": "M136.378571,101.054819L135.807143,101.054819M136.092857,101.054819L136.092857,100.054819L135.997619,100.197676L135.902381,100.292914L135.807143,100.340533M136.997619,100.054819L137.092857,100.054819L137.188095,100.102438L137.235714,100.150057L137.283333,100.245295L137.330952,100.435771L137.330952,100.673866L137.283333,100.864342L137.235714,100.95958L137.188095,101.0072L137.092857,101.054819L136.997619,101.054819L136.902381,101.0072L136.854762,100.95958L136.807143,100.864342L136.759524,100.673866L136.759524,100.435771L136.807143,100.245295L136.854762,100.150057L136.902381,100.102438L136.997619,100.054819M138.188095,100.388152L138.188095,101.054819M137.759524,100.388152L137.759524,100.911961L137.807143,101.0072L137.902381,101.054819L138.045238,101.054819L138.140476,101.0072L138.188095,100.95958M138.997619,100.531009L138.664286,100.531009M138.664286,101.054819L138.664286,100.054819L139.140476,100.054819", "val": 1}, {"thickness": 0.08, "svgpath": "M137.366666,102.42953L137.342857,102.45334L137.271428,102.477149L137.223809,102.477149L137.152381,102.45334L137.104762,102.40572L137.080952,102.358101L137.057143,102.262863L137.057143,102.191435L137.080952,102.096197L137.104762,102.048578L137.152381,102.000959L137.223809,101.977149L137.271428,101.977149L137.342857,102.000959L137.366666,102.024768M137.533333,101.977149L137.842857,101.977149L137.67619,102.167625L137.747619,102.167625L137.795238,102.191435L137.819047,102.215244L137.842857,102.262863L137.842857,102.381911L137.819047,102.42953L137.795238,102.45334L137.747619,102.477149L137.604762,102.477149L137.557143,102.45334L137.533333,102.42953"}, {"type": "segment", "start": [138.45, 102.85], "end": [136.45, 102.85], "width": 0.1}, {"type": "segment", "start": [138.45, 101.65], "end": [138.45, 102.85], "width": 0.1}, {"type": "segment", "start": [136.45, 102.85], "end": [136.45, 101.65], "width": 0.1}, {"type": "segment", "start": [136.45, 101.65], "end": [138.45, 101.65], "width": 0.1}, {"thickness": 0.15, "svgpath": "M139.054819,108.559524L138.578628,108.892857M139.054819,109.130952L138.054819,109.130952L138.054819,108.75L138.102438,108.654762L138.150057,108.607143L138.245295,108.559524L138.388152,108.559524L138.48339,108.607143L138.531009,108.654762L138.578628,108.75L138.578628,109.130952M139.150057,108.369048L139.150057,107.607143M139.054819,107.369047L138.054819,107.369047L138.054819,106.988095L138.102438,106.892857L138.150057,106.845238L138.245295,106.797619L138.388152,106.797619L138.48339,106.845238L138.531009,106.892857L138.578628,106.988095L138.578628,107.369047M139.054819,105.940476L138.531009,105.940476L138.435771,105.988095L138.388152,106.083333L138.388152,106.273809L138.435771,106.369047M139.0072,105.940476L139.054819,106.035714L139.054819,106.273809L139.0072,106.369047L138.911961,106.416666L138.816723,106.416666L138.721485,106.369047L138.673866,106.273809L138.673866,106.035714L138.626247,105.940476M139.0072,105.035714L139.054819,105.130952L139.054819,105.321428L139.0072,105.416666L138.95958,105.464285L138.864342,105.511904L138.578628,105.511904L138.48339,105.464285L138.435771,105.416666L138.388152,105.321428L138.388152,105.130952L138.435771,105.035714M139.054819,104.607142L138.054819,104.607142M138.673866,104.511904L139.054819,104.22619M138.388152,104.22619L138.769104,104.607142M138.054819,103.607142L138.054819,103.511904L138.102438,103.416666L138.150057,103.369047L138.245295,103.321428L138.435771,103.273809L138.673866,103.273809L138.864342,103.321428L138.95958,103.369047L139.0072,103.416666L139.054819,103.511904L139.054819,103.607142L139.0072,103.70238L138.95958,103.749999L138.864342,103.797618L138.673866,103.845237L138.435771,103.845237L138.245295,103.797618L138.150057,103.749999L138.102438,103.70238L138.054819,103.607142M138.150057,102.892856L138.102438,102.845237L138.054819,102.749999L138.054819,102.511904L138.102438,102.416666L138.150057,102.369047L138.245295,102.321428L138.340533,102.321428L138.48339,102.369047L139.054819,102.940475L139.054819,102.321428", "val": 1}, {"thickness": 0.15, "svgpath": "M142.654819,106.440476L142.178628,106.773809M142.654819,107.011904L141.654819,107.011904L141.654819,106.630952L141.702438,106.535714L141.750057,106.488095L141.845295,106.440476L141.988152,106.440476L142.08339,106.488095L142.131009,106.535714L142.178628,106.630952L142.178628,107.011904M142.654819,106.011904L141.654819,106.011904L142.654819,105.440476L141.654819,105.440476M142.654819,104.440476L142.654819,105.011904M142.654819,104.72619L141.654819,104.72619L141.797676,104.821428L141.892914,104.916666L141.940533,105.011904"}, {"type": "segment", "start": [141.25, 104.95], "end": [141.25, 106.55], "width": 0.1}, {"type": "segment", "start": [139.65, 104.95], "end": [141.25, 104.95], "width": 0.1}, {"type": "segment", "start": [141.25, 106.55], "end": [139.65, 106.55], "width": 0.1}, {"type": "segment", "start": [139.65, 106.55], "end": [139.65, 104.95], "width": 0.1}, {"thickness": 0.15, "svgpath": "M152.214285,91.454819L152.214285,90.454819L152.547618,91.169104L152.880951,90.454819L152.880951,91.454819M153.499999,91.454819L153.404761,91.4072L153.357142,91.35958L153.309523,91.264342L153.309523,90.978628L153.357142,90.88339L153.404761,90.835771L153.499999,90.788152L153.642856,90.788152L153.738094,90.835771L153.785713,90.88339L153.833332,90.978628L153.833332,91.264342L153.785713,91.35958L153.738094,91.4072L153.642856,91.454819L153.499999,91.454819M154.690475,90.788152L154.690475,91.454819M154.261904,90.788152L154.261904,91.311961L154.309523,91.4072L154.404761,91.454819L154.547618,91.454819L154.642856,91.4072L154.690475,91.35958M155.166666,90.788152L155.166666,91.454819M155.166666,90.88339L155.214285,90.835771L155.309523,90.788152L155.45238,90.788152L155.547618,90.835771L155.595237,90.931009L155.595237,91.454819M155.928571,90.788152L156.309523,90.788152M156.071428,90.454819L156.071428,91.311961L156.119047,91.4072L156.214285,91.454819L156.309523,91.454819M156.642857,91.454819L156.642857,90.788152M156.642857,90.454819L156.595238,90.502438L156.642857,90.550057L156.690476,90.502438L156.642857,90.454819L156.642857,90.550057M157.119047,90.788152L157.119047,91.454819M157.119047,90.88339L157.166666,90.835771L157.261904,90.788152L157.404761,90.788152L157.499999,90.835771L157.547618,90.931009L157.547618,91.454819M158.45238,90.788152L158.45238,91.597676L158.404761,91.692914L158.357142,91.740533L158.261904,91.788152L158.119047,91.788152L158.023809,91.740533M158.45238,91.4072L158.357142,91.454819L158.166666,91.454819L158.071428,91.4072L158.023809,91.35958L157.97619,91.264342L157.97619,90.978628L158.023809,90.88339L158.071428,90.835771L158.166666,90.788152L158.357142,90.788152L158.45238,90.835771M158.928571,91.454819L158.928571,90.454819M158.928571,90.931009L159.499999,90.931009M159.499999,91.454819L159.499999,90.454819M160.119047,91.454819L160.023809,91.4072L159.97619,91.35958L159.928571,91.264342L159.928571,90.978628L159.97619,90.88339L160.023809,90.835771L160.119047,90.788152L160.261904,90.788152L160.357142,90.835771L160.404761,90.88339L160.45238,90.978628L160.45238,91.264342L160.404761,91.35958L160.357142,91.4072L160.261904,91.454819L160.119047,91.454819M161.023809,91.454819L160.928571,91.4072L160.880952,91.311961L160.880952,90.454819M161.785714,91.4072L161.690476,91.454819L161.5,91.454819L161.404762,91.4072L161.357143,91.311961L161.357143,90.931009L161.404762,90.835771L161.5,90.788152L161.690476,90.788152L161.785714,90.835771L161.833333,90.931009L161.833333,91.026247L161.357143,91.121485", "val": 1}, {"thickness": 0.15, "svgpath": "M155.966667,87.954819L155.966667,86.954819L156.3,87.669104L156.633333,86.954819L156.633333,87.954819M157.109524,87.954819L157.109524,86.954819M157.109524,87.431009L157.680952,87.431009M157.680952,87.954819L157.680952,86.954819M158.109524,87.050057L158.157143,87.002438L158.252381,86.954819L158.490476,86.954819L158.585714,87.002438L158.633333,87.050057L158.680952,87.145295L158.680952,87.240533L158.633333,87.38339L158.061905,87.954819L158.680952,87.954819"}, {"thickness": 0.15, "svgpath": "M152.164285,114.954819L152.164285,113.954819L152.497618,114.669104L152.830951,113.954819L152.830951,114.954819M153.449999,114.954819L153.354761,114.9072L153.307142,114.85958L153.259523,114.764342L153.259523,114.478628L153.307142,114.38339L153.354761,114.335771L153.449999,114.288152L153.592856,114.288152L153.688094,114.335771L153.735713,114.38339L153.783332,114.478628L153.783332,114.764342L153.735713,114.85958L153.688094,114.9072L153.592856,114.954819L153.449999,114.954819M154.640475,114.288152L154.640475,114.954819M154.211904,114.288152L154.211904,114.811961L154.259523,114.9072L154.354761,114.954819L154.497618,114.954819L154.592856,114.9072L154.640475,114.85958M155.116666,114.288152L155.116666,114.954819M155.116666,114.38339L155.164285,114.335771L155.259523,114.288152L155.40238,114.288152L155.497618,114.335771L155.545237,114.431009L155.545237,114.954819M155.878571,114.288152L156.259523,114.288152M156.021428,113.954819L156.021428,114.811961L156.069047,114.9072L156.164285,114.954819L156.259523,114.954819M156.592857,114.954819L156.592857,114.288152M156.592857,113.954819L156.545238,114.002438L156.592857,114.050057L156.640476,114.002438L156.592857,113.954819L156.592857,114.050057M157.069047,114.288152L157.069047,114.954819M157.069047,114.38339L157.116666,114.335771L157.211904,114.288152L157.354761,114.288152L157.449999,114.335771L157.497618,114.431009L157.497618,114.954819M158.40238,114.288152L158.40238,115.097676L158.354761,115.192914L158.307142,115.240533L158.211904,115.288152L158.069047,115.288152L157.973809,115.240533M158.40238,114.9072L158.307142,114.954819L158.116666,114.954819L158.021428,114.9072L157.973809,114.85958L157.92619,114.764342L157.92619,114.478628L157.973809,114.38339L158.021428,114.335771L158.116666,114.288152L158.307142,114.288152L158.40238,114.335771M158.878571,114.954819L158.878571,113.954819M158.878571,114.431009L159.449999,114.431009M159.449999,114.954819L159.449999,113.954819M160.069047,114.954819L159.973809,114.9072L159.92619,114.85958L159.878571,114.764342L159.878571,114.478628L159.92619,114.38339L159.973809,114.335771L160.069047,114.288152L160.211904,114.288152L160.307142,114.335771L160.354761,114.38339L160.40238,114.478628L160.40238,114.764342L160.354761,114.85958L160.307142,114.9072L160.211904,114.954819L160.069047,114.954819M160.973809,114.954819L160.878571,114.9072L160.830952,114.811961L160.830952,113.954819M161.735714,114.9072L161.640476,114.954819L161.45,114.954819L161.354762,114.9072L161.307143,114.811961L161.307143,114.431009L161.354762,114.335771L161.45,114.288152L161.640476,114.288152L161.735714,114.335771L161.783333,114.431009L161.783333,114.526247L161.307143,114.621485", "val": 1}, {"thickness": 0.15, "svgpath": "M155.916667,111.454819L155.916667,110.454819L156.25,111.169104L156.583333,110.454819L156.583333,111.454819M157.059524,111.454819L157.059524,110.454819M157.059524,110.931009L157.630952,110.931009M157.630952,111.454819L157.630952,110.454819M158.630952,111.454819L158.059524,111.454819M158.345238,111.454819L158.345238,110.454819L158.25,110.597676L158.154762,110.692914L158.059524,110.740533"}, {"thickness": 0.15, "svgpath": "M131.759524,110.531009L131.426191,110.531009M131.426191,111.054819L131.426191,110.054819L131.902381,110.054819M132.283334,111.054819L132.283334,110.054819M132.759524,111.054819L132.759524,110.054819L132.997619,110.054819L133.140476,110.102438L133.235714,110.197676L133.283333,110.292914L133.330952,110.48339L133.330952,110.626247L133.283333,110.816723L133.235714,110.911961L133.140476,111.0072L132.997619,111.054819L132.759524,111.054819M133.759524,110.054819L133.759524,110.864342L133.807143,110.95958L133.854762,111.0072L133.95,111.054819L134.140476,111.054819L134.235714,111.0072L134.283333,110.95958L134.330952,110.864342L134.330952,110.054819M135.378571,110.95958L135.330952,111.0072L135.188095,111.054819L135.092857,111.054819L134.95,111.0072L134.854762,110.911961L134.807143,110.816723L134.759524,110.626247L134.759524,110.48339L134.807143,110.292914L134.854762,110.197676L134.95,110.102438L135.092857,110.054819L135.188095,110.054819L135.330952,110.102438L135.378571,110.150057M135.807143,111.054819L135.807143,110.054819M136.235714,110.769104L136.711904,110.769104M136.140476,111.054819L136.473809,110.054819L136.807142,111.054819M137.616666,111.054819L137.140476,111.054819L137.140476,110.054819M137.711905,111.150057L138.473809,111.150057M139.235714,111.054819L138.664286,111.054819M138.95,111.054819L138.95,110.054819L138.854762,110.197676L138.759524,110.292914L138.664286,110.340533M139.664286,111.054819L139.664286,110.054819L139.997619,110.769104L140.330952,110.054819L140.330952,111.054819M140.807143,111.054819L140.807143,110.054819L141.140476,110.769104L141.473809,110.054819L141.473809,111.054819", "val": 1}, {"thickness": 0.15, "svgpath": "M141.5,93.679819L142.071428,93.679819M141.785714,94.679819L141.785714,93.679819M142.97619,94.58458L142.928571,94.6322L142.785714,94.679819L142.690476,94.679819L142.547619,94.6322L142.452381,94.536961L142.404762,94.441723L142.357143,94.251247L142.357143,94.10839L142.404762,93.917914L142.452381,93.822676L142.547619,93.727438L142.690476,93.679819L142.785714,93.679819L142.928571,93.727438L142.97619,93.775057M143.357143,94.394104L143.833333,94.394104M143.261905,94.679819L143.595238,93.679819L143.928571,94.679819M144.309524,94.679819L144.5,94.679819L144.595238,94.6322L144.642857,94.58458L144.738095,94.441723L144.785714,94.251247L144.785714,93.870295L144.738095,93.775057L144.690476,93.727438L144.595238,93.679819L144.404762,93.679819L144.309524,93.727438L144.261905,93.775057L144.214286,93.870295L144.214286,94.10839L144.261905,94.203628L144.309524,94.251247L144.404762,94.298866L144.595238,94.298866L144.690476,94.251247L144.738095,94.203628L144.785714,94.10839M145.690476,93.679819L145.214286,93.679819L145.166667,94.156009L145.214286,94.10839L145.309524,94.060771L145.547619,94.060771L145.642857,94.10839L145.690476,94.156009L145.738095,94.251247L145.738095,94.489342L145.690476,94.58458L145.642857,94.6322L145.547619,94.679819L145.309524,94.679819L145.214286,94.6322L145.166667,94.58458M146.642857,93.679819L146.166667,93.679819L146.119048,94.156009L146.166667,94.10839L146.261905,94.060771L146.5,94.060771L146.595238,94.10839L146.642857,94.156009L146.690476,94.251247L146.690476,94.489342L146.642857,94.58458L146.595238,94.6322L146.5,94.679819L146.261905,94.679819L146.166667,94.6322L146.119048,94.58458M147.595238,93.679819L147.119048,93.679819L147.071429,94.156009L147.119048,94.10839L147.214286,94.060771L147.452381,94.060771L147.547619,94.10839L147.595238,94.156009L147.642857,94.251247L147.642857,94.489342L147.595238,94.58458L147.547619,94.6322L147.452381,94.679819L147.214286,94.679819L147.119048,94.6322L147.071429,94.58458M148.071429,94.679819L148.071429,93.679819L148.309524,93.679819L148.452381,93.727438L148.547619,93.822676L148.595238,93.917914L148.642857,94.10839L148.642857,94.251247L148.595238,94.441723L148.547619,94.536961L148.452381,94.6322L148.309524,94.679819L148.071429,94.679819M149.404762,94.156009L149.547619,94.203628L149.595238,94.251247L149.642857,94.346485L149.642857,94.489342L149.595238,94.58458L149.547619,94.6322L149.452381,94.679819L149.071429,94.679819L149.071429,93.679819L149.404762,93.679819L149.5,93.727438L149.547619,93.775057L149.595238,93.870295L149.595238,93.965533L149.547619,94.060771L149.5,94.10839L149.404762,94.156009L149.071429,94.156009M149.928572,93.679819L150.5,93.679819M150.214286,94.679819L150.214286,93.679819", "val": 1}, {"thickness": 0.15, "svgpath": "M145.390476,98.737295L145.390476,99.384914L145.428571,99.461104L145.466666,99.4992L145.542857,99.537295L145.695238,99.537295L145.771428,99.4992L145.809523,99.461104L145.847619,99.384914L145.847619,98.737295M146.647618,99.537295L146.190475,99.537295M146.419047,99.537295L146.419047,98.737295L146.342856,98.85158L146.266666,98.927771L146.190475,98.965866"}, {"type": "segment", "start": [148.2, 102.075], "end": [147.2, 103.075], "width": 0.15}, {"type": "segment", "start": [148.2, 95.275], "end": [148.2, 102.075], "width": 0.15}, {"type": "segment", "start": [147.2, 103.075], "end": [143.8, 103.075], "width": 0.15}, {"type": "segment", "start": [143.8, 103.075], "end": [143.8, 95.275], "width": 0.15}, {"type": "segment", "start": [143.8, 95.275], "end": [148.2, 95.275], "width": 0.15}], "B": [{"thickness": 0.15, "svgpath": "M166.497858,89.64958L166.545477,89.6972L166.688334,89.744819L166.783572,89.744819L166.926429,89.6972L167.021667,89.601961L167.069286,89.506723L167.116905,89.316247L167.116905,89.17339L167.069286,88.982914L167.021667,88.887676L166.926429,88.792438L166.783572,88.744819L166.688334,88.744819L166.545477,88.792438L166.497858,88.840057M165.926429,89.744819L166.021667,89.6972L166.069286,89.64958L166.116905,89.554342L166.116905,89.268628L166.069286,89.17339L166.021667,89.125771L165.926429,89.078152L165.783572,89.078152L165.688334,89.125771L165.640715,89.17339L165.593096,89.268628L165.593096,89.554342L165.640715,89.64958L165.688334,89.6972L165.783572,89.744819L165.926429,89.744819M165.164524,89.078152L165.164524,89.744819M165.164524,89.17339L165.116905,89.125771L165.021667,89.078152L164.87881,89.078152L164.783572,89.125771L164.735953,89.221009L164.735953,89.744819M164.259762,89.078152L164.259762,89.744819M164.259762,89.17339L164.212143,89.125771L164.116905,89.078152L163.974048,89.078152L163.87881,89.125771L163.831191,89.221009L163.831191,89.744819M163.593096,89.840057L162.831191,89.840057M162.402619,88.744819L162.307381,88.744819L162.212143,88.792438L162.164524,88.840057L162.116905,88.935295L162.069286,89.125771L162.069286,89.363866L162.116905,89.554342L162.164524,89.64958L162.212143,89.6972L162.307381,89.744819L162.402619,89.744819L162.497857,89.6972L162.545476,89.64958L162.593095,89.554342L162.640714,89.363866L162.640714,89.125771L162.593095,88.935295L162.545476,88.840057L162.497857,88.792438L162.402619,88.744819M161.688333,88.840057L161.640714,88.792438L161.545476,88.744819L161.307381,88.744819L161.212143,88.792438L161.164524,88.840057L161.116905,88.935295L161.116905,89.030533L161.164524,89.17339L161.735952,89.744819L161.116905,89.744819M160.783571,89.744819L160.259762,89.078152M160.783571,89.078152L160.259762,89.744819M159.688333,88.744819L159.593095,88.744819L159.497857,88.792438L159.450238,88.840057L159.402619,88.935295L159.355,89.125771L159.355,89.363866L159.402619,89.554342L159.450238,89.64958L159.497857,89.6972L159.593095,89.744819L159.688333,89.744819L159.783571,89.6972L159.83119,89.64958L159.878809,89.554342L159.926428,89.363866L159.926428,89.125771L159.878809,88.935295L159.83119,88.840057L159.783571,88.792438L159.688333,88.744819M159.021666,88.744819L158.355,88.744819L158.783571,89.744819M158.212143,89.840057L157.450238,89.840057M157.021666,88.744819L156.83119,88.744819L156.735952,88.792438L156.640714,88.887676L156.593095,89.078152L156.593095,89.411485L156.640714,89.601961L156.735952,89.6972L156.83119,89.744819L157.021666,89.744819L157.116904,89.6972L157.212142,89.601961L157.259761,89.411485L157.259761,89.078152L157.212142,88.887676L157.116904,88.792438L157.021666,88.744819M155.735952,89.744819L155.735952,88.744819M155.735952,89.6972L155.83119,89.744819L156.021666,89.744819L156.116904,89.6972L156.164523,89.64958L156.212142,89.554342L156.212142,89.268628L156.164523,89.17339L156.116904,89.125771L156.021666,89.078152L155.83119,89.078152L155.735952,89.125771M154.83119,89.744819L154.83119,88.744819M154.83119,89.6972L154.926428,89.744819L155.116904,89.744819L155.212142,89.6972L155.259761,89.64958L155.30738,89.554342L155.30738,89.268628L155.259761,89.17339L155.212142,89.125771L155.116904,89.078152L154.926428,89.078152L154.83119,89.125771M154.593095,89.840057L153.83119,89.840057M153.593094,89.221009L153.259761,89.221009M153.116904,89.744819L153.593094,89.744819L153.593094,88.744819L153.116904,88.744819M152.78357,89.078152L152.545475,89.744819L152.30738,89.078152M151.545475,89.6972L151.640713,89.744819L151.831189,89.744819L151.926427,89.6972L151.974046,89.601961L151.974046,89.221009L151.926427,89.125771L151.831189,89.078152L151.640713,89.078152L151.545475,89.125771L151.497856,89.221009L151.497856,89.316247L151.974046,89.411485M151.069284,89.078152L151.069284,89.744819M151.069284,89.17339L151.021665,89.125771L150.926427,89.078152L150.78357,89.078152L150.688332,89.125771L150.640713,89.221009L150.640713,89.744819", "val": 1}, {"thickness": 0.15, "svgpath": "M157.964819,98.846666L158.679104,98.846666L158.821961,98.799047L158.9172,98.703809L158.964819,98.560952L158.964819,98.465714M158.060057,99.275238L158.012438,99.322857L157.964819,99.418095L157.964819,99.65619L158.012438,99.751428L158.060057,99.799047L158.155295,99.846666L158.250533,99.846666L158.39339,99.799047L158.964819,99.227619L158.964819,99.846666"}, {"type": "segment", "start": [152.88, 91.24], "end": [157.24, 91.24], "width": 0.1}, {"type": "segment", "start": [152.88, 91.88], "end": [152.88, 91.24], "width": 0.1}, {"type": "segment", "start": [152.88, 91.88], "end": [157.24, 91.88], "width": 0.1}, {"type": "segment", "start": [152.88, 93.78], "end": [157.24, 93.78], "width": 0.1}, {"type": "segment", "start": [152.88, 94.42], "end": [152.88, 93.78], "width": 0.1}, {"type": "segment", "start": [152.88, 94.42], "end": [157.24, 94.42], "width": 0.1}, {"type": "segment", "start": [152.88, 96.32], "end": [157.24, 96.32], "width": 0.1}, {"type": "segment", "start": [152.88, 96.96], "end": [152.88, 96.32], "width": 0.1}, {"type": "segment", "start": [152.88, 96.96], "end": [157.24, 96.96], "width": 0.1}, {"type": "segment", "start": [152.88, 98.86], "end": [157.24, 98.86], "width": 0.1}, {"type": "segment", "start": [152.88, 99.5], "end": [152.88, 98.86], "width": 0.1}, {"type": "segment", "start": [152.88, 99.5], "end": [157.24, 99.5], "width": 0.1}, {"type": "segment", "start": [152.88, 101.4], "end": [157.24, 101.4], "width": 0.1}, {"type": "segment", "start": [152.88, 102.04], "end": [152.88, 101.4], "width": 0.1}, {"type": "segment", "start": [152.88, 102.04], "end": [157.24, 102.04], "width": 0.1}, {"type": "segment", "start": [152.88, 103.94], "end": [157.24, 103.94], "width": 0.1}, {"type": "segment", "start": [152.88, 104.58], "end": [152.88, 103.94], "width": 0.1}, {"type": "segment", "start": [152.88, 104.58], "end": [157.24, 104.58], "width": 0.1}, {"type": "segment", "start": [152.88, 106.48], "end": [157.24, 106.48], "width": 0.1}, {"type": "segment", "start": [152.88, 107.12], "end": [152.88, 106.48], "width": 0.1}, {"type": "segment", "start": [152.88, 107.12], "end": [157.24, 107.12], "width": 0.1}, {"type": "segment", "start": [157.24, 90.29], "end": [157.24, 107.435], "width": 0.1}, {"type": "segment", "start": [157.24, 107.435], "end": [157.875, 108.07], "width": 0.1}, {"type": "segment", "start": [157.875, 108.07], "end": [159.78, 108.07], "width": 0.1}, {"type": "segment", "start": [159.78, 90.29], "end": [157.24, 90.29], "width": 0.1}, {"type": "segment", "start": [159.78, 91.24], "end": [165.78, 91.24], "width": 0.1}, {"type": "segment", "start": [159.78, 91.88], "end": [165.78, 91.88], "width": 0.1}, {"type": "segment", "start": [159.78, 93.78], "end": [165.78, 93.78], "width": 0.1}, {"type": "segment", "start": [159.78, 94.42], "end": [165.78, 94.42], "width": 0.1}, {"type": "segment", "start": [159.78, 96.32], "end": [165.78, 96.32], "width": 0.1}, {"type": "segment", "start": [159.78, 96.96], "end": [165.78, 96.96], "width": 0.1}, {"type": "segment", "start": [159.78, 98.86], "end": [165.78, 98.86], "width": 0.1}, {"type": "segment", "start": [159.78, 99.5], "end": [165.78, 99.5], "width": 0.1}, {"type": "segment", "start": [159.78, 101.4], "end": [165.78, 101.4], "width": 0.1}, {"type": "segment", "start": [159.78, 102.04], "end": [165.78, 102.04], "width": 0.1}, {"type": "segment", "start": [159.78, 103.94], "end": [165.78, 103.94], "width": 0.1}, {"type": "segment", "start": [159.78, 104.58], "end": [165.78, 104.58], "width": 0.1}, {"type": "segment", "start": [159.78, 106.48], "end": [165.78, 106.48], "width": 0.1}, {"type": "segment", "start": [159.78, 107.12], "end": [165.78, 107.12], "width": 0.1}, {"type": "segment", "start": [159.78, 108.07], "end": [159.78, 90.29], "width": 0.1}, {"type": "segment", "start": [165.78, 91.88], "end": [165.78, 91.24], "width": 0.1}, {"type": "segment", "start": [165.78, 94.42], "end": [165.78, 93.78], "width": 0.1}, {"type": "segment", "start": [165.78, 96.96], "end": [165.78, 96.32], "width": 0.1}, {"type": "segment", "start": [165.78, 99.5], "end": [165.78, 98.86], "width": 0.1}, {"type": "segment", "start": [165.78, 102.04], "end": [165.78, 101.4], "width": 0.1}, {"type": "segment", "start": [165.78, 104.58], "end": [165.78, 103.94], "width": 0.1}, {"type": "segment", "start": [165.78, 107.12], "end": [165.78, 106.48], "width": 0.1}, {"thickness": 0.15, "svgpath": "M137.06958,78.102141L137.1172,78.054522L137.164819,77.911665L137.164819,77.816427L137.1172,77.67357L137.021961,77.578332L136.926723,77.530713L136.736247,77.483094L136.59339,77.483094L136.402914,77.530713L136.307676,77.578332L136.212438,77.67357L136.164819,77.816427L136.164819,77.911665L136.212438,78.054522L136.260057,78.102141M137.164819,78.67357L137.1172,78.578332L137.06958,78.530713L136.974342,78.483094L136.688628,78.483094L136.59339,78.530713L136.545771,78.578332L136.498152,78.67357L136.498152,78.816427L136.545771,78.911665L136.59339,78.959284L136.688628,79.006903L136.974342,79.006903L137.06958,78.959284L137.1172,78.911665L137.164819,78.816427L137.164819,78.67357M136.498152,79.435475L137.164819,79.435475M136.59339,79.435475L136.545771,79.483094L136.498152,79.578332L136.498152,79.721189L136.545771,79.816427L136.641009,79.864046L137.164819,79.864046M136.498152,80.340237L137.164819,80.340237M136.59339,80.340237L136.545771,80.387856L136.498152,80.483094L136.498152,80.625951L136.545771,80.721189L136.641009,80.768808L137.164819,80.768808M137.260057,81.006904L137.260057,81.768808M136.164819,82.19738L136.164819,82.292618L136.212438,82.387856L136.260057,82.435475L136.355295,82.483094L136.545771,82.530713L136.783866,82.530713L136.974342,82.483094L137.06958,82.435475L137.1172,82.387856L137.164819,82.292618L137.164819,82.19738L137.1172,82.102142L137.06958,82.054523L136.974342,82.006904L136.783866,81.959285L136.545771,81.959285L136.355295,82.006904L136.260057,82.054523L136.212438,82.102142L136.164819,82.19738M136.260057,82.911666L136.212438,82.959285L136.164819,83.054523L136.164819,83.292618L136.212438,83.387856L136.260057,83.435475L136.355295,83.483094L136.450533,83.483094L136.59339,83.435475L137.164819,82.864047L137.164819,83.483094M137.164819,83.816428L136.498152,84.340237M136.498152,83.816428L137.164819,84.340237M136.164819,84.911666L136.164819,85.006904L136.212438,85.102142L136.260057,85.149761L136.355295,85.19738L136.545771,85.244999L136.783866,85.244999L136.974342,85.19738L137.06958,85.149761L137.1172,85.102142L137.164819,85.006904L137.164819,84.911666L137.1172,84.816428L137.06958,84.768809L136.974342,84.72119L136.783866,84.673571L136.545771,84.673571L136.355295,84.72119L136.260057,84.768809L136.212438,84.816428L136.164819,84.911666M136.498152,86.102142L137.164819,86.102142M136.1172,85.864047L136.831485,85.625952L136.831485,86.244999M137.260057,86.387857L137.260057,87.149761M136.164819,87.578333L136.164819,87.768809L136.212438,87.864047L136.307676,87.959285L136.498152,88.006904L136.831485,88.006904L137.021961,87.959285L137.1172,87.864047L137.164819,87.768809L137.164819,87.578333L137.1172,87.483095L137.021961,87.387857L136.831485,87.340238L136.498152,87.340238L136.307676,87.387857L136.212438,87.483095L136.164819,87.578333M137.164819,88.864047L136.164819,88.864047M137.1172,88.864047L137.164819,88.768809L137.164819,88.578333L137.1172,88.483095L137.06958,88.435476L136.974342,88.387857L136.688628,88.387857L136.59339,88.435476L136.545771,88.483095L136.498152,88.578333L136.498152,88.768809L136.545771,88.864047M137.164819,89.768809L136.164819,89.768809M137.1172,89.768809L137.164819,89.673571L137.164819,89.483095L137.1172,89.387857L137.06958,89.340238L136.974342,89.292619L136.688628,89.292619L136.59339,89.340238L136.545771,89.387857L136.498152,89.483095L136.498152,89.673571L136.545771,89.768809M137.260057,90.006905L137.260057,90.768809M136.641009,91.006905L136.641009,91.340238M137.164819,91.483095L137.164819,91.006905L136.164819,91.006905L136.164819,91.483095M136.498152,91.816429L137.164819,92.054524L136.498152,92.292619M137.1172,93.054524L137.164819,92.959286L137.164819,92.76881L137.1172,92.673572L137.021961,92.625953L136.641009,92.625953L136.545771,92.673572L136.498152,92.76881L136.498152,92.959286L136.545771,93.054524L136.641009,93.102143L136.736247,93.102143L136.831485,92.625953M136.498152,93.530715L137.164819,93.530715M136.59339,93.530715L136.545771,93.578334L136.498152,93.673572L136.498152,93.816429L136.545771,93.911667L136.641009,93.959286L137.164819,93.959286", "val": 1}, {"thickness": 0.15, "svgpath": "M143.123333,85.544819L143.123333,86.259104L143.170952,86.401961L143.26619,86.4972L143.409047,86.544819L143.504285,86.544819M142.74238,85.544819L142.123333,85.544819L142.456666,85.925771L142.313809,85.925771L142.218571,85.97339L142.170952,86.021009L142.123333,86.116247L142.123333,86.354342L142.170952,86.44958L142.218571,86.4972L142.313809,86.544819L142.599523,86.544819L142.694761,86.4972L142.74238,86.44958"}, {"type": "segment", "start": [138.66, 91.72], "end": [138.66, 87.36], "width": 0.1}, {"type": "segment", "start": [139.3, 91.72], "end": [138.66, 91.72], "width": 0.1}, {"type": "segment", "start": [139.3, 91.72], "end": [139.3, 87.36], "width": 0.1}, {"type": "segment", "start": [141.2, 91.72], "end": [141.2, 87.36], "width": 0.1}, {"type": "segment", "start": [141.84, 91.72], "end": [141.2, 91.72], "width": 0.1}, {"type": "segment", "start": [141.84, 91.72], "end": [141.84, 87.36], "width": 0.1}, {"type": "segment", "start": [143.74, 91.72], "end": [143.74, 87.36], "width": 0.1}, {"type": "segment", "start": [144.38, 91.72], "end": [143.74, 91.72], "width": 0.1}, {"type": "segment", "start": [144.38, 91.72], "end": [144.38, 87.36], "width": 0.1}, {"type": "segment", "start": [146.28, 91.72], "end": [146.28, 87.36], "width": 0.1}, {"type": "segment", "start": [146.92, 91.72], "end": [146.28, 91.72], "width": 0.1}, {"type": "segment", "start": [146.92, 91.72], "end": [146.92, 87.36], "width": 0.1}, {"type": "segment", "start": [137.71, 87.36], "end": [147.235, 87.36], "width": 0.1}, {"type": "segment", "start": [147.235, 87.36], "end": [147.87, 86.725], "width": 0.1}, {"type": "segment", "start": [147.87, 86.725], "end": [147.87, 84.82], "width": 0.1}, {"type": "segment", "start": [137.71, 84.82], "end": [137.71, 87.36], "width": 0.1}, {"type": "segment", "start": [138.66, 84.82], "end": [138.66, 78.82], "width": 0.1}, {"type": "segment", "start": [139.3, 84.82], "end": [139.3, 78.82], "width": 0.1}, {"type": "segment", "start": [141.2, 84.82], "end": [141.2, 78.82], "width": 0.1}, {"type": "segment", "start": [141.84, 84.82], "end": [141.84, 78.82], "width": 0.1}, {"type": "segment", "start": [143.74, 84.82], "end": [143.74, 78.82], "width": 0.1}, {"type": "segment", "start": [144.38, 84.82], "end": [144.38, 78.82], "width": 0.1}, {"type": "segment", "start": [146.28, 84.82], "end": [146.28, 78.82], "width": 0.1}, {"type": "segment", "start": [146.92, 84.82], "end": [146.92, 78.82], "width": 0.1}, {"type": "segment", "start": [147.87, 84.82], "end": [137.71, 84.82], "width": 0.1}, {"type": "segment", "start": [139.3, 78.82], "end": [138.66, 78.82], "width": 0.1}, {"type": "segment", "start": [141.84, 78.82], "end": [141.2, 78.82], "width": 0.1}, {"type": "segment", "start": [144.38, 78.82], "end": [143.74, 78.82], "width": 0.1}, {"type": "segment", "start": [146.92, 78.82], "end": [146.28, 78.82], "width": 0.1}, {"thickness": 0.15, "svgpath": "M132.603095,113.33958L132.650714,113.3872L132.793571,113.434819L132.888809,113.434819L133.031666,113.3872L133.126904,113.291961L133.174523,113.196723L133.222142,113.006247L133.222142,112.86339L133.174523,112.672914L133.126904,112.577676L133.031666,112.482438L132.888809,112.434819L132.793571,112.434819L132.650714,112.482438L132.603095,112.530057M132.031666,113.434819L132.126904,113.3872L132.174523,113.33958L132.222142,113.244342L132.222142,112.958628L132.174523,112.86339L132.126904,112.815771L132.031666,112.768152L131.888809,112.768152L131.793571,112.815771L131.745952,112.86339L131.698333,112.958628L131.698333,113.244342L131.745952,113.33958L131.793571,113.3872L131.888809,113.434819L132.031666,113.434819M131.269761,112.768152L131.269761,113.434819M131.269761,112.86339L131.222142,112.815771L131.126904,112.768152L130.984047,112.768152L130.888809,112.815771L130.84119,112.911009L130.84119,113.434819M130.364999,112.768152L130.364999,113.434819M130.364999,112.86339L130.31738,112.815771L130.222142,112.768152L130.079285,112.768152L129.984047,112.815771L129.936428,112.911009L129.936428,113.434819M129.698333,113.530057L128.936428,113.530057M128.507856,112.434819L128.412618,112.434819L128.31738,112.482438L128.269761,112.530057L128.222142,112.625295L128.174523,112.815771L128.174523,113.053866L128.222142,113.244342L128.269761,113.33958L128.31738,113.3872L128.412618,113.434819L128.507856,113.434819L128.603094,113.3872L128.650713,113.33958L128.698332,113.244342L128.745951,113.053866L128.745951,112.815771L128.698332,112.625295L128.650713,112.530057L128.603094,112.482438L128.507856,112.434819M127.222142,113.434819L127.79357,113.434819M127.507856,113.434819L127.507856,112.434819L127.603094,112.577676L127.698332,112.672914L127.79357,112.720533M126.888808,113.434819L126.364999,112.768152M126.888808,112.768152L126.364999,113.434819M125.460237,113.434819L126.031665,113.434819M125.745951,113.434819L125.745951,112.434819L125.841189,112.577676L125.936427,112.672914L126.031665,112.720533M124.841189,112.434819L124.745951,112.434819L124.650713,112.482438L124.603094,112.530057L124.555475,112.625295L124.507856,112.815771L124.507856,113.053866L124.555475,113.244342L124.603094,113.33958L124.650713,113.3872L124.745951,113.434819L124.841189,113.434819L124.936427,113.3872L124.984046,113.33958L125.031665,113.244342L125.079284,113.053866L125.079284,112.815771L125.031665,112.625295L124.984046,112.530057L124.936427,112.482438L124.841189,112.434819", "val": 1}, {"thickness": 0.15, "svgpath": "M129.934819,98.946666L130.649104,98.946666L130.791961,98.899047L130.8872,98.803809L130.934819,98.660952L130.934819,98.565714M130.934819,99.946666L130.934819,99.375238M130.934819,99.660952L129.934819,99.660952L130.077676,99.565714L130.172914,99.470476L130.220533,99.375238"}, {"type": "segment", "start": [133.57, 111.03], "end": [131.75, 111.03], "width": 0.1}, {"type": "segment", "start": [133.57, 110.39], "end": [133.57, 111.03], "width": 0.1}, {"type": "segment", "start": [133.57, 110.39], "end": [131.75, 110.39], "width": 0.1}, {"type": "segment", "start": [133.57, 108.49], "end": [131.75, 108.49], "width": 0.1}, {"type": "segment", "start": [133.57, 107.85], "end": [133.57, 108.49], "width": 0.1}, {"type": "segment", "start": [133.57, 107.85], "end": [131.75, 107.85], "width": 0.1}, {"type": "segment", "start": [133.57, 105.95], "end": [131.75, 105.95], "width": 0.1}, {"type": "segment", "start": [133.57, 105.31], "end": [133.57, 105.95], "width": 0.1}, {"type": "segment", "start": [133.57, 105.31], "end": [131.75, 105.31], "width": 0.1}, {"type": "segment", "start": [133.57, 103.41], "end": [131.75, 103.41], "width": 0.1}, {"type": "segment", "start": [133.57, 102.77], "end": [133.57, 103.41], "width": 0.1}, {"type": "segment", "start": [133.57, 102.77], "end": [131.75, 102.77], "width": 0.1}, {"type": "segment", "start": [133.57, 100.87], "end": [131.75, 100.87], "width": 0.1}, {"type": "segment", "start": [133.57, 100.23], "end": [133.57, 100.87], "width": 0.1}, {"type": "segment", "start": [133.57, 100.23], "end": [131.75, 100.23], "width": 0.1}, {"type": "segment", "start": [133.57, 98.33], "end": [131.75, 98.33], "width": 0.1}, {"type": "segment", "start": [133.57, 97.69], "end": [133.57, 98.33], "width": 0.1}, {"type": "segment", "start": [133.57, 97.69], "end": [131.75, 97.69], "width": 0.1}, {"type": "segment", "start": [133.57, 95.79], "end": [131.75, 95.79], "width": 0.1}, {"type": "segment", "start": [133.57, 95.15], "end": [133.57, 95.79], "width": 0.1}, {"type": "segment", "start": [133.57, 95.15], "end": [131.75, 95.15], "width": 0.1}, {"type": "segment", "start": [133.57, 93.25], "end": [131.75, 93.25], "width": 0.1}, {"type": "segment", "start": [133.57, 92.61], "end": [133.57, 93.25], "width": 0.1}, {"type": "segment", "start": [133.57, 92.61], "end": [131.75, 92.61], "width": 0.1}, {"type": "segment", "start": [133.57, 90.71], "end": [131.75, 90.71], "width": 0.1}, {"type": "segment", "start": [133.57, 90.07], "end": [133.57, 90.71], "width": 0.1}, {"type": "segment", "start": [133.57, 90.07], "end": [131.75, 90.07], "width": 0.1}, {"type": "segment", "start": [133.57, 88.17], "end": [131.75, 88.17], "width": 0.1}, {"type": "segment", "start": [133.57, 87.53], "end": [133.57, 88.17], "width": 0.1}, {"type": "segment", "start": [133.57, 87.53], "end": [131.75, 87.53], "width": 0.1}, {"type": "segment", "start": [131.75, 111.98], "end": [131.75, 87.215], "width": 0.1}, {"type": "segment", "start": [131.75, 87.215], "end": [131.115, 86.58], "width": 0.1}, {"type": "segment", "start": [131.115, 86.58], "end": [129.21, 86.58], "width": 0.1}, {"type": "segment", "start": [129.21, 111.98], "end": [131.75, 111.98], "width": 0.1}, {"type": "segment", "start": [129.21, 111.03], "end": [123.21, 111.03], "width": 0.1}, {"type": "segment", "start": [129.21, 110.39], "end": [123.21, 110.39], "width": 0.1}, {"type": "segment", "start": [129.21, 108.49], "end": [123.21, 108.49], "width": 0.1}, {"type": "segment", "start": [129.21, 107.85], "end": [123.21, 107.85], "width": 0.1}, {"type": "segment", "start": [129.21, 105.95], "end": [123.21, 105.95], "width": 0.1}, {"type": "segment", "start": [129.21, 105.31], "end": [123.21, 105.31], "width": 0.1}, {"type": "segment", "start": [129.21, 103.41], "end": [123.21, 103.41], "width": 0.1}, {"type": "segment", "start": [129.21, 102.77], "end": [123.21, 102.77], "width": 0.1}, {"type": "segment", "start": [129.21, 100.87], "end": [123.21, 100.87], "width": 0.1}, {"type": "segment", "start": [129.21, 100.23], "end": [123.21, 100.23], "width": 0.1}, {"type": "segment", "start": [129.21, 98.33], "end": [123.21, 98.33], "width": 0.1}, {"type": "segment", "start": [129.21, 97.69], "end": [123.21, 97.69], "width": 0.1}, {"type": "segment", "start": [129.21, 95.79], "end": [123.21, 95.79], "width": 0.1}, {"type": "segment", "start": [129.21, 95.15], "end": [123.21, 95.15], "width": 0.1}, {"type": "segment", "start": [129.21, 93.25], "end": [123.21, 93.25], "width": 0.1}, {"type": "segment", "start": [129.21, 92.61], "end": [123.21, 92.61], "width": 0.1}, {"type": "segment", "start": [129.21, 90.71], "end": [123.21, 90.71], "width": 0.1}, {"type": "segment", "start": [129.21, 90.07], "end": [123.21, 90.07], "width": 0.1}, {"type": "segment", "start": [129.21, 88.17], "end": [123.21, 88.17], "width": 0.1}, {"type": "segment", "start": [129.21, 87.53], "end": [123.21, 87.53], "width": 0.1}, {"type": "segment", "start": [129.21, 86.58], "end": [129.21, 111.98], "width": 0.1}, {"type": "segment", "start": [123.21, 110.39], "end": [123.21, 111.03], "width": 0.1}, {"type": "segment", "start": [123.21, 107.85], "end": [123.21, 108.49], "width": 0.1}, {"type": "segment", "start": [123.21, 105.31], "end": [123.21, 105.95], "width": 0.1}, {"type": "segment", "start": [123.21, 102.77], "end": [123.21, 103.41], "width": 0.1}, {"type": "segment", "start": [123.21, 100.23], "end": [123.21, 100.87], "width": 0.1}, {"type": "segment", "start": [123.21, 97.69], "end": [123.21, 98.33], "width": 0.1}, {"type": "segment", "start": [123.21, 95.15], "end": [123.21, 95.79], "width": 0.1}, {"type": "segment", "start": [123.21, 92.61], "end": [123.21, 93.25], "width": 0.1}, {"type": "segment", "start": [123.21, 90.07], "end": [123.21, 90.71], "width": 0.1}, {"type": "segment", "start": [123.21, 87.53], "end": [123.21, 88.17], "width": 0.1}]}}, "footprints": [{"ref": "RN2", "bbox": {"pos": [139.6, 109.15], "relpos": [-1.575, -1.875], "size": [3.15, 3.75], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [140.5, 110.35], "size": [0.8, 0.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [140.5, 109.55], "size": [0.8, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [140.5, 108.75], "size": [0.8, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [140.5, 107.95], "size": [0.8, 0.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [138.7, 107.95], "size": [0.8, 0.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [138.7, 108.75], "size": [0.8, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [138.7, 109.55], "size": [0.8, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [138.7, 110.35], "size": [0.8, 0.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "SW1", "bbox": {"pos": [146.195, 109.24], "relpos": [-4.675, -4.375], "size": [9.35, 8.75], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [143.02, 112.315], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [145.56, 106.165], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [144.29, 106.165], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.02, 106.165], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [144.29, 112.315], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [145.56, 112.315], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [146.83, 112.315], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.1, 112.315], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [149.37, 112.315], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [149.37, 106.165], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.1, 106.165], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [146.83, 106.165], "size": [0.76, 1.25], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C2", "bbox": {"pos": [152.55, 109.55], "relpos": [-1.705, -0.975], "size": [3.41, 1.95], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [151.6125, 109.55], "size": [0.975, 1.4], "angle": 0.0, "shape": "roundrect", "radius": 0.24375, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [153.4875, 109.55], "size": [0.975, 1.4], "angle": 0.0, "shape": "roundrect", "radius": 0.24375, "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "FID1", "bbox": {"pos": [152.65, 88.15], "relpos": [-1.575, -1.575], "size": [3.15, 3.15], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [152.65, 88.15], "size": [1.0, 1.0], "angle": 0.0, "shape": "circle", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "FID2", "bbox": {"pos": [152.65, 88.15], "relpos": [-1.575, -1.575], "size": [3.15, 3.15], "angle": 0.0}, "pads": [{"layers": ["B"], "pos": [152.65, 88.15], "size": [1.0, 1.0], "angle": 0.0, "shape": "circle", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "FID3", "bbox": {"pos": [136.45, 112.4], "relpos": [-1.575, -1.575], "size": [3.15, 3.15], "angle": 0.0}, "pads": [{"layers": ["B"], "pos": [136.45, 112.4], "size": [1.0, 1.0], "angle": 0.0, "shape": "circle", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "C1", "bbox": {"pos": [137.2, 100.55], "relpos": [-1.505, -0.755], "size": [3.01, 1.51], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [137.9875, 100.55], "size": [0.875, 0.95], "angle": 180.0, "shape": "roundrect", "radius": 0.21875, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [136.4125, 100.55], "size": [0.875, 0.95], "angle": 180.0, "shape": "roundrect", "radius": 0.21875, "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C4", "bbox": {"pos": [149.6, 90.2], "relpos": [-1.705, -0.975], "size": [3.41, 1.95], "angle": 90.0}, "pads": [{"layers": ["F"], "pos": [149.6, 91.1375], "size": [0.975, 1.4], "angle": 90.0, "shape": "roundrect", "radius": 0.24375, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [149.6, 89.2625], "size": [0.975, 1.4], "angle": 90.0, "shape": "roundrect", "radius": 0.24375, "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C3", "bbox": {"pos": [137.45, 102.25], "relpos": [-1.705, -0.975], "size": [3.41, 1.95], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [138.3875, 102.25], "size": [0.975, 1.4], "angle": 180.0, "shape": "roundrect", "radius": 0.24375, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [136.5125, 102.25], "size": [0.975, 1.4], "angle": 180.0, "shape": "roundrect", "radius": 0.24375, "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "RN1", "bbox": {"pos": [140.45, 105.75], "relpos": [-1.575, -1.075], "size": [3.15, 2.15], "angle": -90.0}, "pads": [{"layers": ["F"], "pos": [140.85, 104.9], "size": [0.9, 0.4], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [140.05, 104.9], "size": [0.9, 0.4], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [140.05, 106.6], "size": [0.9, 0.4], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [140.85, 106.6], "size": [0.9, 0.4], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "MH2", "bbox": {"pos": [157.0, 87.5], "relpos": [-2.775, -2.775], "size": [5.55, 5.55], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [157.0, 87.5], "size": [2.5, 2.5], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [2.5, 2.5], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "MH1", "bbox": {"pos": [156.95, 111.0], "relpos": [-2.775, -2.775], "size": [5.55, 5.55], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [156.95, 111.0], "size": [2.5, 2.5], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [2.5, 2.5], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "FID4", "bbox": {"pos": [136.45, 112.4], "relpos": [-1.575, -1.575], "size": [3.15, 3.15], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [136.45, 112.4], "size": [1.0, 1.0], "angle": 0.0, "shape": "circle", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "U1", "bbox": {"pos": [146.0, 99.175], "relpos": [-3.675, -4.225], "size": [7.35, 8.45], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [148.85, 102.75], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [148.85, 96.9], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 96.25], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 95.6], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 95.6], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 96.25], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 96.9], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 97.55], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 98.2], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 98.85], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 99.5], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 102.1], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 100.15], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 100.8], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 101.45], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 102.1], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.15, 102.75], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 101.45], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 100.8], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 100.15], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 99.5], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 98.85], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 98.2], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.85, 97.55], "size": [1.1, 0.4], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "J2", "bbox": {"pos": [153.2, 106.8], "relpos": [-1.825, -17.075], "size": [14.95, 18.9], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [153.2, 106.8], "size": [1.7, 1.7], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [155.74, 96.64], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [153.2, 94.1], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [155.74, 94.1], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [153.2, 91.56], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [155.74, 91.56], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [155.74, 106.8], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [153.2, 104.26], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [155.74, 104.26], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [153.2, 101.72], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [155.74, 101.72], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [153.2, 99.18], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [155.74, 99.18], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [153.2, 96.64], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "J3", "bbox": {"pos": [146.6, 91.4], "relpos": [-1.825, -9.425], "size": [14.95, 11.25], "angle": 90.0}, "pads": [{"layers": ["F", "B"], "pos": [146.6, 91.4], "size": [1.7, 1.7], "angle": 90.0, "shape": "rect", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [146.6, 88.86], "size": [1.7, 1.7], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [144.06, 91.4], "size": [1.7, 1.7], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [144.06, 88.86], "size": [1.7, 1.7], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [141.52, 91.4], "size": [1.7, 1.7], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [141.52, 88.86], "size": [1.7, 1.7], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [138.98, 91.4], "size": [1.7, 1.7], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [138.98, 88.86], "size": [1.7, 1.7], "angle": 90.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "J1", "bbox": {"pos": [133.25, 87.85], "relpos": [-1.825, -24.675], "size": [12.4, 26.5], "angle": 180.0}, "pads": [{"layers": ["F", "B"], "pos": [133.25, 87.85], "size": [1.7, 1.7], "angle": 180.0, "shape": "rect", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [133.25, 110.71], "size": [1.7, 1.7], "angle": 180.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [133.25, 90.39], "size": [1.7, 1.7], "angle": 180.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [133.25, 92.93], "size": [1.7, 1.7], "angle": 180.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [133.25, 95.47], "size": [1.7, 1.7], "angle": 180.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [133.25, 98.01], "size": [1.7, 1.7], "angle": 180.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [133.25, 100.55], "size": [1.7, 1.7], "angle": 180.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [133.25, 103.09], "size": [1.7, 1.7], "angle": 180.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [133.25, 105.63], "size": [1.7, 1.7], "angle": 180.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [133.25, 108.17], "size": [1.7, 1.7], "angle": 180.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}], "metadata": {"title": "working", "revision": "", "company": "", "date": "2023-09-13 13:54:06"}, "bom": {"both": [[["C2", 2], ["C3", 8], ["C4", 7]], [["C1", 6]], [["U1", 13]], [["SW1", 1]], [["RN1", 9]], [["RN2", 0]], [["J1", 16]], [["J2", 14]], [["J3", 15]]], "skipped": [3, 4, 5, 10, 11, 12], "fields": {"0": ["10k", "R_Array_Convex_4x0603"], "1": ["SW_DIP_x06", "SW_DIP_SPSTx06_Slide_GrayHill_97C06_W4.5mm_P1.27mm"], "2": ["10uF", "C_0805_2012Metric"], "6": ["1uF", "C_0603_1608Metric"], "7": ["10uF", "C_0805_2012Metric"], "8": ["10uF", "C_0805_2012Metric"], "9": ["R_Pack02", "R_Array_Concave_2x0603"], "13": ["TCA9555DBT", "TSSOP-24_4.4x7.8mm_P0.65mm"], "14": ["Conn_02x07_Odd_Even", "Pin_Header_Angled_2x07_Pitch2.54mm"], "15": ["Conn_02x04_Odd_Even", "Pin_Header_Angled_2x04_Pitch2.54mm"], "16": ["Conn_01x10", "Pin_Header_Angled_1x10_Pitch2.54mm"]}, "F": [[["C2", 2], ["C3", 8], ["C4", 7]], [["C1", 6]], [["U1", 13]], [["SW1", 1]], [["RN1", 9]], [["RN2", 0]]], "B": [[["J1", 16]], [["J2", 14]], [["J3", 15]]]}, "font_data": {}, "ibom_version": "v2.6.0"}
///////////////////////////////////////////////

///////////////////////////////////////////////
/* Utility functions */

var storagePrefix = 'KiCad_HTML_BOM__' + pcbdata.metadata.title + '__' +
  pcbdata.metadata.revision + '__#';
var storage;

function initStorage(key) {
  try {
    window.localStorage.getItem("blank");
    storage = window.localStorage;
  } catch (e) {
    // localStorage not available
  }
  if (!storage) {
    try {
      window.sessionStorage.getItem("blank");
      storage = window.sessionStorage;
    } catch (e) {
      // sessionStorage also not available
    }
  }
}

function readStorage(key) {
  if (storage) {
    return storage.getItem(storagePrefix + key);
  } else {
    return null;
  }
}

function writeStorage(key, value) {
  if (storage) {
    storage.setItem(storagePrefix + key, value);
  }
}

function fancyDblClickHandler(el, onsingle, ondouble) {
  return function () {
    if (el.getAttribute("data-dblclick") == null) {
      el.setAttribute("data-dblclick", 1);
      setTimeout(function () {
        if (el.getAttribute("data-dblclick") == 1) {
          onsingle();
        }
        el.removeAttribute("data-dblclick");
      }, 200);
    } else {
      el.removeAttribute("data-dblclick");
      ondouble();
    }
  }
}

function smoothScrollToRow(rowid) {
  document.getElementById(rowid).scrollIntoView({
    behavior: "smooth",
    block: "center",
    inline: "nearest"
  });
}

function focusInputField(input) {
  input.scrollIntoView(false);
  input.focus();
  input.select();
}

function saveBomTable(output) {
  var text = '';
  for (var node of bomhead.childNodes[0].childNodes) {
    if (node.firstChild) {
      text += (output == 'csv' ? `"${node.firstChild.nodeValue}"` : node.firstChild.nodeValue);
    }
    if (node != bomhead.childNodes[0].lastChild) {
      text += (output == 'csv' ? ',' : '\t');
    }
  }
  text += '\n';
  for (var row of bombody.childNodes) {
    for (var cell of row.childNodes) {
      let val = '';
      for (var node of cell.childNodes) {
        if (node.nodeName == "INPUT") {
          if (node.checked) {
            val += '';
          }
        } else if ((node.nodeName == "MARK") || (node.nodeName == "A")) {
          val += node.firstChild.nodeValue;
        } else {
          val += node.nodeValue;
        }
      }
      if (output == 'csv') {
        val = val.replace(/\"/g, '\"\"'); // pair of double-quote characters
        if (isNumeric(val)) {
          val = +val;                     // use number
        } else {
          val = `"${val}"`;               // enclosed within double-quote
        }
      }
      text += val;
      if (cell != row.lastChild) {
        text += (output == 'csv' ? ',' : '\t');
      }
    }
    text += '\n';
  }

  if (output != 'clipboard') {
    // To file: csv or txt
    var blob = new Blob([text], {
      type: `text/${output}`
    });
    saveFile(`${pcbdata.metadata.title}.${output}`, blob);
  } else {
    // To clipboard
    var textArea = document.createElement("textarea");
    textArea.classList.add('clipboard-temp');
    textArea.value = text;

    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();

    try {
      if (document.execCommand('copy')) {
        console.log('Bom copied to clipboard.');
      }
    } catch (err) {
      console.log('Can not copy to clipboard.');
    }

    document.body.removeChild(textArea);
  }
}

function isNumeric(str) {
  /* https://stackoverflow.com/a/175787 */
  return (typeof str != "string" ? false : !isNaN(str) && !isNaN(parseFloat(str)));
}

function removeGutterNode(node) {
  for (var i = 0; i < node.childNodes.length; i++) {
    if (node.childNodes[i].classList &&
      node.childNodes[i].classList.contains("gutter")) {
      node.removeChild(node.childNodes[i]);
      break;
    }
  }
}

function cleanGutters() {
  removeGutterNode(document.getElementById("bot"));
  removeGutterNode(document.getElementById("canvasdiv"));
}

var units = {
  prefixes: {
    giga: ["G", "g", "giga", "Giga", "GIGA"],
    mega: ["M", "mega", "Mega", "MEGA"],
    kilo: ["K", "k", "kilo", "Kilo", "KILO"],
    milli: ["m", "milli", "Milli", "MILLI"],
    micro: ["U", "u", "micro", "Micro", "MICRO", "", ""], // different utf8 
    nano: ["N", "n", "nano", "Nano", "NANO"],
    pico: ["P", "p", "pico", "Pico", "PICO"],
  },
  unitsShort: ["R", "r", "", "F", "f", "H", "h"],
  unitsLong: [
    "OHM", "Ohm", "ohm", "ohms",
    "FARAD", "Farad", "farad",
    "HENRY", "Henry", "henry"
  ],
  getMultiplier: function (s) {
    if (this.prefixes.giga.includes(s)) return 1e9;
    if (this.prefixes.mega.includes(s)) return 1e6;
    if (this.prefixes.kilo.includes(s)) return 1e3;
    if (this.prefixes.milli.includes(s)) return 1e-3;
    if (this.prefixes.micro.includes(s)) return 1e-6;
    if (this.prefixes.nano.includes(s)) return 1e-9;
    if (this.prefixes.pico.includes(s)) return 1e-12;
    return 1;
  },
  valueRegex: null,
}

function initUtils() {
  var allPrefixes = units.prefixes.giga
    .concat(units.prefixes.mega)
    .concat(units.prefixes.kilo)
    .concat(units.prefixes.milli)
    .concat(units.prefixes.micro)
    .concat(units.prefixes.nano)
    .concat(units.prefixes.pico);
  var allUnits = units.unitsShort.concat(units.unitsLong);
  units.valueRegex = new RegExp("^([0-9\.]+)" +
    "\\s*(" + allPrefixes.join("|") + ")?" +
    "(" + allUnits.join("|") + ")?" +
    "(\\b.*)?$", "");
  units.valueAltRegex = new RegExp("^([0-9]*)" +
    "(" + units.unitsShort.join("|") + ")?" +
    "([GgMmKkUuNnPp])?" +
    "([0-9]*)" +
    "(\\b.*)?$", "");
  if (config.fields.includes("Value")) {
    var index = config.fields.indexOf("Value");
    pcbdata.bom["parsedValues"] = {};
    for (var id in pcbdata.bom.fields) {
      pcbdata.bom.parsedValues[id] = parseValue(pcbdata.bom.fields[id][index])
    }
  }
}

function parseValue(val, ref) {
  var inferUnit = (unit, ref) => {
    if (unit) {
      unit = unit.toLowerCase();
      if (unit == '' || unit == "ohm" || unit == "ohms") {
        unit = 'r';
      }
      unit = unit[0];
    } else {
      ref = /^([a-z]+)\d+$/i.exec(ref);
      if (ref) {
        ref = ref[1].toLowerCase();
        if (ref == "c") unit = 'f';
        else if (ref == "l") unit = 'h';
        else if (ref == "r" || ref == "rv") unit = 'r';
        else unit = null;
      }
    }
    return unit;
  };
  val = val.replace(/,/g, "");
  var match = units.valueRegex.exec(val);
  var unit;
  if (match) {
    val = parseFloat(match[1]);
    if (match[2]) {
      val = val * units.getMultiplier(match[2]);
    }
    unit = inferUnit(match[3], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[4],
    }
  }
  match = units.valueAltRegex.exec(val);
  if (match && (match[1] || match[4])) {
    val = parseFloat(match[1] + "." + match[4]);
    if (match[3]) {
      val = val * units.getMultiplier(match[3]);
    }
    unit = inferUnit(match[2], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[5],
    }
  }
  return null;
}

function valueCompare(a, b, stra, strb) {
  if (a === null && b === null) {
    // Failed to parse both values, compare them as strings.
    if (stra != strb) return stra > strb ? 1 : -1;
    else return 0;
  } else if (a === null) {
    return 1;
  } else if (b === null) {
    return -1;
  } else {
    if (a.unit != b.unit) return a.unit > b.unit ? 1 : -1;
    else if (a.val != b.val) return a.val > b.val ? 1 : -1;
    else if (a.extra != b.extra) return a.extra > b.extra ? 1 : -1;
    else return 0;
  }
}

function validateSaveImgDimension(element) {
  var valid = false;
  var intValue = 0;
  if (/^[1-9]\d*$/.test(element.value)) {
    intValue = parseInt(element.value);
    if (intValue <= 16000) {
      valid = true;
    }
  }
  if (valid) {
    element.classList.remove("invalid");
  } else {
    element.classList.add("invalid");
  }
  return intValue;
}

function saveImage(layer) {
  var width = validateSaveImgDimension(document.getElementById("render-save-width"));
  var height = validateSaveImgDimension(document.getElementById("render-save-height"));
  var bgcolor = null;
  if (!document.getElementById("render-save-transparent").checked) {
    var style = getComputedStyle(topmostdiv);
    bgcolor = style.getPropertyValue("background-color");
  }
  if (!width || !height) return;

  // Prepare image
  var canvas = document.createElement("canvas");
  var layerdict = {
    transform: {
      x: 0,
      y: 0,
      s: 1,
      panx: 0,
      pany: 0,
      zoom: 1,
    },
    bg: canvas,
    fab: canvas,
    silk: canvas,
    highlight: canvas,
    layer: layer,
  }
  // Do the rendering
  recalcLayerScale(layerdict, width, height);
  prepareLayer(layerdict);
  clearCanvas(canvas, bgcolor);
  drawBackground(layerdict, false);
  drawHighlightsOnLayer(layerdict, false);

  // Save image
  var imgdata = canvas.toDataURL("image/png");

  var filename = pcbdata.metadata.title;
  if (pcbdata.metadata.revision) {
    filename += `.${pcbdata.metadata.revision}`;
  }
  filename += `.${layer}.png`;
  saveFile(filename, dataURLtoBlob(imgdata));
}

function saveSettings() {
  var data = {
    type: "InteractiveHtmlBom settings",
    version: 1,
    pcbmetadata: pcbdata.metadata,
    settings: settings,
  }
  var blob = new Blob([JSON.stringify(data, null, 4)], {
    type: "application/json"
  });
  saveFile(`${pcbdata.metadata.title}.settings.json`, blob);
}

function loadSettings() {
  var input = document.createElement("input");
  input.type = "file";
  input.accept = ".settings.json";
  input.onchange = function (e) {
    var file = e.target.files[0];
    var reader = new FileReader();
    reader.onload = readerEvent => {
      var content = readerEvent.target.result;
      var newSettings;
      try {
        newSettings = JSON.parse(content);
      } catch (e) {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      if (newSettings.type != "InteractiveHtmlBom settings") {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      var metadataMatches = newSettings.hasOwnProperty("pcbmetadata");
      if (metadataMatches) {
        for (var k in pcbdata.metadata) {
          if (!newSettings.pcbmetadata.hasOwnProperty(k) || newSettings.pcbmetadata[k] != pcbdata.metadata[k]) {
            metadataMatches = false;
          }
        }
      }
      if (!metadataMatches) {
        var currentMetadata = JSON.stringify(pcbdata.metadata, null, 4);
        var fileMetadata = JSON.stringify(newSettings.pcbmetadata, null, 4);
        if (!confirm(
          `Settins file metadata does not match current metadata.\n\n` +
          `Page metadata:\n${currentMetadata}\n\n` +
          `Settings file metadata:\n${fileMetadata}\n\n` +
          `Press OK if you would like to import settings anyway.`)) {
          return;
        }
      }
      overwriteSettings(newSettings.settings);
    }
    reader.readAsText(file, 'UTF-8');
  }
  input.click();
}

function resetSettings() {
  if (!confirm(
    `This will reset all checkbox states and other settings.\n\n` +
    `Press OK if you want to continue.`)) {
    return;
  }
  if (storage) {
    var keys = [];
    for (var i = 0; i < storage.length; i++) {
      var key = storage.key(i);
      if (key.startsWith(storagePrefix)) keys.push(key);
    }
    for (var key of keys) storage.removeItem(key);
  }
  location.reload();
}

function overwriteSettings(newSettings) {
  initDone = false;
  Object.assign(settings, newSettings);
  writeStorage("bomlayout", settings.bomlayout);
  writeStorage("bommode", settings.bommode);
  writeStorage("canvaslayout", settings.canvaslayout);
  writeStorage("bomCheckboxes", settings.checkboxes.join(","));
  document.getElementById("bomCheckboxes").value = settings.checkboxes.join(",");
  for (var checkbox of settings.checkboxes) {
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
  }
  writeStorage("markWhenChecked", settings.markWhenChecked);
  padsVisible(settings.renderPads);
  document.getElementById("padsCheckbox").checked = settings.renderPads;
  fabricationVisible(settings.renderFabrication);
  document.getElementById("fabricationCheckbox").checked = settings.renderFabrication;
  silkscreenVisible(settings.renderSilkscreen);
  document.getElementById("silkscreenCheckbox").checked = settings.renderSilkscreen;
  referencesVisible(settings.renderReferences);
  document.getElementById("referencesCheckbox").checked = settings.renderReferences;
  valuesVisible(settings.renderValues);
  document.getElementById("valuesCheckbox").checked = settings.renderValues;
  tracksVisible(settings.renderTracks);
  document.getElementById("tracksCheckbox").checked = settings.renderTracks;
  zonesVisible(settings.renderZones);
  document.getElementById("zonesCheckbox").checked = settings.renderZones;
  dnpOutline(settings.renderDnpOutline);
  document.getElementById("dnpOutlineCheckbox").checked = settings.renderDnpOutline;
  setRedrawOnDrag(settings.redrawOnDrag);
  document.getElementById("dragCheckbox").checked = settings.redrawOnDrag;
  setDarkMode(settings.darkMode);
  document.getElementById("darkmodeCheckbox").checked = settings.darkMode;
  setHighlightPin1(settings.highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = settings.highlightpin1;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  setOffsetBackRotation(settings.offsetBackRotation);
  document.getElementById("offsetBackRotationCheckbox").checked = settings.offsetBackRotation;
  initDone = true;
  prepCheckboxes();
  changeBomLayout(settings.bomlayout);
}

function saveFile(filename, blob) {
  var link = document.createElement("a");
  var objurl = URL.createObjectURL(blob);
  link.download = filename;
  link.href = objurl;
  link.click();
}

function dataURLtoBlob(dataurl) {
  var arr = dataurl.split(','),
    mime = arr[0].match(/:(.*?);/)[1],
    bstr = atob(arr[1]),
    n = bstr.length,
    u8arr = new Uint8Array(n);
  while (n--) {
    u8arr[n] = bstr.charCodeAt(n);
  }
  return new Blob([u8arr], {
    type: mime
  });
}

var settings = {
  canvaslayout: "FB",
  bomlayout: "left-right",
  bommode: "grouped",
  checkboxes: [],
  checkboxStoredRefs: {},
  darkMode: false,
  highlightpin1: "none",
  redrawOnDrag: true,
  boardRotation: 0,
  offsetBackRotation: false,
  renderPads: true,
  renderReferences: true,
  renderValues: true,
  renderSilkscreen: true,
  renderFabrication: true,
  renderDnpOutline: false,
  renderTracks: true,
  renderZones: true,
  columnOrder: [],
  hiddenColumns: [],
  netColors: {},
}

function initDefaults() {
  settings.bomlayout = readStorage("bomlayout");
  if (settings.bomlayout === null) {
    settings.bomlayout = config.bom_view;
  }
  if (!['bom-only', 'left-right', 'top-bottom'].includes(settings.bomlayout)) {
    settings.bomlayout = config.bom_view;
  }
  settings.bommode = readStorage("bommode");
  if (settings.bommode === null) {
    settings.bommode = "grouped";
  }
  if (settings.bommode == "netlist" && !pcbdata.nets) {
    settings.bommode = "grouped";
  }
  if (!["grouped", "ungrouped", "netlist"].includes(settings.bommode)) {
    settings.bommode = "grouped";
  }
  settings.canvaslayout = readStorage("canvaslayout");
  if (settings.canvaslayout === null) {
    settings.canvaslayout = config.layer_view;
  }
  var bomCheckboxes = readStorage("bomCheckboxes");
  if (bomCheckboxes === null) {
    bomCheckboxes = config.checkboxes;
  }
  settings.checkboxes = bomCheckboxes.split(",").filter((e) => e);
  document.getElementById("bomCheckboxes").value = bomCheckboxes;

  var highlightpin1 = readStorage("highlightpin1") || config.highlight_pin1;
  if (highlightpin1 === "false") highlightpin1 = "none";
  if (highlightpin1 === "true") highlightpin1 = "all";
  setHighlightPin1(highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = highlightpin1;

  settings.markWhenChecked = readStorage("markWhenChecked") || "";
  populateMarkWhenCheckedOptions();

  function initBooleanSetting(storageString, def, elementId, func) {
    var b = readStorage(storageString);
    if (b === null) {
      b = def;
    } else {
      b = (b == "true");
    }
    document.getElementById(elementId).checked = b;
    func(b);
  }

  initBooleanSetting("padsVisible", config.show_pads, "padsCheckbox", padsVisible);
  initBooleanSetting("fabricationVisible", config.show_fabrication, "fabricationCheckbox", fabricationVisible);
  initBooleanSetting("silkscreenVisible", config.show_silkscreen, "silkscreenCheckbox", silkscreenVisible);
  initBooleanSetting("referencesVisible", true, "referencesCheckbox", referencesVisible);
  initBooleanSetting("valuesVisible", true, "valuesCheckbox", valuesVisible);
  if ("tracks" in pcbdata) {
    initBooleanSetting("tracksVisible", true, "tracksCheckbox", tracksVisible);
    initBooleanSetting("zonesVisible", true, "zonesCheckbox", zonesVisible);
  } else {
    document.getElementById("tracksAndZonesCheckboxes").style.display = "none";
    tracksVisible(false);
    zonesVisible(false);
  }
  initBooleanSetting("dnpOutline", false, "dnpOutlineCheckbox", dnpOutline);
  initBooleanSetting("redrawOnDrag", config.redraw_on_drag, "dragCheckbox", setRedrawOnDrag);
  initBooleanSetting("darkmode", config.dark_mode, "darkmodeCheckbox", setDarkMode);

  var fields = ["checkboxes", "References"].concat(config.fields).concat(["Quantity"]);
  var hcols = JSON.parse(readStorage("hiddenColumns"));
  if (hcols === null) {
    hcols = [];
  }
  settings.hiddenColumns = hcols.filter(e => fields.includes(e));

  var cord = JSON.parse(readStorage("columnOrder"));
  if (cord === null) {
    cord = fields;
  } else {
    cord = cord.filter(e => fields.includes(e));
    if (cord.length != fields.length)
      cord = fields;
  }
  settings.columnOrder = cord;

  settings.boardRotation = readStorage("boardRotation");
  if (settings.boardRotation === null) {
    settings.boardRotation = config.board_rotation * 5;
  } else {
    settings.boardRotation = parseInt(settings.boardRotation);
  }
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  initBooleanSetting("offsetBackRotation", config.offset_back_rotation, "offsetBackRotationCheckbox", setOffsetBackRotation);

  settings.netColors = JSON.parse(readStorage("netColors")) || {};
}

// Helper classes for user js callbacks.

const IBOM_EVENT_TYPES = {
  ALL: "all",
  HIGHLIGHT_EVENT: "highlightEvent",
  CHECKBOX_CHANGE_EVENT: "checkboxChangeEvent",
  BOM_BODY_CHANGE_EVENT: "bomBodyChangeEvent",
}

const EventHandler = {
  callbacks: {},
  init: function () {
    for (eventType of Object.values(IBOM_EVENT_TYPES))
      this.callbacks[eventType] = [];
  },
  registerCallback: function (eventType, callback) {
    this.callbacks[eventType].push(callback);
  },
  emitEvent: function (eventType, eventArgs) {
    event = {
      eventType: eventType,
      args: eventArgs,
    }
    var callback;
    for (callback of this.callbacks[eventType])
      callback(event);
    for (callback of this.callbacks[IBOM_EVENT_TYPES.ALL])
      callback(event);
  }
}
EventHandler.init();

///////////////////////////////////////////////

///////////////////////////////////////////////
/* PCB rendering code */

var emptyContext2d = document.createElement("canvas").getContext("2d");

function deg2rad(deg) {
  return deg * Math.PI / 180;
}

function calcFontPoint(linepoint, text, offsetx, offsety, tilt) {
  var point = [
    linepoint[0] * text.width + offsetx,
    linepoint[1] * text.height + offsety
  ];
  // This approximates pcbnew behavior with how text tilts depending on horizontal justification
  point[0] -= (linepoint[1] + 0.5 * (1 + text.justify[0])) * text.height * tilt;
  return point;
}

function drawText(ctx, text, color) {
  if ("ref" in text && !settings.renderReferences) return;
  if ("val" in text && !settings.renderValues) return;
  ctx.save();
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  ctx.lineWidth = text.thickness;
  if ("svgpath" in text) {
    ctx.stroke(new Path2D(text.svgpath));
    ctx.restore();
    return;
  }
  if ("polygons" in text) {
    ctx.fill(getPolygonsPath(text));
    ctx.restore();
    return;
  }
  ctx.translate(...text.pos);
  ctx.translate(text.thickness * 0.5, 0);
  var angle = -text.angle;
  if (text.attr.includes("mirrored")) {
    ctx.scale(-1, 1);
    angle = -angle;
  }
  var tilt = 0;
  if (text.attr.includes("italic")) {
    tilt = 0.125;
  }
  var interline = text.height * 1.5 + text.thickness;
  var txt = text.text.split("\n");
  // KiCad ignores last empty line.
  if (txt[txt.length - 1] == '') txt.pop();
  ctx.rotate(deg2rad(angle));
  var offsety = (1 - text.justify[1]) / 2 * text.height; // One line offset
  offsety -= (txt.length - 1) * (text.justify[1] + 1) / 2 * interline; // Multiline offset
  for (var i in txt) {
    var lineWidth = text.thickness + interline / 2 * tilt;
    for (var j = 0; j < txt[i].length; j++) {
      if (txt[i][j] == '\t') {
        var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
        lineWidth += fourSpaces - lineWidth % fourSpaces;
      } else {
        if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
        }
        lineWidth += pcbdata.font_data[txt[i][j]].w * text.width;
      }
    }
    var offsetx = -lineWidth * (text.justify[0] + 1) / 2;
    var inOverbar = false;
    for (var j = 0; j < txt[i].length; j++) {
      if (config.kicad_text_formatting) {
        if (txt[i][j] == '\t') {
          var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
          offsetx += fourSpaces - offsetx % fourSpaces;
          continue;
        } else if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
          if (txt[i][j] != '~') {
            inOverbar = !inOverbar;
          }
        }
      }
      var glyph = pcbdata.font_data[txt[i][j]];
      if (inOverbar) {
        var overbarStart = [offsetx, -text.height * 1.4 + offsety];
        var overbarEnd = [offsetx + text.width * glyph.w, overbarStart[1]];

        if (!lastHadOverbar) {
          overbarStart[0] += text.height * 1.4 * tilt;
          lastHadOverbar = true;
        }
        ctx.beginPath();
        ctx.moveTo(...overbarStart);
        ctx.lineTo(...overbarEnd);
        ctx.stroke();
      } else {
        lastHadOverbar = false;
      }
      for (var line of glyph.l) {
        ctx.beginPath();
        ctx.moveTo(...calcFontPoint(line[0], text, offsetx, offsety, tilt));
        for (var k = 1; k < line.length; k++) {
          ctx.lineTo(...calcFontPoint(line[k], text, offsetx, offsety, tilt));
        }
        ctx.stroke();
      }
      offsetx += glyph.w * text.width;
    }
    offsety += interline;
  }
  ctx.restore();
}

function drawedge(ctx, scalefactor, edge, color) {
  ctx.strokeStyle = color;
  ctx.fillStyle = color;
  ctx.lineWidth = Math.max(1 / scalefactor, edge.width);
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  if ("svgpath" in edge) {
    ctx.stroke(new Path2D(edge.svgpath));
  } else {
    ctx.beginPath();
    if (edge.type == "segment") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(...edge.end);
    }
    if (edge.type == "rect") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(edge.start[0], edge.end[1]);
      ctx.lineTo(...edge.end);
      ctx.lineTo(edge.end[0], edge.start[1]);
      ctx.lineTo(...edge.start);
    }
    if (edge.type == "arc") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        deg2rad(edge.startangle),
        deg2rad(edge.endangle));
    }
    if (edge.type == "circle") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        0, 2 * Math.PI);
      ctx.closePath();
    }
    if (edge.type == "curve") {
      ctx.moveTo(...edge.start);
      ctx.bezierCurveTo(...edge.cpa, ...edge.cpb, ...edge.end);
    }
    if("filled" in edge && edge.filled)
      ctx.fill();
    else
      ctx.stroke();
  }
}

function getChamferedRectPath(size, radius, chamfpos, chamfratio) {
  // chamfpos is a bitmask, left = 1, right = 2, bottom left = 4, bottom right = 8
  var path = new Path2D();
  var width = size[0];
  var height = size[1];
  var x = width * -0.5;
  var y = height * -0.5;
  var chamfOffset = Math.min(width, height) * chamfratio;
  path.moveTo(x, 0);
  if (chamfpos & 4) {
    path.lineTo(x, y + height - chamfOffset);
    path.lineTo(x + chamfOffset, y + height);
    path.lineTo(0, y + height);
  } else {
    path.arcTo(x, y + height, x + width, y + height, radius);
  }
  if (chamfpos & 8) {
    path.lineTo(x + width - chamfOffset, y + height);
    path.lineTo(x + width, y + height - chamfOffset);
    path.lineTo(x + width, 0);
  } else {
    path.arcTo(x + width, y + height, x + width, y, radius);
  }
  if (chamfpos & 2) {
    path.lineTo(x + width, y + chamfOffset);
    path.lineTo(x + width - chamfOffset, y);
    path.lineTo(0, y);
  } else {
    path.arcTo(x + width, y, x, y, radius);
  }
  if (chamfpos & 1) {
    path.lineTo(x + chamfOffset, y);
    path.lineTo(x, y + chamfOffset);
    path.lineTo(x, 0);
  } else {
    path.arcTo(x, y, x, y + height, radius);
  }
  path.closePath();
  return path;
}

function getOblongPath(size) {
  return getChamferedRectPath(size, Math.min(size[0], size[1]) / 2, 0, 0);
}

function getPolygonsPath(shape) {
  if (shape.path2d) {
    return shape.path2d;
  }
  if ("svgpath" in shape) {
    shape.path2d = new Path2D(shape.svgpath);
  } else {
    var path = new Path2D();
    for (var polygon of shape.polygons) {
      path.moveTo(...polygon[0]);
      for (var i = 1; i < polygon.length; i++) {
        path.lineTo(...polygon[i]);
      }
      path.closePath();
    }
    shape.path2d = path;
  }
  return shape.path2d;
}

function drawPolygonShape(ctx, scalefactor, shape, color) {
  ctx.save();
  if (!("svgpath" in shape)) {
    ctx.translate(...shape.pos);
    ctx.rotate(deg2rad(-shape.angle));
  }
  if("filled" in shape && !shape.filled) {
    ctx.strokeStyle = color;
    ctx.lineWidth = Math.max(1 / scalefactor, shape.width);
    ctx.lineCap = "round";
    ctx.lineJoin = "round";
    ctx.stroke(getPolygonsPath(shape));
  } else {
    ctx.fillStyle = color;
    ctx.fill(getPolygonsPath(shape));
  }
  ctx.restore();
}

function drawDrawing(ctx, scalefactor, drawing, color) {
  if (["segment", "arc", "circle", "curve", "rect"].includes(drawing.type)) {
    drawedge(ctx, scalefactor, drawing, color);
  } else if (drawing.type == "polygon") {
    drawPolygonShape(ctx, scalefactor, drawing, color);
  } else {
    drawText(ctx, drawing, color);
  }
}

function getCirclePath(radius) {
  var path = new Path2D();
  path.arc(0, 0, radius, 0, 2 * Math.PI);
  path.closePath();
  return path;
}

function getCachedPadPath(pad) {
  if (!pad.path2d) {
    // if path2d is not set, build one and cache it on pad object
    if (pad.shape == "rect") {
      pad.path2d = new Path2D();
      pad.path2d.rect(...pad.size.map(c => -c * 0.5), ...pad.size);
    } else if (pad.shape == "oval") {
      pad.path2d = getOblongPath(pad.size);
    } else if (pad.shape == "circle") {
      pad.path2d = getCirclePath(pad.size[0] / 2);
    } else if (pad.shape == "roundrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, 0, 0);
    } else if (pad.shape == "chamfrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, pad.chamfpos, pad.chamfratio)
    } else if (pad.shape == "custom") {
      pad.path2d = getPolygonsPath(pad);
    }
  }
  return pad.path2d;
}

function drawPad(ctx, pad, color, outline) {
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  if (pad.offset) {
    ctx.translate(...pad.offset);
  }
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  var path = getCachedPadPath(pad);
  if (outline) {
    ctx.stroke(path);
  } else {
    ctx.fill(path);
  }
  ctx.restore();
}

function drawPadHole(ctx, pad, padHoleColor) {
  if (pad.type != "th") return;
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  ctx.fillStyle = padHoleColor;
  if (pad.drillshape == "oblong") {
    ctx.fill(getOblongPath(pad.drillsize));
  } else {
    ctx.fill(getCirclePath(pad.drillsize[0] / 2));
  }
  ctx.restore();
}

function drawFootprint(ctx, layer, scalefactor, footprint, colors, highlight, outline) {
  if (highlight) {
    // draw bounding box
    if (footprint.layer == layer) {
      ctx.save();
      ctx.globalAlpha = 0.2;
      ctx.translate(...footprint.bbox.pos);
      ctx.rotate(deg2rad(-footprint.bbox.angle));
      ctx.translate(...footprint.bbox.relpos);
      ctx.fillStyle = colors.pad;
      ctx.fillRect(0, 0, ...footprint.bbox.size);
      ctx.globalAlpha = 1;
      ctx.strokeStyle = colors.pad;
      ctx.lineWidth = 3 / scalefactor;
      ctx.strokeRect(0, 0, ...footprint.bbox.size);
      ctx.restore();
    }
  }
  // draw drawings
  for (var drawing of footprint.drawings) {
    if (drawing.layer == layer) {
      drawDrawing(ctx, scalefactor, drawing.drawing, colors.pad);
    }
  }
  ctx.lineWidth = 3 / scalefactor;
  // draw pads
  if (settings.renderPads) {
    for (var pad of footprint.pads) {
      if (pad.layers.includes(layer)) {
        drawPad(ctx, pad, colors.pad, outline);
        if (pad.pin1 &&
          (settings.highlightpin1 == "all" ||
            settings.highlightpin1 == "selected" && highlight)) {
          drawPad(ctx, pad, colors.outline, true);
        }
      }
    }
    for (var pad of footprint.pads) {
      drawPadHole(ctx, pad, colors.padHole);
    }
  }
}

function drawEdgeCuts(canvas, scalefactor) {
  var ctx = canvas.getContext("2d");
  var edgecolor = getComputedStyle(topmostdiv).getPropertyValue('--pcb-edge-color');
  for (var edge of pcbdata.edges) {
    drawDrawing(ctx, scalefactor, edge, edgecolor);
  }
}

function drawFootprints(canvas, layer, scalefactor, highlight) {
  var ctx = canvas.getContext("2d");
  ctx.lineWidth = 3 / scalefactor;
  var style = getComputedStyle(topmostdiv);

  var colors = {
    pad: style.getPropertyValue('--pad-color'),
    padHole: style.getPropertyValue('--pad-hole-color'),
    outline: style.getPropertyValue('--pin1-outline-color'),
  }

  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var mod = pcbdata.footprints[i];
    var outline = settings.renderDnpOutline && pcbdata.bom.skipped.includes(i);
    var h = highlightedFootprints.includes(i);
    var d = markedFootprints.has(i);
    if (highlight) {
      if(h && d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-both');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-both');
      } else if (h) {
        colors.pad = style.getPropertyValue('--pad-color-highlight');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight');
      } else if (d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-marked');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-marked');
      }
    }
    if( h || d || !highlight) {
      drawFootprint(ctx, layer, scalefactor, mod, colors, highlight, outline);
    }
  }
}

function drawBgLayer(layername, canvas, layer, scalefactor, edgeColor, polygonColor, textColor) {
  var ctx = canvas.getContext("2d");
  for (var d of pcbdata.drawings[layername][layer]) {
    if (["segment", "arc", "circle", "curve", "rect"].includes(d.type)) {
      drawedge(ctx, scalefactor, d, edgeColor);
    } else if (d.type == "polygon") {
      drawPolygonShape(ctx, scalefactor, d, polygonColor);
    } else {
      drawText(ctx, d, textColor);
    }
  }
}

function drawTracks(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineCap = "round";
  for (var track of pcbdata.tracks[layer]) {
    if (highlight && highlightedNet != track.net) continue;
    ctx.strokeStyle = highlight ? defaultColor : settings.netColors[track.net] || defaultColor;
    ctx.lineWidth = track.width;
    ctx.beginPath();
    if ('radius' in track) {
      ctx.arc(
        ...track.center,
        track.radius,
        deg2rad(track.startangle),
        deg2rad(track.endangle));
    } else {
      ctx.moveTo(...track.start);
      ctx.lineTo(...track.end);
    }
    ctx.stroke();
  }
}

function drawZones(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineJoin = "round";
  for (var zone of pcbdata.zones[layer]) {
    if (highlight && highlightedNet != zone.net) continue;
    ctx.strokeStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    ctx.fillStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    if (!zone.path2d) {
      zone.path2d = getPolygonsPath(zone);
    }
    ctx.fill(zone.path2d, zone.fillrule || "nonzero");
    if (zone.width > 0) {
      ctx.lineWidth = zone.width;
      ctx.stroke(zone.path2d);
    }
  }
}

function clearCanvas(canvas, color = null) {
  var ctx = canvas.getContext("2d");
  ctx.save();
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  if (color) {
    ctx.fillStyle = color;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  } else {
    if (!window.matchMedia("print").matches)
      ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
  ctx.restore();
}

function drawNets(canvas, layer, highlight) {
  var style = getComputedStyle(topmostdiv);
  if (settings.renderTracks) {
    var trackColor = style.getPropertyValue(highlight ? '--track-color-highlight' : '--track-color');
    drawTracks(canvas, layer, trackColor, highlight);
  }
  if (settings.renderZones) {
    var zoneColor = style.getPropertyValue(highlight ? '--zone-color-highlight' : '--zone-color');
    drawZones(canvas, layer, zoneColor, highlight);
  }
  if (highlight && settings.renderPads) {
    var padColor = style.getPropertyValue('--pad-color-highlight');
    var padHoleColor = style.getPropertyValue('--pad-hole-color');
    var ctx = canvas.getContext("2d");
    for (var footprint of pcbdata.footprints) {
      // draw pads
      var padDrawn = false;
      for (var pad of footprint.pads) {
        if (highlightedNet != pad.net) continue;
        if (pad.layers.includes(layer)) {
          drawPad(ctx, pad, padColor, false);
          padDrawn = true;
        }
      }
      if (padDrawn) {
        // redraw all pad holes because some pads may overlap
        for (var pad of footprint.pads) {
          drawPadHole(ctx, pad, padHoleColor);
        }
      }
    }
  }
}

function drawHighlightsOnLayer(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.highlight);
  }
  if (markedFootprints.size > 0 || highlightedFootprints.length > 0) {
    drawFootprints(canvasdict.highlight, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom, true);
  }
  if (highlightedNet !== null) {
    drawNets(canvasdict.highlight, canvasdict.layer, true);
  }
}

function drawHighlights() {
  drawHighlightsOnLayer(allcanvas.front);
  drawHighlightsOnLayer(allcanvas.back);
}

function drawBackground(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.bg);
    clearCanvas(canvasdict.fab);
    clearCanvas(canvasdict.silk);
  }

  drawNets(canvasdict.bg, canvasdict.layer, false);
  drawFootprints(canvasdict.bg, canvasdict.layer,
    canvasdict.transform.s * canvasdict.transform.zoom, false);

  drawEdgeCuts(canvasdict.bg, canvasdict.transform.s * canvasdict.transform.zoom);

  var style = getComputedStyle(topmostdiv);
  var edgeColor = style.getPropertyValue('--silkscreen-edge-color');
  var polygonColor = style.getPropertyValue('--silkscreen-polygon-color');
  var textColor = style.getPropertyValue('--silkscreen-text-color');
  if (settings.renderSilkscreen) {
    drawBgLayer(
      "silkscreen", canvasdict.silk, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
  edgeColor = style.getPropertyValue('--fabrication-edge-color');
  polygonColor = style.getPropertyValue('--fabrication-polygon-color');
  textColor = style.getPropertyValue('--fabrication-text-color');
  if (settings.renderFabrication) {
    drawBgLayer(
      "fabrication", canvasdict.fab, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
}

function prepareCanvas(canvas, flip, transform) {
  var ctx = canvas.getContext("2d");
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  ctx.scale(transform.zoom, transform.zoom);
  ctx.translate(transform.panx, transform.pany);
  if (flip) {
    ctx.scale(-1, 1);
  }
  ctx.translate(transform.x, transform.y);
  ctx.rotate(deg2rad(settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  ctx.scale(transform.s, transform.s);
}

function prepareLayer(canvasdict) {
  var flip = (canvasdict.layer === "B");
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    prepareCanvas(canvasdict[c], flip, canvasdict.transform);
  }
}

function rotateVector(v, angle) {
  angle = deg2rad(angle);
  return [
    v[0] * Math.cos(angle) - v[1] * Math.sin(angle),
    v[0] * Math.sin(angle) + v[1] * Math.cos(angle)
  ];
}

function applyRotation(bbox, flip) {
  var corners = [
    [bbox.minx, bbox.miny],
    [bbox.minx, bbox.maxy],
    [bbox.maxx, bbox.miny],
    [bbox.maxx, bbox.maxy],
  ];
  corners = corners.map((v) => rotateVector(v, settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  return {
    minx: corners.reduce((a, v) => Math.min(a, v[0]), Infinity),
    miny: corners.reduce((a, v) => Math.min(a, v[1]), Infinity),
    maxx: corners.reduce((a, v) => Math.max(a, v[0]), -Infinity),
    maxy: corners.reduce((a, v) => Math.max(a, v[1]), -Infinity),
  }
}

function recalcLayerScale(layerdict, width, height) {
  var flip = (layerdict.layer === "B");
  var bbox = applyRotation(pcbdata.edges_bbox, flip);
  var scalefactor = 0.98 * Math.min(
    width / (bbox.maxx - bbox.minx),
    height / (bbox.maxy - bbox.miny)
  );
  if (scalefactor < 0.1) {
    scalefactor = 1;
  }
  layerdict.transform.s = scalefactor;
  if (flip) {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor + width) * 0.5;
  } else {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor - width) * 0.5;
  }
  layerdict.transform.y = -((bbox.maxy + bbox.miny) * scalefactor - height) * 0.5;
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    canvas = layerdict[c];
    canvas.width = width;
    canvas.height = height;
    canvas.style.width = (width / devicePixelRatio) + "px";
    canvas.style.height = (height / devicePixelRatio) + "px";
  }
}

function redrawCanvas(layerdict) {
  prepareLayer(layerdict);
  drawBackground(layerdict);
  drawHighlightsOnLayer(layerdict);
}

function resizeCanvas(layerdict) {
  var canvasdivid = {
    "F": "frontcanvas",
    "B": "backcanvas"
  } [layerdict.layer];
  var width = document.getElementById(canvasdivid).clientWidth * devicePixelRatio;
  var height = document.getElementById(canvasdivid).clientHeight * devicePixelRatio;
  recalcLayerScale(layerdict, width, height);
  redrawCanvas(layerdict);
}

function resizeAll() {
  resizeCanvas(allcanvas.front);
  resizeCanvas(allcanvas.back);
}

function pointWithinDistanceToSegment(x, y, x1, y1, x2, y2, d) {
  var A = x - x1;
  var B = y - y1;
  var C = x2 - x1;
  var D = y2 - y1;

  var dot = A * C + B * D;
  var len_sq = C * C + D * D;
  var dx, dy;
  if (len_sq == 0) {
    // start and end of the segment coincide
    dx = x - x1;
    dy = y - y1;
  } else {
    var param = dot / len_sq;
    var xx, yy;
    if (param < 0) {
      xx = x1;
      yy = y1;
    } else if (param > 1) {
      xx = x2;
      yy = y2;
    } else {
      xx = x1 + param * C;
      yy = y1 + param * D;
    }
    dx = x - xx;
    dy = y - yy;
  }
  return dx * dx + dy * dy <= d * d;
}

function modulo(n, mod) {
  return ((n % mod) + mod) % mod;
}

function pointWithinDistanceToArc(x, y, xc, yc, radius, startangle, endangle, d) {
  var dx = x - xc;
  var dy = y - yc;
  var r_sq = dx * dx + dy * dy;
  var rmin = Math.max(0, radius - d);
  var rmax = radius + d;

  if (r_sq < rmin * rmin || r_sq > rmax * rmax)
    return false;

  var angle1 = modulo(deg2rad(startangle), 2 * Math.PI);
  var dx1 = xc + radius * Math.cos(angle1) - x;
  var dy1 = yc + radius * Math.sin(angle1) - y;
  if (dx1 * dx1 + dy1 * dy1 <= d * d)
    return true;

  var angle2 = modulo(deg2rad(endangle), 2 * Math.PI);
  var dx2 = xc + radius * Math.cos(angle2) - x;
  var dy2 = yc + radius * Math.sin(angle2) - y;
  if (dx2 * dx2 + dy2 * dy2 <= d * d)
    return true;

  var angle = modulo(Math.atan2(dy, dx), 2 * Math.PI);
  if (angle1 > angle2)
    return (angle >= angle2 || angle <= angle1);
  else
    return (angle >= angle1 && angle <= angle2);
}

function pointWithinPad(x, y, pad) {
  var v = [x - pad.pos[0], y - pad.pos[1]];
  v = rotateVector(v, pad.angle);
  if (pad.offset) {
    v[0] -= pad.offset[0];
    v[1] -= pad.offset[1];
  }
  return emptyContext2d.isPointInPath(getCachedPadPath(pad), ...v);
}

function netHitScan(layer, x, y) {
  // Check track segments
  if (settings.renderTracks && pcbdata.tracks) {
    for (var track of pcbdata.tracks[layer]) {
      if ('radius' in track) {
        if (pointWithinDistanceToArc(x, y, ...track.center, track.radius, track.startangle, track.endangle, track.width / 2)) {
          return track.net;
        }
      } else {
        if (pointWithinDistanceToSegment(x, y, ...track.start, ...track.end, track.width / 2)) {
          return track.net;
        }
      }
    }
  }
  // Check pads
  if (settings.renderPads) {
    for (var footprint of pcbdata.footprints) {
      for (var pad of footprint.pads) {
        if (pad.layers.includes(layer) && pointWithinPad(x, y, pad)) {
          return pad.net;
        }
      }
    }
  }
  return null;
}

function pointWithinFootprintBbox(x, y, bbox) {
  var v = [x - bbox.pos[0], y - bbox.pos[1]];
  v = rotateVector(v, bbox.angle);
  return bbox.relpos[0] <= v[0] && v[0] <= bbox.relpos[0] + bbox.size[0] &&
    bbox.relpos[1] <= v[1] && v[1] <= bbox.relpos[1] + bbox.size[1];
}

function bboxHitScan(layer, x, y) {
  var result = [];
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var footprint = pcbdata.footprints[i];
    if (footprint.layer == layer) {
      if (pointWithinFootprintBbox(x, y, footprint.bbox)) {
        result.push(i);
      }
    }
  }
  return result;
}

function handlePointerDown(e, layerdict) {
  if (e.button != 0 && e.button != 1) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  layerdict.pointerStates[e.pointerId] = {
    distanceTravelled: 0,
    lastX: e.offsetX,
    lastY: e.offsetY,
    downTime: Date.now(),
  };
}

function handleMouseClick(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var x = e.offsetX;
  var y = e.offsetY;
  var t = layerdict.transform;
  var flip = layerdict.layer === "B";
  if (flip) {
    x = (devicePixelRatio * x / t.zoom - t.panx + t.x) / -t.s;
  } else {
    x = (devicePixelRatio * x / t.zoom - t.panx - t.x) / t.s;
  }
  y = (devicePixelRatio * y / t.zoom - t.y - t.pany) / t.s;
  var v = rotateVector([x, y], -settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0));
  if ("nets" in pcbdata) {
    var net = netHitScan(layerdict.layer, ...v);
    if (net !== highlightedNet) {
      netClicked(net);
    }
  }
  if (highlightedNet === null) {
    var footprints = bboxHitScan(layerdict.layer, ...v);
    if (footprints.length > 0) {
      footprintsClicked(footprints);
    }
  }
}

function handlePointerLeave(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();

  if (!settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }

  delete layerdict.pointerStates[e.pointerId];
}

function resetTransform(layerdict) {
  layerdict.transform.panx = 0;
  layerdict.transform.pany = 0;
  layerdict.transform.zoom = 1;
  redrawCanvas(layerdict);
}

function handlePointerUp(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  e.preventDefault();
  e.stopPropagation();

  if (e.button == 2) {
    // Reset pan and zoom on right click.
    resetTransform(layerdict);
    layerdict.anotherPointerTapped = false;
    return;
  }

  // We haven't necessarily had a pointermove event since the interaction started, so make sure we update this now
  var ptr = layerdict.pointerStates[e.pointerId];
  ptr.distanceTravelled += Math.abs(e.offsetX - ptr.lastX) + Math.abs(e.offsetY - ptr.lastY);

  if (e.button == 0 && ptr.distanceTravelled < 10 && Date.now() - ptr.downTime <= 500) {
    if (Object.keys(layerdict.pointerStates).length == 1) {
      if (layerdict.anotherPointerTapped) {
        // This is the second pointer coming off of a two-finger tap
        resetTransform(layerdict);
      } else {
        // This is just a regular tap
        handleMouseClick(e, layerdict);
      }
      layerdict.anotherPointerTapped = false;
    } else {
      // This is the first finger coming off of what could become a two-finger tap
      layerdict.anotherPointerTapped = true;
    }
  } else {
    if (!settings.redrawOnDrag) {
      redrawCanvas(layerdict);
    }
    layerdict.anotherPointerTapped = false;
  }

  delete layerdict.pointerStates[e.pointerId];
}

function handlePointerMove(e, layerdict) {
  if (!layerdict.pointerStates.hasOwnProperty(e.pointerId)) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var thisPtr = layerdict.pointerStates[e.pointerId];

  var dx = e.offsetX - thisPtr.lastX;
  var dy = e.offsetY - thisPtr.lastY;

  // If this number is low on pointer up, we count the action as a click
  thisPtr.distanceTravelled += Math.abs(dx) + Math.abs(dy);

  if (Object.keys(layerdict.pointerStates).length == 1) {
    // This is a simple drag
    layerdict.transform.panx += devicePixelRatio * dx / layerdict.transform.zoom;
    layerdict.transform.pany += devicePixelRatio * dy / layerdict.transform.zoom;
  } else if (Object.keys(layerdict.pointerStates).length == 2) {
    var otherPtr = Object.values(layerdict.pointerStates).filter((ptr) => ptr != thisPtr)[0];

    var oldDist = Math.sqrt(Math.pow(thisPtr.lastX - otherPtr.lastX, 2) + Math.pow(thisPtr.lastY - otherPtr.lastY, 2));
    var newDist = Math.sqrt(Math.pow(e.offsetX - otherPtr.lastX, 2) + Math.pow(e.offsetY - otherPtr.lastY, 2));

    var scaleFactor = newDist / oldDist;

    if (scaleFactor != NaN) {
      layerdict.transform.zoom *= scaleFactor;

      var zoomd = (1 - scaleFactor) / layerdict.transform.zoom;
      layerdict.transform.panx += devicePixelRatio * otherPtr.lastX * zoomd;
      layerdict.transform.pany += devicePixelRatio * otherPtr.lastY * zoomd;
    }
  }

  thisPtr.lastX = e.offsetX;
  thisPtr.lastY = e.offsetY;

  if (settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }
}

function handleMouseWheel(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();
  var t = layerdict.transform;
  var wheeldelta = e.deltaY;
  if (e.deltaMode == 1) {
    // FF only, scroll by lines
    wheeldelta *= 30;
  } else if (e.deltaMode == 2) {
    wheeldelta *= 300;
  }
  var m = Math.pow(1.1, -wheeldelta / 40);
  // Limit amount of zoom per tick.
  if (m > 2) {
    m = 2;
  } else if (m < 0.5) {
    m = 0.5;
  }
  t.zoom *= m;
  var zoomd = (1 - m) / t.zoom;
  t.panx += devicePixelRatio * e.offsetX * zoomd;
  t.pany += devicePixelRatio * e.offsetY * zoomd;
  redrawCanvas(layerdict);
}

function addMouseHandlers(div, layerdict) {
  div.addEventListener("pointerdown", function(e) {
    handlePointerDown(e, layerdict);
  });
  div.addEventListener("pointermove", function(e) {
    handlePointerMove(e, layerdict);
  });
  div.addEventListener("pointerup", function(e) {
    handlePointerUp(e, layerdict);
  });
  var pointerleave = function(e) {
    handlePointerLeave(e, layerdict);
  }
  div.addEventListener("pointercancel", pointerleave);
  div.addEventListener("pointerleave", pointerleave);
  div.addEventListener("pointerout", pointerleave);

  div.onwheel = function(e) {
    handleMouseWheel(e, layerdict);
  }
  for (var element of [div, layerdict.bg, layerdict.fab, layerdict.silk, layerdict.highlight]) {
    element.addEventListener("contextmenu", function(e) {
      e.preventDefault();
    }, false);
  }
}

function setRedrawOnDrag(value) {
  settings.redrawOnDrag = value;
  writeStorage("redrawOnDrag", value);
}

function setBoardRotation(value) {
  settings.boardRotation = value * 5;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  resizeAll();
}

function setOffsetBackRotation(value) {
  settings.offsetBackRotation = value;
  writeStorage("offsetBackRotation", value);
  resizeAll();
}

function initRender() {
  allcanvas = {
    front: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("F_bg"),
      fab: document.getElementById("F_fab"),
      silk: document.getElementById("F_slk"),
      highlight: document.getElementById("F_hl"),
      layer: "F",
    },
    back: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("B_bg"),
      fab: document.getElementById("B_fab"),
      silk: document.getElementById("B_slk"),
      highlight: document.getElementById("B_hl"),
      layer: "B",
    }
  };
  addMouseHandlers(document.getElementById("frontcanvas"), allcanvas.front);
  addMouseHandlers(document.getElementById("backcanvas"), allcanvas.back);
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/*
 * Table reordering via Drag'n'Drop
 * Inspired by: https://htmldom.dev/drag-and-drop-table-column
 */

function setBomHandlers() {

  const bom = document.getElementById('bomtable');

  let dragName;
  let placeHolderElements;
  let draggingElement;
  let forcePopulation;
  let xOffset;
  let yOffset;
  let wasDragged;

  const mouseUpHandler = function(e) {
    // Delete dragging element
    draggingElement.remove();

    // Make BOM selectable again
    bom.style.removeProperty("userSelect");

    // Remove listeners
    document.removeEventListener('mousemove', mouseMoveHandler);
    document.removeEventListener('mouseup', mouseUpHandler);

    if (wasDragged) {
      // Redraw whole BOM
      populateBomTable();
    }
  }

  const mouseMoveHandler = function(e) {
    // Notice the dragging
    wasDragged = true;

    // Make the dragged element visible
    draggingElement.style.removeProperty("display");

    // Set elements position to mouse position
    draggingElement.style.left = `${e.screenX - xOffset}px`;
    draggingElement.style.top = `${e.screenY - yOffset}px`;

    // Forced redrawing of BOM table
    if (forcePopulation) {
      forcePopulation = false;
      // Copy array
      phe = Array.from(placeHolderElements);
      // populate BOM table again
      populateBomHeader(dragName, phe);
      populateBomBody(dragName, phe);
    }

    // Set up array of hidden columns
    var hiddenColumns = Array.from(settings.hiddenColumns);
    // In the ungrouped mode, quantity don't exist
    if (settings.bommode === "ungrouped")
      hiddenColumns.push("Quantity");
    // If no checkbox fields can be found, we consider them hidden
    if (settings.checkboxes.length == 0)
      hiddenColumns.push("checkboxes");

    // Get table headers and group them into checkboxes, extrafields and normal headers
    const bh = document.getElementById("bomhead");
    headers = Array.from(bh.querySelectorAll("th"))
    headers.shift() // numCol is not part of the columnOrder
    headerGroups = []
    lastCompoundClass = null;
    for (i = 0; i < settings.columnOrder.length; i++) {
      cElem = settings.columnOrder[i];
      if (hiddenColumns.includes(cElem)) {
        // Hidden columns appear as a dummy element
        headerGroups.push([]);
        continue;
      }
      elem = headers.filter(e => getColumnOrderName(e) === cElem)[0];
      if (elem.classList.contains("bom-checkbox")) {
        if (lastCompoundClass === "bom-checkbox") {
          cbGroup = headerGroups.pop();
          cbGroup.push(elem);
          headerGroups.push(cbGroup);
        } else {
          lastCompoundClass = "bom-checkbox";
          headerGroups.push([elem])
        }
      } else {
        headerGroups.push([elem])
      }
    }

    // Copy settings.columnOrder
    var columns = Array.from(settings.columnOrder)

    // Set up array with indices of hidden columns
    var hiddenIndices = hiddenColumns.map(e => settings.columnOrder.indexOf(e));
    var dragIndex = columns.indexOf(dragName);
    var swapIndex = dragIndex;
    var swapDone = false;

    // Check if the current dragged element is swapable with the left or right element
    if (dragIndex > 0) {
      // Get left headers boundingbox
      swapIndex = dragIndex - 1;
      while (hiddenIndices.includes(swapIndex) && swapIndex > 0)
        swapIndex--;
      if (!hiddenIndices.includes(swapIndex)) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX < box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }
    if ((!swapDone) && dragIndex < headerGroups.length - 1) {
      // Get right headers boundingbox
      swapIndex = dragIndex + 1;
      while (hiddenIndices.includes(swapIndex))
        swapIndex++;
      if (swapIndex < headerGroups.length) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX > box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }

    // Write back change to storage
    if (swapDone) {
      settings.columnOrder = columns
      writeStorage("columnOrder", JSON.stringify(columns));
    }

  }

  const mouseDownHandler = function(e) {
    var target = e.target;
    if (target.tagName.toLowerCase() != "td")
      target = target.parentElement;

    // Used to check if a dragging has ever happened
    wasDragged = false;

    // Create new element which will be displayed as the dragged column
    draggingElement = document.createElement("div")
    draggingElement.classList.add("dragging");
    draggingElement.style.display = "none";
    draggingElement.style.position = "absolute";
    draggingElement.style.overflow = "hidden";

    // Get bomhead and bombody elements
    const bh = document.getElementById("bomhead");
    const bb = document.getElementById("bombody");

    // Get all compound headers for the current column
    var compoundHeaders;
    if (target.classList.contains("bom-checkbox")) {
      compoundHeaders = Array.from(bh.querySelectorAll("th.bom-checkbox"));
    } else {
      compoundHeaders = [target];
    }

    // Create new table which will display the column
    var newTable = document.createElement("table");
    newTable.classList.add("bom");
    newTable.style.background = "white";
    draggingElement.append(newTable);

    // Create new header element
    var newHeader = document.createElement("thead");
    newTable.append(newHeader);

    // Set up array for storing all placeholder elements
    placeHolderElements = [];

    // Add all compound headers to the new thead element and placeholders
    compoundHeaders.forEach(function(h) {
      clone = cloneElementWithDimensions(h);
      newHeader.append(clone);
      placeHolderElements.push(clone);
    });

    // Create new body element
    var newBody = document.createElement("tbody");
    newTable.append(newBody);

    // Get indices for compound headers
    var idxs = compoundHeaders.map(e => getBomTableHeaderIndex(e));

    // For each row in the BOM body...
    var rows = bb.querySelectorAll("tr");
    rows.forEach(function(row) {
      // ..get the cells for the compound column
      const tds = row.querySelectorAll("td");
      var copytds = idxs.map(i => tds[i]);
      // Add them to the new element and the placeholders
      var newRow = document.createElement("tr");
      copytds.forEach(function(td) {
        clone = cloneElementWithDimensions(td);
        newRow.append(clone);
        placeHolderElements.push(clone);
      });
      newBody.append(newRow);
    });

    // Compute width for compound header
    var width = compoundHeaders.reduce((acc, x) => acc + x.clientWidth, 0);
    draggingElement.style.width = `${width}px`;

    // Insert the new dragging element and disable selection on BOM
    bom.insertBefore(draggingElement, null);
    bom.style.userSelect = "none";

    // Determine the mouse position offset
    xOffset = e.screenX - compoundHeaders.reduce((acc, x) => Math.min(acc, x.offsetLeft), compoundHeaders[0].offsetLeft);
    yOffset = e.screenY - compoundHeaders[0].offsetTop;

    // Get name for the column in settings.columnOrder
    dragName = getColumnOrderName(target);

    // Change text and class for placeholder elements
    placeHolderElements = placeHolderElements.map(function(e) {
      newElem = cloneElementWithDimensions(e);
      newElem.textContent = "";
      newElem.classList.add("placeholder");
      return newElem;
    });

    // On next mouse move, the whole BOM needs to be redrawn to show the placeholders
    forcePopulation = true;

    // Add listeners for move and up on mouse
    document.addEventListener('mousemove', mouseMoveHandler);
    document.addEventListener('mouseup', mouseUpHandler);
  }

  // In netlist mode, there is nothing to reorder
  if (settings.bommode === "netlist")
    return;

  // Add mouseDownHandler to every column except the numCol
  bom.querySelectorAll("th")
    .forEach(function(head) {
      if (!head.classList.contains("numCol")) {
        head.onmousedown = mouseDownHandler;
      }
    });

}

function getBoundingClientRectFromMultiple(elements) {
  var elems = Array.from(elements);

  if (elems.length == 0)
    return null;

  var box = elems.shift()
    .getBoundingClientRect();

  elems.forEach(function(elem) {
    var elembox = elem.getBoundingClientRect();
    box.left = Math.min(elembox.left, box.left);
    box.top = Math.min(elembox.top, box.top);
    box.width += elembox.width;
    box.height = Math.max(elembox.height, box.height);
  });

  return box;
}

function cloneElementWithDimensions(elem) {
  var newElem = elem.cloneNode(true);
  newElem.style.height = window.getComputedStyle(elem).height;
  newElem.style.width = window.getComputedStyle(elem).width;
  return newElem;
}

function getBomTableHeaderIndex(elem) {
  const bh = document.getElementById('bomhead');
  const ths = Array.from(bh.querySelectorAll("th"));
  return ths.indexOf(elem);
}

function getColumnOrderName(elem) {
  var cname = elem.getAttribute("col_name");
  if (cname === "bom-checkbox")
    return "checkboxes";
  else
    return cname;
}

function resizableGrid(tablehead) {
  var cols = tablehead.firstElementChild.children;
  var rowWidth = tablehead.offsetWidth;

  for (var i = 1; i < cols.length; i++) {
    if (cols[i].classList.contains("bom-checkbox"))
      continue;
    cols[i].style.width = ((cols[i].clientWidth - paddingDiff(cols[i])) * 100 / rowWidth) + '%';
  }

  for (var i = 1; i < cols.length - 1; i++) {
    var div = document.createElement('div');
    div.className = "column-width-handle";
    cols[i].appendChild(div);
    setListeners(div);
  }

  function setListeners(div) {
    var startX, curCol, nxtCol, curColWidth, nxtColWidth, rowWidth;

    div.addEventListener('mousedown', function(e) {
      e.preventDefault();
      e.stopPropagation();

      curCol = e.target.parentElement;
      nxtCol = curCol.nextElementSibling;
      startX = e.pageX;

      var padding = paddingDiff(curCol);

      rowWidth = curCol.parentElement.offsetWidth;
      curColWidth = curCol.clientWidth - padding;
      nxtColWidth = nxtCol.clientWidth - padding;
    });

    document.addEventListener('mousemove', function(e) {
      if (startX) {
        var diffX = e.pageX - startX;
        diffX = -Math.min(-diffX, curColWidth - 20);
        diffX = Math.min(diffX, nxtColWidth - 20);

        curCol.style.width = ((curColWidth + diffX) * 100 / rowWidth) + '%';
        nxtCol.style.width = ((nxtColWidth - diffX) * 100 / rowWidth) + '%';
        console.log(`${curColWidth + nxtColWidth} ${(curColWidth + diffX) * 100 / rowWidth + (nxtColWidth - diffX) * 100 / rowWidth}`);
      }
    });

    document.addEventListener('mouseup', function(e) {
      curCol = undefined;
      nxtCol = undefined;
      startX = undefined;
      nxtColWidth = undefined;
      curColWidth = undefined
    });
  }

  function paddingDiff(col) {

    if (getStyleVal(col, 'box-sizing') == 'border-box') {
      return 0;
    }

    var padLeft = getStyleVal(col, 'padding-left');
    var padRight = getStyleVal(col, 'padding-right');
    return (parseInt(padLeft) + parseInt(padRight));

  }

  function getStyleVal(elm, css) {
    return (window.getComputedStyle(elm, null).getPropertyValue(css))
  }
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/* DOM manipulation and misc code */

var bomsplit;
var canvassplit;
var initDone = false;
var bomSortFunction = null;
var currentSortColumn = null;
var currentSortOrder = null;
var currentHighlightedRowId;
var highlightHandlers = [];
var footprintIndexToHandler = {};
var netsToHandler = {};
var markedFootprints = new Set();
var highlightedFootprints = [];
var highlightedNet = null;
var lastClicked;

function dbg(html) {
  dbgdiv.innerHTML = html;
}

function redrawIfInitDone() {
  if (initDone) {
    redrawCanvas(allcanvas.front);
    redrawCanvas(allcanvas.back);
  }
}

function padsVisible(value) {
  writeStorage("padsVisible", value);
  settings.renderPads = value;
  redrawIfInitDone();
}

function referencesVisible(value) {
  writeStorage("referencesVisible", value);
  settings.renderReferences = value;
  redrawIfInitDone();
}

function valuesVisible(value) {
  writeStorage("valuesVisible", value);
  settings.renderValues = value;
  redrawIfInitDone();
}

function tracksVisible(value) {
  writeStorage("tracksVisible", value);
  settings.renderTracks = value;
  redrawIfInitDone();
}

function zonesVisible(value) {
  writeStorage("zonesVisible", value);
  settings.renderZones = value;
  redrawIfInitDone();
}

function dnpOutline(value) {
  writeStorage("dnpOutline", value);
  settings.renderDnpOutline = value;
  redrawIfInitDone();
}

function setDarkMode(value) {
  if (value) {
    topmostdiv.classList.add("dark");
  } else {
    topmostdiv.classList.remove("dark");
  }
  writeStorage("darkmode", value);
  settings.darkMode = value;
  redrawIfInitDone();
  if (initDone) {
    populateBomTable();
  }
}

function setShowBOMColumn(field, value) {
  if (field === "references") {
    var rl = document.getElementById("reflookup");
    rl.disabled = !value;
    if (!value) {
      rl.value = "";
      updateRefLookup("");
    }
  }

  var n = settings.hiddenColumns.indexOf(field);
  if (value) {
    if (n != -1) {
      settings.hiddenColumns.splice(n, 1);
    }
  } else {
    if (n == -1) {
      settings.hiddenColumns.push(field);
    }
  }

  writeStorage("hiddenColumns", JSON.stringify(settings.hiddenColumns));

  if (initDone) {
    populateBomTable();
  }

  redrawIfInitDone();
}


function setFullscreen(value) {
  if (value) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}

function fabricationVisible(value) {
  writeStorage("fabricationVisible", value);
  settings.renderFabrication = value;
  redrawIfInitDone();
}

function silkscreenVisible(value) {
  writeStorage("silkscreenVisible", value);
  settings.renderSilkscreen = value;
  redrawIfInitDone();
}

function setHighlightPin1(value) {
  writeStorage("highlightpin1", value);
  settings.highlightpin1 = value;
  redrawIfInitDone();
}

function getStoredCheckboxRefs(checkbox) {
  function convert(ref) {
    var intref = parseInt(ref);
    if (isNaN(intref)) {
      for (var i = 0; i < pcbdata.footprints.length; i++) {
        if (pcbdata.footprints[i].ref == ref) {
          return i;
        }
      }
      return -1;
    } else {
      return intref;
    }
  }
  if (!(checkbox in settings.checkboxStoredRefs)) {
    var val = readStorage("checkbox_" + checkbox);
    settings.checkboxStoredRefs[checkbox] = val ? val : "";
  }
  if (!settings.checkboxStoredRefs[checkbox]) {
    return new Set();
  } else {
    return new Set(settings.checkboxStoredRefs[checkbox].split(",").map(r => convert(r)).filter(a => a >= 0));
  }
}

function getCheckboxState(checkbox, references) {
  var storedRefsSet = getStoredCheckboxRefs(checkbox);
  var currentRefsSet = new Set(references.map(r => r[1]));
  // Get difference of current - stored
  var difference = new Set(currentRefsSet);
  for (ref of storedRefsSet) {
    difference.delete(ref);
  }
  if (difference.size == 0) {
    // All the current refs are stored
    return "checked";
  } else if (difference.size == currentRefsSet.size) {
    // None of the current refs are stored
    return "unchecked";
  } else {
    // Some of the refs are stored
    return "indeterminate";
  }
}

function setBomCheckboxState(checkbox, element, references) {
  var state = getCheckboxState(checkbox, references);
  element.checked = (state == "checked");
  element.indeterminate = (state == "indeterminate");
}

function createCheckboxChangeHandler(checkbox, references, row) {
  return function () {
    refsSet = getStoredCheckboxRefs(checkbox);
    var markWhenChecked = settings.markWhenChecked == checkbox;
    eventArgs = {
      checkbox: checkbox,
      refs: references,
    }
    if (this.checked) {
      // checkbox ticked
      for (var ref of references) {
        refsSet.add(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.add("checked");
        for (var ref of references) {
          markedFootprints.add(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'checked';
    } else {
      // checkbox unticked
      for (var ref of references) {
        refsSet.delete(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.remove("checked");
        for (var ref of references) {
          markedFootprints.delete(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'unchecked';
    }
    settings.checkboxStoredRefs[checkbox] = [...refsSet].join(",");
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
    updateCheckboxStats(checkbox);
    EventHandler.emitEvent(IBOM_EVENT_TYPES.CHECKBOX_CHANGE_EVENT, eventArgs);
  }
}

function clearHighlightedFootprints() {
  if (currentHighlightedRowId) {
    document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    currentHighlightedRowId = null;
    highlightedFootprints = [];
    highlightedNet = null;
  }
}

function createRowHighlightHandler(rowid, refs, net) {
  return function () {
    if (currentHighlightedRowId) {
      if (currentHighlightedRowId == rowid) {
        return;
      }
      document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    }
    document.getElementById(rowid).classList.add("highlighted");
    currentHighlightedRowId = rowid;
    highlightedFootprints = refs ? refs.map(r => r[1]) : [];
    highlightedNet = net;
    drawHighlights();
    EventHandler.emitEvent(
      IBOM_EVENT_TYPES.HIGHLIGHT_EVENT, {
      rowid: rowid,
      refs: refs,
      net: net
    });
  }
}

function updateNetColors() {
  writeStorage("netColors", JSON.stringify(settings.netColors));
  redrawIfInitDone();
}

function netColorChangeHandler(net) {
  return (event) => {
    settings.netColors[net] = event.target.value;
    updateNetColors();
  }
}

function netColorRightClick(net) {
  return (event) => {
    if(event.button == 2) {
      event.preventDefault();
      event.stopPropagation();

      var style = getComputedStyle(topmostdiv);
      var defaultNetColor = style.getPropertyValue('--track-color').trim();
      event.target.value = defaultNetColor;
      delete settings.netColors[net];
      updateNetColors();
    }
  }
}

function entryMatches(entry) {
  if (settings.bommode == "netlist") {
    // entry is just a net name
    return entry.toLowerCase().indexOf(filter) >= 0;
  }
  // check refs
  if (!settings.hiddenColumns.includes("references")) {
    for (var ref of entry) {
      if (ref[0].toLowerCase().indexOf(filter) >= 0) {
        return true;
      }
    }
  }
  // check fields
  for (var i in config.fields) {
    var f = config.fields[i];
    if (!settings.hiddenColumns.includes(f)) {
      for (var ref of entry) {
        if (String(pcbdata.bom.fields[ref[1]][i]).toLowerCase().indexOf(filter) >= 0) {
          return true;
        }
      }
    }
  }
  return false;
}

function findRefInEntry(entry) {
  return entry.filter(r => r[0].toLowerCase() == reflookup);
}

function highlightFilter(s) {
  if (!filter) {
    return s;
  }
  var parts = s.toLowerCase().split(filter);
  if (parts.length == 1) {
    return s;
  }
  var r = "";
  var pos = 0;
  for (var i in parts) {
    if (i > 0) {
      r += '<mark class="highlight">' +
        s.substring(pos, pos + filter.length) +
        '</mark>';
      pos += filter.length;
    }
    r += s.substring(pos, pos + parts[i].length);
    pos += parts[i].length;
  }
  return r;
}

function checkboxSetUnsetAllHandler(checkboxname) {
  return function () {
    var checkboxnum = 0;
    while (checkboxnum < settings.checkboxes.length &&
      settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
      checkboxnum++;
    }
    if (checkboxnum >= settings.checkboxes.length) {
      return;
    }
    var allset = true;
    var checkbox;
    var row;
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      if (!checkbox.checked || checkbox.indeterminate) {
        allset = false;
        break;
      }
    }
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      checkbox.checked = !allset;
      checkbox.indeterminate = false;
      checkbox.onchange();
    }
  }
}

function createColumnHeader(name, cls, comparator, is_checkbox = false) {
  var th = document.createElement("TH");
  th.innerHTML = name;
  th.classList.add(cls);
  if (is_checkbox)
    th.setAttribute("col_name", "bom-checkbox");
  else
    th.setAttribute("col_name", name);
  var span = document.createElement("SPAN");
  span.classList.add("sortmark");
  span.classList.add("none");
  th.appendChild(span);
  var spacer = document.createElement("div");
  spacer.className = "column-spacer";
  th.appendChild(spacer);
  spacer.onclick = function () {
    if (currentSortColumn && th !== currentSortColumn) {
      // Currently sorted by another column
      currentSortColumn.childNodes[1].classList.remove(currentSortOrder);
      currentSortColumn.childNodes[1].classList.add("none");
      currentSortColumn = null;
      currentSortOrder = null;
    }
    if (currentSortColumn && th === currentSortColumn) {
      // Already sorted by this column
      if (currentSortOrder == "asc") {
        // Sort by this column, descending order
        bomSortFunction = function (a, b) {
          return -comparator(a, b);
        }
        currentSortColumn.childNodes[1].classList.remove("asc");
        currentSortColumn.childNodes[1].classList.add("desc");
        currentSortOrder = "desc";
      } else {
        // Unsort
        bomSortFunction = null;
        currentSortColumn.childNodes[1].classList.remove("desc");
        currentSortColumn.childNodes[1].classList.add("none");
        currentSortColumn = null;
        currentSortOrder = null;
      }
    } else {
      // Sort by this column, ascending order
      bomSortFunction = comparator;
      currentSortColumn = th;
      currentSortColumn.childNodes[1].classList.remove("none");
      currentSortColumn.childNodes[1].classList.add("asc");
      currentSortOrder = "asc";
    }
    populateBomBody();
  }
  if (is_checkbox) {
    spacer.onclick = fancyDblClickHandler(
      spacer, spacer.onclick, checkboxSetUnsetAllHandler(name));
  }
  return th;
}

function populateBomHeader(placeHolderColumn = null, placeHolderElements = null) {
  while (bomhead.firstChild) {
    bomhead.removeChild(bomhead.firstChild);
  }
  var tr = document.createElement("TR");
  var th = document.createElement("TH");
  th.classList.add("numCol");

  var vismenu = document.createElement("div");
  vismenu.id = "vismenu";
  vismenu.classList.add("menu");

  var visbutton = document.createElement("div");
  visbutton.classList.add("visbtn");
  visbutton.classList.add("hideonprint");

  var viscontent = document.createElement("div");
  viscontent.classList.add("menu-content");
  viscontent.id = "vismenu-content";

  settings.columnOrder.forEach(column => {
    if (typeof column !== "string")
      return;

    // Skip empty columns
    if (column === "checkboxes" && settings.checkboxes.length == 0)
      return;
    else if (column === "Quantity" && settings.bommode == "ungrouped")
      return;

    var label = document.createElement("label");
    label.classList.add("menu-label");

    var input = document.createElement("input");
    input.classList.add("visibility_checkbox");
    input.type = "checkbox";
    input.onchange = function (e) {
      setShowBOMColumn(column, e.target.checked)
    };
    input.checked = !(settings.hiddenColumns.includes(column));

    label.appendChild(input);
    if (column.length > 0)
      label.append(column[0].toUpperCase() + column.slice(1));

    viscontent.appendChild(label);
  });

  viscontent.childNodes[0].classList.add("menu-label-top");

  vismenu.appendChild(visbutton);
  if (settings.bommode != "netlist") {
    vismenu.appendChild(viscontent);
    th.appendChild(vismenu);
  }
  tr.appendChild(th);

  var checkboxCompareClosure = function (checkbox) {
    return (a, b) => {
      var stateA = getCheckboxState(checkbox, a);
      var stateB = getCheckboxState(checkbox, b);
      if (stateA > stateB) return -1;
      if (stateA < stateB) return 1;
      return 0;
    }
  }
  var stringFieldCompareClosure = function (fieldIndex) {
    return (a, b) => {
      var fa = pcbdata.bom.fields[a[0][1]][fieldIndex];
      var fb = pcbdata.bom.fields[b[0][1]][fieldIndex];
      if (fa != fb) return fa > fb ? 1 : -1;
      else return 0;
    }
  }
  var referenceRegex = /(?<prefix>[^0-9]+)(?<number>[0-9]+)/;
  var compareRefs = (a, b) => {
    var ra = referenceRegex.exec(a);
    var rb = referenceRegex.exec(b);
    if (ra === null || rb === null) {
      if (a != b) return a > b ? 1 : -1;
      return 0;
    } else {
      if (ra.groups.prefix != rb.groups.prefix) {
        return ra.groups.prefix > rb.groups.prefix ? 1 : -1;
      }
      if (ra.groups.number != rb.groups.number) {
        return parseInt(ra.groups.number) > parseInt(rb.groups.number) ? 1 : -1;
      }
      return 0;
    }
  }
  if (settings.bommode == "netlist") {
    tr.appendChild(createColumnHeader("Net name", "bom-netname", (a, b) => {
      if (a > b) return -1;
      if (a < b) return 1;
      return 0;
    }));
    tr.appendChild(createColumnHeader("Color", "bom-color", (a, b) => {
      return 0;
    }));
  } else {
    // Filter hidden columns
    var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
    var valueIndex = config.fields.indexOf("Value");
    var footprintIndex = config.fields.indexOf("Footprint");
    columns.forEach((column) => {
      if (column === placeHolderColumn) {
        var n = 1;
        if (column === "checkboxes")
          n = settings.checkboxes.length;
        for (i = 0; i < n; i++) {
          td = placeHolderElements.shift();
          tr.appendChild(td);
        }
        return;
      } else if (column === "checkboxes") {
        for (var checkbox of settings.checkboxes) {
          th = createColumnHeader(
            checkbox, "bom-checkbox", checkboxCompareClosure(checkbox), true);
          tr.appendChild(th);
        }
      } else if (column === "References") {
        tr.appendChild(createColumnHeader("References", "references", (a, b) => {
          var i = 0;
          while (i < a.length && i < b.length) {
            if (a[i] != b[i]) return compareRefs(a[i][0], b[i][0]);
            i++;
          }
          return a.length - b.length;
        }));
      } else if (column === "Value") {
        tr.appendChild(createColumnHeader("Value", "value", (a, b) => {
          var ra = a[0][1], rb = b[0][1];
          return valueCompare(
            pcbdata.bom.parsedValues[ra], pcbdata.bom.parsedValues[rb],
            pcbdata.bom.fields[ra][valueIndex], pcbdata.bom.fields[rb][valueIndex]);
        }));
        return;
      } else if (column === "Footprint") {
        tr.appendChild(createColumnHeader(
          "Footprint", "footprint", stringFieldCompareClosure(footprintIndex)));
      } else if (column === "Quantity" && settings.bommode == "grouped") {
        tr.appendChild(createColumnHeader("Quantity", "quantity", (a, b) => {
          return a.length - b.length;
        }));
      } else {
        // Other fields
        var i = config.fields.indexOf(column);
        if (i < 0)
          return;
        tr.appendChild(createColumnHeader(
          column, `field${i + 1}`, stringFieldCompareClosure(i)));
      }
    });
  }
  bomhead.appendChild(tr);
}

function populateBomBody(placeholderColumn = null, placeHolderElements = null) {
  const urlRegex = /^(https?:\/\/[^\s\/$.?#][^\s]*|file:\/\/([a-zA-Z]:|\/)[^\x00]+)$/;
  while (bom.firstChild) {
    bom.removeChild(bom.firstChild);
  }
  highlightHandlers = [];
  footprintIndexToHandler = {};
  netsToHandler = {};
  currentHighlightedRowId = null;
  var first = true;
  var style = getComputedStyle(topmostdiv);
  var defaultNetColor = style.getPropertyValue('--track-color').trim();
  if (settings.bommode == "netlist") {
    bomtable = pcbdata.nets.slice();
  } else {
    switch (settings.canvaslayout) {
      case 'F':
        bomtable = pcbdata.bom.F.slice();
        break;
      case 'FB':
        bomtable = pcbdata.bom.both.slice();
        break;
      case 'B':
        bomtable = pcbdata.bom.B.slice();
        break;
    }
    if (settings.bommode == "ungrouped") {
      // expand bom table
      expandedTable = []
      for (var bomentry of bomtable) {
        for (var ref of bomentry) {
          expandedTable.push([ref]);
        }
      }
      bomtable = expandedTable;
    }
  }
  if (bomSortFunction) {
    bomtable = bomtable.sort(bomSortFunction);
  }
  for (var i in bomtable) {
    var bomentry = bomtable[i];
    if (filter && !entryMatches(bomentry)) {
      continue;
    }
    var references = null;
    var netname = null;
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    var rownum = +i + 1;
    tr.id = "bomrow" + rownum;
    td.textContent = rownum;
    tr.appendChild(td);
    if (settings.bommode == "netlist") {
      netname = bomentry;
      td = document.createElement("TD");
      td.innerHTML = highlightFilter(netname ? netname : "&lt;no net&gt;");
      tr.appendChild(td);
      var color = settings.netColors[netname] || defaultNetColor;
      td = document.createElement("TD");
      var colorBox = document.createElement("INPUT");
      colorBox.type = "color";
      colorBox.value = color;
      colorBox.onchange = netColorChangeHandler(netname);
      colorBox.onmouseup = netColorRightClick(netname);
      colorBox.oncontextmenu = (e) => e.preventDefault();
      td.appendChild(colorBox);
      td.classList.add("color-column");
      tr.appendChild(td);
    } else {
      if (reflookup) {
        references = findRefInEntry(bomentry);
        if (references.length == 0) {
          continue;
        }
      } else {
        references = bomentry;
      }
      // Filter hidden columns
      var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
      columns.forEach((column) => {
        if (column === placeholderColumn) {
          var n = 1;
          if (column === "checkboxes")
            n = settings.checkboxes.length;
          for (i = 0; i < n; i++) {
            td = placeHolderElements.shift();
            tr.appendChild(td);
          }
          return;
        } else if (column === "checkboxes") {
          for (var checkbox of settings.checkboxes) {
            if (checkbox) {
              td = document.createElement("TD");
              var input = document.createElement("input");
              input.type = "checkbox";
              input.onchange = createCheckboxChangeHandler(checkbox, references, tr);
              setBomCheckboxState(checkbox, input, references);
              if (input.checked && settings.markWhenChecked == checkbox) {
                tr.classList.add("checked");
              }
              td.appendChild(input);
              tr.appendChild(td);
            }
          }
        } else if (column === "References") {
          td = document.createElement("TD");
          td.innerHTML = highlightFilter(references.map(r => r[0]).join(", "));
          tr.appendChild(td);
        } else if (column === "Quantity" && settings.bommode == "grouped") {
          // Quantity
          td = document.createElement("TD");
          td.textContent = references.length;
          tr.appendChild(td);
        } else {
          // All the other fields
          var field_index = config.fields.indexOf(column)
          if (field_index < 0)
            return;
          var valueSet = new Set();
          references.map(r => r[1]).forEach((id) => valueSet.add(pcbdata.bom.fields[id][field_index]));
          td = document.createElement("TD");
          var output = new Array();
          for (let item of valueSet) {
            const visible = highlightFilter(String(item));
            if (typeof item === 'string' && item.match(urlRegex)) {
              output.push(`<a href="${item}" target="_blank">${visible}</a>`);
            } else {
              output.push(visible);
            }
          }
          td.innerHTML = output.join(", ");
          tr.appendChild(td);
        }
      });
    }
    bom.appendChild(tr);
    var handler = createRowHighlightHandler(tr.id, references, netname);
    tr.onmousemove = handler;
    highlightHandlers.push({
      id: tr.id,
      handler: handler,
    });
    if (references !== null) {
      for (var refIndex of references.map(r => r[1])) {
        footprintIndexToHandler[refIndex] = handler;
      }
    }
    if (netname !== null) {
      netsToHandler[netname] = handler;
    }
    if ((filter || reflookup) && first) {
      handler();
      first = false;
    }
  }
  EventHandler.emitEvent(
    IBOM_EVENT_TYPES.BOM_BODY_CHANGE_EVENT, {
    filter: filter,
    reflookup: reflookup,
    checkboxes: settings.checkboxes,
    bommode: settings.bommode,
  });
}

function highlightPreviousRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[highlightHandlers.length - 1].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[0].id == currentHighlightedRowId) {
      highlightHandlers[highlightHandlers.length - 1].handler();
    } else {
      for (var i = 0; i < highlightHandlers.length - 1; i++) {
        if (highlightHandlers[i + 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function highlightNextRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[0].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[highlightHandlers.length - 1].id == currentHighlightedRowId) {
      highlightHandlers[0].handler();
    } else {
      for (var i = 1; i < highlightHandlers.length; i++) {
        if (highlightHandlers[i - 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function populateBomTable() {
  populateBomHeader();
  populateBomBody();
  setBomHandlers();
  resizableGrid(bomhead);
}

function footprintsClicked(footprintIndexes) {
  var lastClickedIndex = footprintIndexes.indexOf(lastClicked);
  for (var i = 1; i <= footprintIndexes.length; i++) {
    var refIndex = footprintIndexes[(lastClickedIndex + i) % footprintIndexes.length];
    if (refIndex in footprintIndexToHandler) {
      lastClicked = refIndex;
      footprintIndexToHandler[refIndex]();
      smoothScrollToRow(currentHighlightedRowId);
      break;
    }
  }
}

function netClicked(net) {
  if (net in netsToHandler) {
    netsToHandler[net]();
    smoothScrollToRow(currentHighlightedRowId);
  } else {
    clearHighlightedFootprints();
    highlightedNet = net;
    drawHighlights();
  }
}

function updateFilter(input) {
  filter = input.toLowerCase();
  populateBomTable();
}

function updateRefLookup(input) {
  reflookup = input.toLowerCase();
  populateBomTable();
}

function changeCanvasLayout(layout) {
  document.getElementById("fl-btn").classList.remove("depressed");
  document.getElementById("fb-btn").classList.remove("depressed");
  document.getElementById("bl-btn").classList.remove("depressed");
  switch (layout) {
    case 'F':
      document.getElementById("fl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(1);
      }
      break;
    case 'B':
      document.getElementById("bl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(0);
      }
      break;
    default:
      document.getElementById("fb-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.setSizes([50, 50]);
      }
  }
  settings.canvaslayout = layout;
  writeStorage("canvaslayout", layout);
  resizeAll();
  changeBomMode(settings.bommode);
}

function populateMetadata() {
  document.getElementById("title").innerHTML = pcbdata.metadata.title;
  document.getElementById("revision").innerHTML = "Rev: " + pcbdata.metadata.revision;
  document.getElementById("company").innerHTML = pcbdata.metadata.company;
  document.getElementById("filedate").innerHTML = pcbdata.metadata.date;
  if (pcbdata.metadata.title != "") {
    document.title = pcbdata.metadata.title + " BOM";
  }
  // Calculate board stats
  var fp_f = 0,
    fp_b = 0,
    pads_f = 0,
    pads_b = 0,
    pads_th = 0;
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    if (pcbdata.bom.skipped.includes(i)) continue;
    var mod = pcbdata.footprints[i];
    if (mod.layer == "F") {
      fp_f++;
    } else {
      fp_b++;
    }
    for (var pad of mod.pads) {
      if (pad.type == "th") {
        pads_th++;
      } else {
        if (pad.layers.includes("F")) {
          pads_f++;
        }
        if (pad.layers.includes("B")) {
          pads_b++;
        }
      }
    }
  }
  document.getElementById("stats-components-front").innerHTML = fp_f;
  document.getElementById("stats-components-back").innerHTML = fp_b;
  document.getElementById("stats-components-total").innerHTML = fp_f + fp_b;
  document.getElementById("stats-groups-front").innerHTML = pcbdata.bom.F.length;
  document.getElementById("stats-groups-back").innerHTML = pcbdata.bom.B.length;
  document.getElementById("stats-groups-total").innerHTML = pcbdata.bom.both.length;
  document.getElementById("stats-smd-pads-front").innerHTML = pads_f;
  document.getElementById("stats-smd-pads-back").innerHTML = pads_b;
  document.getElementById("stats-smd-pads-total").innerHTML = pads_f + pads_b;
  document.getElementById("stats-th-pads").innerHTML = pads_th;
  // Update version string
  document.getElementById("github-link").innerHTML = "InteractiveHtmlBom&nbsp;" +
    /^v\d+\.\d+/.exec(pcbdata.ibom_version)[0];
}

function changeBomLayout(layout) {
  document.getElementById("bom-btn").classList.remove("depressed");
  document.getElementById("lr-btn").classList.remove("depressed");
  document.getElementById("tb-btn").classList.remove("depressed");
  switch (layout) {
    case 'bom-only':
      document.getElementById("bom-btn").classList.add("depressed");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      document.getElementById("frontcanvas").style.display = "none";
      document.getElementById("backcanvas").style.display = "none";
      document.getElementById("bot").style.height = "";
      break;
    case 'top-bottom':
      document.getElementById("tb-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.remove("split-horizontal");
      document.getElementById("canvasdiv").classList.remove("split-horizontal");
      document.getElementById("frontcanvas").classList.add("split-horizontal");
      document.getElementById("backcanvas").classList.add("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        direction: "vertical",
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        onDragEnd: resizeAll
      });
      break;
    case 'left-right':
      document.getElementById("lr-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.add("split-horizontal");
      document.getElementById("canvasdiv").classList.add("split-horizontal");
      document.getElementById("frontcanvas").classList.remove("split-horizontal");
      document.getElementById("backcanvas").classList.remove("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        direction: "vertical",
        onDragEnd: resizeAll
      });
  }
  settings.bomlayout = layout;
  writeStorage("bomlayout", layout);
  changeCanvasLayout(settings.canvaslayout);
}

function changeBomMode(mode) {
  document.getElementById("bom-grouped-btn").classList.remove("depressed");
  document.getElementById("bom-ungrouped-btn").classList.remove("depressed");
  document.getElementById("bom-netlist-btn").classList.remove("depressed");
  var chkbxs = document.getElementsByClassName("visibility_checkbox");

  switch (mode) {
    case 'grouped':
      document.getElementById("bom-grouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'ungrouped':
      document.getElementById("bom-ungrouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'netlist':
      document.getElementById("bom-netlist-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = true;
      }
  }

  writeStorage("bommode", mode);
  if (mode != settings.bommode) {
    settings.bommode = mode;
    bomSortFunction = null;
    currentSortColumn = null;
    currentSortOrder = null;
    clearHighlightedFootprints();
  }
  populateBomTable();
}

function focusFilterField() {
  focusInputField(document.getElementById("filter"));
}

function focusRefLookupField() {
  focusInputField(document.getElementById("reflookup"));
}

function toggleBomCheckbox(bomrowid, checkboxnum) {
  if (!bomrowid || checkboxnum > settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum].childNodes[0];
  checkbox.checked = !checkbox.checked;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function checkBomCheckbox(bomrowid, checkboxname) {
  var checkboxnum = 0;
  while (checkboxnum < settings.checkboxes.length &&
    settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
    checkboxnum++;
  }
  if (!bomrowid || checkboxnum >= settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum + 1].childNodes[0];
  checkbox.checked = true;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function setBomCheckboxes(value) {
  writeStorage("bomCheckboxes", value);
  settings.checkboxes = value.split(",").map((e) => e.trim()).filter((e) => e);
  prepCheckboxes();
  populateMarkWhenCheckedOptions();
  setMarkWhenChecked(settings.markWhenChecked);
}

function setMarkWhenChecked(value) {
  writeStorage("markWhenChecked", value);
  settings.markWhenChecked = value;
  markedFootprints.clear();
  for (var ref of (value ? getStoredCheckboxRefs(value) : [])) {
    markedFootprints.add(ref);
  }
  populateBomTable();
  drawHighlights();
}

function prepCheckboxes() {
  var table = document.getElementById("checkbox-stats");
  while (table.childElementCount > 1) {
    table.removeChild(table.lastChild);
  }
  if (settings.checkboxes.length) {
    table.style.display = "";
  } else {
    table.style.display = "none";
  }
  for (var checkbox of settings.checkboxes) {
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    td.innerHTML = checkbox;
    tr.appendChild(td);
    td = document.createElement("TD");
    td.id = "checkbox-stats-" + checkbox;
    var progressbar = document.createElement("div");
    progressbar.classList.add("bar");
    td.appendChild(progressbar);
    var text = document.createElement("div");
    text.classList.add("text");
    td.appendChild(text);
    tr.appendChild(td);
    table.appendChild(tr);
    updateCheckboxStats(checkbox);
  }
}

function populateMarkWhenCheckedOptions() {
  var container = document.getElementById("markWhenCheckedContainer");

  if (settings.checkboxes.length == 0) {
    container.parentElement.style.display = "none";
    return;
  }

  container.innerHTML = '';
  container.parentElement.style.display = "inline-block";

  function createOption(name, displayName) {
    var id = "markWhenChecked-" + name;

    var div = document.createElement("div");
    div.classList.add("radio-container");

    var input = document.createElement("input");
    input.type = "radio";
    input.name = "markWhenChecked";
    input.value = name;
    input.id = id;
    input.onchange = () => setMarkWhenChecked(name);
    div.appendChild(input);

    // Preserve the selected element when the checkboxes change
    if (name == settings.markWhenChecked) {
      input.checked = true;
    }

    var label = document.createElement("label");
    label.innerHTML = displayName;
    label.htmlFor = id;
    div.appendChild(label);

    container.appendChild(div);
  }
  createOption("", "None");
  for (var checkbox of settings.checkboxes) {
    createOption(checkbox, checkbox);
  }
}

function updateCheckboxStats(checkbox) {
  var checked = getStoredCheckboxRefs(checkbox).size;
  var total = pcbdata.footprints.length - pcbdata.bom.skipped.length;
  var percent = checked * 100.0 / total;
  var td = document.getElementById("checkbox-stats-" + checkbox);
  td.firstChild.style.width = percent + "%";
  td.lastChild.innerHTML = checked + "/" + total + " (" + Math.round(percent) + "%)";
}

function constrain(number, min, max){
  return Math.min(Math.max(parseInt(number), min), max);
}

document.onkeydown = function (e) {
  switch (e.key) {
    case "n":
      if (document.activeElement.type == "text") {
        return;
      }
      if (currentHighlightedRowId !== null) {
        checkBomCheckbox(currentHighlightedRowId, "placed");
        highlightNextRow();
        e.preventDefault();
      }
      break;
    case "ArrowUp":
      highlightPreviousRow();
      e.preventDefault();
      break;
    case "ArrowDown":
      highlightNextRow();
      e.preventDefault();
      break;
    case "ArrowLeft":
    case "ArrowRight":
      if (document.activeElement.type != "text"){
        e.preventDefault();
        let boardRotationElement = document.getElementById("boardRotation")
        settings.boardRotation = parseInt(boardRotationElement.value);  // degrees / 5
        if (e.key == "ArrowLeft"){
            settings.boardRotation += 3;  // 15 degrees
        }
        else{
            settings.boardRotation -= 3;
        }
        settings.boardRotation = constrain(settings.boardRotation, boardRotationElement.min, boardRotationElement.max);
        boardRotationElement.value = settings.boardRotation
        setBoardRotation(settings.boardRotation);
      }
      break;
    default:
      break;
  }
  if (e.altKey) {
    switch (e.key) {
      case "f":
        focusFilterField();
        e.preventDefault();
        break;
      case "r":
        focusRefLookupField();
        e.preventDefault();
        break;
      case "z":
        changeBomLayout("bom-only");
        e.preventDefault();
        break;
      case "x":
        changeBomLayout("left-right");
        e.preventDefault();
        break;
      case "c":
        changeBomLayout("top-bottom");
        e.preventDefault();
        break;
      case "v":
        changeCanvasLayout("F");
        e.preventDefault();
        break;
      case "b":
        changeCanvasLayout("FB");
        e.preventDefault();
        break;
      case "n":
        changeCanvasLayout("B");
        e.preventDefault();
        break;
      default:
        break;
    }
    if (e.key >= '1' && e.key <= '9') {
      toggleBomCheckbox(currentHighlightedRowId, parseInt(e.key));
      e.preventDefault();
    }
  }
}

function hideNetlistButton() {
  document.getElementById("bom-ungrouped-btn").classList.remove("middle-button");
  document.getElementById("bom-ungrouped-btn").classList.add("right-most-button");
  document.getElementById("bom-netlist-btn").style.display = "none";
}

window.onload = function (e) {
  initUtils();
  initRender();
  initStorage();
  initDefaults();
  cleanGutters();
  populateMetadata();
  dbgdiv = document.getElementById("dbg");
  bom = document.getElementById("bombody");
  bomhead = document.getElementById("bomhead");
  filter = "";
  reflookup = "";
  if (!("nets" in pcbdata)) {
    hideNetlistButton();
  }
  initDone = true;
  setBomCheckboxes(document.getElementById("bomCheckboxes").value);
  // Triggers render
  changeBomLayout(settings.bomlayout);

  // Users may leave fullscreen without touching the checkbox. Uncheck.
  document.addEventListener('fullscreenchange', () => {
    if (!document.fullscreenElement)
      document.getElementById('fullscreenCheckbox').checked = false;
  });
}

window.onresize = resizeAll;
window.matchMedia("print").addListener(resizeAll);

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////
  </script>
</head>

<body>

<div id="topmostdiv" class="topmostdiv">
  <div id="top">
    <div style="float: right; height: 100%;">
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="menubtn"></button>
        <div class="menu-content">
          <label class="menu-label menu-label-top" style="width: calc(50% - 18px)">
            <input id="darkmodeCheckbox" type="checkbox" onchange="setDarkMode(this.checked)">
            Dark mode
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label menu-label-top" style="width: calc(50% - 17px); border-left: 0;">
            <input id="fullscreenCheckbox" type="checkbox" onchange="setFullscreen(this.checked)">
            Full Screen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="fabricationCheckbox" type="checkbox" checked onchange="fabricationVisible(this.checked)">
            Fab layer
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="silkscreenCheckbox" type="checkbox" checked onchange="silkscreenVisible(this.checked)">
            Silkscreen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="referencesCheckbox" type="checkbox" checked onchange="referencesVisible(this.checked)">
            References
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="valuesCheckbox" type="checkbox" checked onchange="valuesVisible(this.checked)">
            Values
          </label>
          <div id="tracksAndZonesCheckboxes">
            <label class="menu-label" style="width: calc(50% - 18px)">
              <input id="tracksCheckbox" type="checkbox" checked onchange="tracksVisible(this.checked)">
              Tracks
            </label><!-- This comment eats space! All of it!
            --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
              <input id="zonesCheckbox" type="checkbox" checked onchange="zonesVisible(this.checked)">
              Zones
            </label>
          </div>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="padsCheckbox" type="checkbox" checked onchange="padsVisible(this.checked)">
            Pads
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="dnpOutlineCheckbox" type="checkbox" checked onchange="dnpOutline(this.checked)">
            DNP outlined
          </label>
          <label class="menu-label">
            <input id="dragCheckbox" type="checkbox" checked onchange="setRedrawOnDrag(this.checked)">
            Continuous redraw on drag
          </label>
          <label class="menu-label">
            Highlight first pin
            <form id="highlightpin1">
              <div class="flexbox">
                <label>
                  <input type="radio" name="highlightpin1" value="none" onchange="setHighlightPin1('none')">
                  None
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="all" onchange="setHighlightPin1('all')">
                  All
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="selected" onchange="setHighlightPin1('selected')">
                  Selected
                </label>
              </div>
            </form>
          </label>
          <label class="menu-label">
            <span>Board rotation</span>
            <span style="float: right"><span id="rotationDegree">0</span>&#176;</span>
            <input id="boardRotation" type="range" min="-36" max="36" value="0" class="slider" oninput="setBoardRotation(this.value)">
          </label>
          <label class="menu-label">
            <input id="offsetBackRotationCheckbox" type="checkbox" onchange="setOffsetBackRotation(this.checked)">
            Offset back rotation
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Bom checkboxes</div>
            <input id="bomCheckboxes" class="menu-textbox" type=text
                   oninput="setBomCheckboxes(this.value)">
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Mark when checked</div>
            <div id="markWhenCheckedContainer"></div>
          </label>
          <label class="menu-label">
            <span class="shameless-plug">
              <span>Created using</span>
              <a id="github-link" target="blank" href="https://github.com/openscopeproject/InteractiveHtmlBom">InteractiveHtmlBom</a>
              <a target="blank" title="Mouse and keyboard help" href="https://github.com/openscopeproject/InteractiveHtmlBom/wiki/Usage#bom-page-mouse-actions" style="text-decoration: none;"><label class="help-link">?</label></a>
            </span>
          </label>
        </div>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="fl-btn" class="left-most-button" onclick="changeCanvasLayout('F')"
                title="Front only">F
        </button>
        <button id="fb-btn" class="middle-button" onclick="changeCanvasLayout('FB')"
                title="Front and Back">FB
        </button>
        <button id="bl-btn" class="right-most-button" onclick="changeCanvasLayout('B')"
                title="Back only">B
        </button>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="bom-btn" class="left-most-button" onclick="changeBomLayout('bom-only')"
                title="BOM only"></button>
        <button id="lr-btn" class="middle-button" onclick="changeBomLayout('left-right')"
                title="BOM left, drawings right"></button>
        <button id="tb-btn" class="right-most-button" onclick="changeBomLayout('top-bottom')"
                title="BOM top, drawings bot"></button>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="bom-grouped-btn" class="left-most-button" onclick="changeBomMode('grouped')"
                title="Grouped BOM"></button>
        <button id="bom-ungrouped-btn" class="middle-button" onclick="changeBomMode('ungrouped')"
                title="Ungrouped BOM"></button>
        <button id="bom-netlist-btn" class="right-most-button" onclick="changeBomMode('netlist')"
                title="Netlist"></button>
      </div>
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="statsbtn"></button>
        <div class="menu-content">
          <table class="stats">
            <tbody>
              <tr>
                <td width="40%">Board stats</td>
                <td>Front</td>
                <td>Back</td>
                <td>Total</td>
              </tr>
              <tr>
                <td>Components</td>
                <td id="stats-components-front">~</td>
                <td id="stats-components-back">~</td>
                <td id="stats-components-total">~</td>
              </tr>
              <tr>
                <td>Groups</td>
                <td id="stats-groups-front">~</td>
                <td id="stats-groups-back">~</td>
                <td id="stats-groups-total">~</td>
              </tr>
              <tr>
                <td>SMD pads</td>
                <td id="stats-smd-pads-front">~</td>
                <td id="stats-smd-pads-back">~</td>
                <td id="stats-smd-pads-total">~</td>
              </tr>
              <tr>
                <td>TH pads</td>
                <td colspan=3 id="stats-th-pads">~</td>
              </tr>
            </tbody>
          </table>
          <table class="stats">
            <col width="40%"/><col />
            <tbody id="checkbox-stats">
              <tr>
                <td colspan=2 style="border-top: 0">Checkboxes</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="iobtn"></button>
        <div class="menu-content">
          <div class="menu-label menu-label-top">
            <div style="margin-left: 5px;">Save board image</div>
            <div class="flexbox">
              <input id="render-save-width" class="menu-textbox" type="text" value="1000" placeholder="Width"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
              <span>X</span>
              <input id="render-save-height" class="menu-textbox" type="text" value="1000" placeholder="Height"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
            </div>
            <label>
              <input id="render-save-transparent" type="checkbox">
              Transparent background
            </label>
            <div class="flexbox">
              <button class="savebtn" onclick="saveImage('F')">Front</button>
              <button class="savebtn" onclick="saveImage('B')">Back</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Config and checkbox state</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveSettings()">Export</button>
              <button class="savebtn" onclick="loadSettings()">Import</button>
              <button class="savebtn" onclick="resetSettings()">Reset</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Save bom table as</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveBomTable('csv')">csv</button>
              <button class="savebtn" onclick="saveBomTable('txt')">txt</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="fileinfodiv" style="overflow: auto;">
      <table class="fileinfo">
        <tbody>
          <tr>
            <td id="title" class="title" style="width: 70%">
              Title
            </td>
            <td id="revision" class="title" style="width: 30%">
              Revision
            </td>
          </tr>
          <tr>
            <td id="company">
              Company
            </td>
            <td id="filedate">
              Date
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div id="bot" class="split" style="height: calc(100% - 80px)">
    <div id="bomdiv" class="split split-horizontal">
      <div style="width: 100%">
        <input id="reflookup" class="textbox searchbox reflookup hideonprint" type="text" placeholder="Ref lookup"
               oninput="updateRefLookup(this.value)">
        <input id="filter" class="textbox searchbox filter hideonprint" type="text" placeholder="Filter"
               oninput="updateFilter(this.value)">
        <div class="button-container hideonprint" style="float: left; margin: 0;">
          <button id="copy" title="Copy bom table to clipboard"
               onclick="saveBomTable('clipboard')"></button>
        </div>
      </div>
      <div id="dbg"></div>
      <table class="bom" id="bomtable">
        <thead id="bomhead">
        </thead>
        <tbody id="bombody">
        </tbody>
      </table>
    </div>
    <div id="canvasdiv" class="split split-horizontal">
      <div id="frontcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="F_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="F_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="F_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="F_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
      <div id="backcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="B_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="B_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="B_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="B_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
