<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive BOM for KiCAD</title>
  <style type="text/css">
:root {
  --pcb-edge-color: black;
  --pad-color: #878787;
  --pad-hole-color: #CCCCCC;
  --pad-color-highlight: #D04040;
  --pad-color-highlight-both: #D0D040;
  --pad-color-highlight-marked: #44a344;
  --pin1-outline-color: #ffb629;
  --pin1-outline-color-highlight: #ffb629;
  --pin1-outline-color-highlight-both: #fcbb39;
  --pin1-outline-color-highlight-marked: #fdbe41;
  --silkscreen-edge-color: #aa4;
  --silkscreen-polygon-color: #4aa;
  --silkscreen-text-color: #4aa;
  --fabrication-edge-color: #907651;
  --fabrication-polygon-color: #907651;
  --fabrication-text-color: #a27c24;
  --track-color: #def5f1;
  --track-color-highlight: #D04040;
  --zone-color: #def5f1;
  --zone-color-highlight: #d0404080;
}

html,
body {
  margin: 0px;
  height: 100%;
  font-family: Verdana, sans-serif;
}

.dark.topmostdiv {
  --pcb-edge-color: #eee;
  --pad-color: #808080;
  --pin1-outline-color: #ffa800;
  --pin1-outline-color-highlight: #ccff00;
  --track-color: #42524f;
  --zone-color: #42524f;
  background-color: #252c30;
  color: #eee;
}

button {
  background-color: #eee;
  border: 1px solid #888;
  color: black;
  height: 44px;
  width: 44px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  font-weight: bolder;
}

.dark button {
  /* This will be inverted */
  background-color: #c3b7b5;
}

button.depressed {
  background-color: #0a0;
  color: white;
}

.dark button.depressed {
  /* This will be inverted */
  background-color: #b3b;
}

button:focus {
  outline: 0;
}

button#tb-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.32 290.12h5.82M1.32 291.45h5.82' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 292.5v4.23M.26 292.63H8.2' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='1.35' y='295.73'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#lr-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.06 290.12H3.7m-2.64 1.33H3.7m-2.64 1.32H3.7m-2.64 1.3H3.7m-2.64 1.33H3.7' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 288.8v7.94m0-4.11h3.96' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='5.11' y='291.96'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#bom-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)' fill='none' stroke='%23000' stroke-width='.4'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' stroke-linejoin='round'/%3E%3Cpath d='M1.59 290.12h5.29M1.59 291.45h5.33M1.59 292.75h5.33M1.59 294.09h5.33M1.59 295.41h5.33'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-grouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m4 0h5m4 0h3M6.1 22h3m3.9 0h5m4 0h4m-16-8h4m4 0h4'/%3E%3Cpath stroke-linecap='null' d='M5 17.5h22M5 26.6h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-ungrouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m-4 8h3m-3 8h4'/%3E%3Cpath stroke-linecap='null' d='M5 13.5h22m-22 8h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-netlist-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg fill='none' stroke='%23000' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-width='2' d='M6 26l6-6v-8m13.8-6.3l-6 6v8'/%3E%3Ccircle cx='11.8' cy='9.5' r='2.8' stroke-width='2'/%3E%3Ccircle cx='19.8' cy='22.8' r='2.8' stroke-width='2'/%3E%3C/g%3E%3C/svg%3E");
}

button#copy {
  background-image: url("data:image/svg+xml,%3Csvg height='48' viewBox='0 0 48 48' width='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h48v48h-48z' fill='none'/%3E%3Cpath d='M32 2h-24c-2.21 0-4 1.79-4 4v28h4v-28h24v-4zm6 8h-22c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h22c2.21 0 4-1.79 4-4v-28c0-2.21-1.79-4-4-4zm0 32h-22v-28h22v28z'/%3E%3C/svg%3E");
  background-position: 6px 6px;
  background-repeat: no-repeat;
  background-size: 26px 26px;
  border-radius: 6px;
  height: 40px;
  width: 40px;
  margin: 10px 5px;
}

button#copy:active {
  box-shadow: inset 0px 0px 5px #6c6c6c;
}

textarea.clipboard-temp {
  position: fixed;
  top: 0;
  left: 0;
  width: 2em;
  height: 2em;
  padding: 0;
  border: None;
  outline: None;
  box-shadow: None;
  background: transparent;
}

.left-most-button {
  border-right: 0;
  border-top-left-radius: 6px;
  border-bottom-left-radius: 6px;
}

.middle-button {
  border-right: 0;
}

.right-most-button {
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
}

.button-container {
  font-size: 0;
  margin: 10px 10px 10px 0px;
}

.dark .button-container {
  filter: invert(1);
}

.button-container button {
  background-size: 32px 32px;
  background-position: 5px 5px;
  background-repeat: no-repeat;
}

@media print {
  .hideonprint {
    display: none;
  }
}

canvas {
  cursor: crosshair;
}

canvas:active {
  cursor: grabbing;
}

.fileinfo {
  width: 100%;
  max-width: 1000px;
  border: none;
  padding: 5px;
}

.fileinfo .title {
  font-size: 20pt;
  font-weight: bold;
}

.fileinfo td {
  overflow: hidden;
  white-space: nowrap;
  max-width: 1px;
  width: 50%;
  text-overflow: ellipsis;
}

.bom {
  border-collapse: collapse;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 10pt;
  table-layout: fixed;
  width: 100%;
  margin-top: 1px;
  position: relative;
}

.bom th,
.bom td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

.dark .bom th,
.dark .bom td {
  border: 1px solid #777;
}

.bom th {
  background-color: #CCCCCC;
  background-clip: padding-box;
}

.dark .bom th {
  background-color: #3b4749;
}

.bom tr.highlighted:nth-child(n) {
  background-color: #cfc;
}

.dark .bom tr.highlighted:nth-child(n) {
  background-color: #226022;
}

.bom tr:nth-child(even) {
  background-color: #f2f2f2;
}

.dark .bom tr:nth-child(even) {
  background-color: #313b40;
}

.bom tr.checked {
  color: #1cb53d;
}

.dark .bom tr.checked {
  color: #2cce54;
}

.bom tr {
  transition: background-color 0.2s;
}

.bom .numCol {
  width: 30px;
}

.bom .value {
  width: 15%;
}

.bom .quantity {
  width: 65px;
}

.bom th .sortmark {
  position: absolute;
  right: 1px;
  top: 1px;
  margin-top: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #221 transparent;
  transform-origin: 50% 85%;
  transition: opacity 0.2s, transform 0.4s;
}

.dark .bom th .sortmark {
  filter: invert(1);
}

.bom th .sortmark.none {
  opacity: 0;
}

.bom th .sortmark.desc {
  transform: rotate(180deg);
}

.bom th:hover .sortmark.none {
  opacity: 0.5;
}

.bom .bom-checkbox {
  width: 30px;
  position: relative;
  user-select: none;
  -moz-user-select: none;
}

.bom .bom-checkbox:before {
  content: "";
  position: absolute;
  border-width: 15px;
  border-style: solid;
  border-color: #51829f transparent transparent transparent;
  visibility: hidden;
  top: -15px;
}

.bom .bom-checkbox:after {
  content: "Double click to set/unset all";
  position: absolute;
  color: white;
  top: -35px;
  left: -26px;
  background: #51829f;
  padding: 5px 15px;
  border-radius: 8px;
  white-space: nowrap;
  visibility: hidden;
}

.bom .bom-checkbox:hover:before,
.bom .bom-checkbox:hover:after {
  visibility: visible;
  transition: visibility 0.2s linear 1s;
}

.split {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  overflow-y: auto;
  overflow-x: hidden;
  background-color: inherit;
}

.split.split-horizontal,
.gutter.gutter-horizontal {
  height: 100%;
  float: left;
}

.gutter {
  background-color: #ddd;
  background-repeat: no-repeat;
  background-position: 50%;
  transition: background-color 0.3s;
}

.dark .gutter {
  background-color: #777;
}

.gutter.gutter-horizontal {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');
  cursor: ew-resize;
  width: 5px;
}

.gutter.gutter-vertical {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=');
  cursor: ns-resize;
  height: 5px;
}

.searchbox {
  float: left;
  height: 40px;
  margin: 10px 5px;
  padding: 12px 32px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 18px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 6px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABNklEQVQ4T8XSMUvDQBQH8P/LElFa/AIZHcTBQSz0I/gFstTBRR2KUC4ldDxw7h0Bl3RRUATxi4iiODgoiLNrbQYp5J6cpJJqomkX33Z37/14d/dIa33MzDuYI4johOI4XhyNRteO46zNYjDzAxE1yBZprVeZ+QbAUhXEGJMA2Ox2u4+fQIa0mPmsCgCgJYQ4t7lfgF0opQYAdv9ABkKI/UnOFCClXKjX61cA1osQY8x9kiRNKeV7IWA3oyhaSdP0FkAtjxhj3hzH2RBCPOf3pzqYHCilfAAX+URm9oMguPzeWSGQvUcMYC8rOBJCHBRdqxTo9/vbRHRqi8bj8XKv1xvODbiuW2u32/bvf0SlDv4XYOY7z/Mavu+nM1+BmQ+NMc0wDF/LprP0DbTWW0T00ul0nn4b7Q87+X4Qmfiq2wAAAABJRU5ErkJggg==');
  background-position: 10px 10px;
  background-repeat: no-repeat;
}

.dark .searchbox {
  background-color: #111;
  color: #eee;
}

.searchbox::placeholder {
  color: #ccc;
}

.dark .searchbox::placeholder {
  color: #666;
}

.filter {
  width: calc(60% - 64px);
}

.reflookup {
  width: calc(40% - 10px);
}

input[type=text]:focus {
  background-color: white;
  border: 1px solid #333;
}

.dark input[type=text]:focus {
  background-color: #333;
  border: 1px solid #ccc;
}

mark.highlight {
  background-color: #5050ff;
  color: #fff;
  padding: 2px;
  border-radius: 6px;
}

.dark mark.highlight {
  background-color: #76a6da;
  color: #111;
}

.menubtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 20 20'%3E%3Cpath fill='none' d='M0 0h20v20H0V0z'/%3E%3Cpath d='M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z'/%3E%3C/svg%3E%0A");
  background-position: center;
  background-repeat: no-repeat;
}

.statsbtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg width='36' height='36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 6h28v24H4V6zm0 8h28v8H4m9-16v24h10V5.8' fill='none' stroke='%23000' stroke-width='2'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.iobtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36'%3E%3Cpath fill='none' stroke='%23000' stroke-width='2' d='M3 33v-7l6.8-7h16.5l6.7 7v7H3zM3.2 26H33M21 9l5-5.9 5 6h-2.5V15h-5V9H21zm-4.9 0l-5 6-5-6h2.5V3h5v6h2.5z'/%3E%3Cpath fill='none' stroke='%23000' d='M6.1 29.5H10'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.visbtn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath fill='none' stroke='%23333' d='M2.5 4.5h5v15h-5zM9.5 4.5h5v15h-5zM16.5 4.5h5v15h-5z'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
  padding: 15px;
}

#vismenu-content {
  left: 0px;
  font-family: Verdana, sans-serif;
}

.dark .statsbtn,
.dark .savebtn,
.dark .menubtn,
.dark .iobtn,
.dark .visbtn {
  filter: invert(1);
}

.flexbox {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.savebtn {
  background-color: #d6d6d6;
  width: auto;
  height: 30px;
  flex-grow: 1;
  margin: 5px;
  border-radius: 4px;
}

.savebtn:active {
  background-color: #0a0;
  color: white;
}

.dark .savebtn:active {
  /* This will be inverted */
  background-color: #b3b;
}

.stats {
  border-collapse: collapse;
  font-size: 12pt;
  table-layout: fixed;
  width: 100%;
  min-width: 450px;
}

.dark .stats td {
  border: 1px solid #bbb;
}

.stats td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

#checkbox-stats div {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

#checkbox-stats .bar {
  background-color: rgba(28, 251, 0, 0.6);
}

.menu {
  position: relative;
  display: inline-block;
  margin: 10px 10px 10px 0px;
}

.menu-content {
  font-size: 12pt !important;
  text-align: left !important;
  font-weight: normal !important;
  display: none;
  position: absolute;
  background-color: white;
  right: 0;
  min-width: 300px;
  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
  z-index: 100;
  padding: 8px;
}

.dark .menu-content {
  background-color: #111;
}

.menu:hover .menu-content {
  display: block;
}

.menu:hover .menubtn,
.menu:hover .iobtn,
.menu:hover .statsbtn {
  background-color: #eee;
}

.menu-label {
  display: inline-block;
  padding: 8px;
  border: 1px solid #ccc;
  border-top: 0;
  width: calc(100% - 18px);
}

.menu-label-top {
  border-top: 1px solid #ccc;
}

.menu-textbox {
  float: left;
  height: 24px;
  margin: 10px 5px;
  padding: 5px 5px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 14px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 4px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  width: calc(100% - 10px);
}

.menu-textbox.invalid,
.dark .menu-textbox.invalid {
  color: red;
}

.dark .menu-textbox {
  background-color: #222;
  color: #eee;
}

.radio-container {
  margin: 4px;
}

.topmostdiv {
  width: 100%;
  height: 100%;
  background-color: white;
  transition: background-color 0.3s;
}

#top {
  height: 78px;
  border-bottom: 2px solid black;
}

.dark #top {
  border-bottom: 2px solid #ccc;
}

#dbg {
  display: block;
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #aaa;
}

::-webkit-scrollbar-thumb {
  background: #666;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  margin: 3px 0;
  padding: 0;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
  border-radius: 3px;
}

.slider:hover {
  opacity: 1;
}

.slider:focus {
  outline: none;
}

.slider::-webkit-slider-runnable-track {
  -webkit-appearance: none;
  width: 100%;
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
  border: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin-top: -4px;
}

.dark .slider::-webkit-slider-thumb {
  background: #3d3;
}

.slider::-moz-range-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
}

.slider::-moz-range-track {
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
}

.dark .slider::-moz-range-thumb {
  background: #3d3;
}

.slider::-ms-track {
  width: 100%;
  height: 8px;
  border-width: 3px 0;
  background: transparent;
  border-color: transparent;
  color: transparent;
  transition: opacity .2s;
}

.slider::-ms-fill-lower {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-fill-upper {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin: 0;
}

.shameless-plug {
  font-size: 0.8em;
  text-align: center;
  display: block;
}

a {
  color: #0278a4;
}

.dark a {
  color: #00b9fd;
}

#frontcanvas,
#backcanvas {
  touch-action: none;
}

.placeholder {
  border: 1px dashed #9f9fda !important;
  background-color: #edf2f7 !important;
}

.dragging {
  z-index: 999;
}

.dark .dragging>table>tbody>tr {
  background-color: #252c30;
}

.dark .placeholder {
  filter: invert(1);
}

.column-spacer {
  top: 0;
  left: 0;
  width: calc(100% - 4px);
  position: absolute;
  cursor: pointer;
  user-select: none;
  height: 100%;
}

.column-width-handle {
  top: 0;
  right: 0;
  width: 4px;
  position: absolute;
  cursor: col-resize;
  user-select: none;
  height: 100%;
}

.column-width-handle:hover {
  background-color: #4f99bd;
}

.help-link {
  border: 1px solid #0278a4;
  padding-inline: 0.3rem;
  border-radius: 3px;
  cursor: pointer;
}

.dark .help-link {
  border: 1px solid #00b9fd;
}

.bom-color {
  width: 20%;
}

.color-column input {
  width: 1.6rem;
  height: 1rem;
  border: 1px solid black;
  cursor: pointer;
  padding: 0;
}

/* removes default styling from input color element */
::-webkit-color-swatch {
  border: none;
}

::-webkit-color-swatch-wrapper {
  padding: 0;
}

::-moz-color-swatch,
::-moz-focus-inner {
  border: none;
}

::-moz-focus-inner {
  padding: 0;
}

  </style>
  <script type="text/javascript" >
///////////////////////////////////////////////
/*
  Split.js - v1.3.5
  MIT License
  https://github.com/nathancahill/Split.js
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Split=t()}(this,function(){"use strict";var e=window,t=e.document,n="addEventListener",i="removeEventListener",r="getBoundingClientRect",s=function(){return!1},o=e.attachEvent&&!e[n],a=["","-webkit-","-moz-","-o-"].filter(function(e){var n=t.createElement("div");return n.style.cssText="width:"+e+"calc(9px)",!!n.style.length}).shift()+"calc",l=function(e){return"string"==typeof e||e instanceof String?t.querySelector(e):e};return function(u,c){function z(e,t,n){var i=A(y,t,n);Object.keys(i).forEach(function(t){return e.style[t]=i[t]})}function h(e,t){var n=B(y,t);Object.keys(n).forEach(function(t){return e.style[t]=n[t]})}function f(e){var t=E[this.a],n=E[this.b],i=t.size+n.size;t.size=e/this.size*i,n.size=i-e/this.size*i,z(t.element,t.size,this.aGutterSize),z(n.element,n.size,this.bGutterSize)}function m(e){var t;this.dragging&&((t="touches"in e?e.touches[0][b]-this.start:e[b]-this.start)<=E[this.a].minSize+M+this.aGutterSize?t=E[this.a].minSize+this.aGutterSize:t>=this.size-(E[this.b].minSize+M+this.bGutterSize)&&(t=this.size-(E[this.b].minSize+this.bGutterSize)),f.call(this,t),c.onDrag&&c.onDrag())}function g(){var e=E[this.a].element,t=E[this.b].element;this.size=e[r]()[y]+t[r]()[y]+this.aGutterSize+this.bGutterSize,this.start=e[r]()[G]}function d(){var t=this,n=E[t.a].element,r=E[t.b].element;t.dragging&&c.onDragEnd&&c.onDragEnd(),t.dragging=!1,e[i]("mouseup",t.stop),e[i]("touchend",t.stop),e[i]("touchcancel",t.stop),t.parent[i]("mousemove",t.move),t.parent[i]("touchmove",t.move),delete t.stop,delete t.move,n[i]("selectstart",s),n[i]("dragstart",s),r[i]("selectstart",s),r[i]("dragstart",s),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",t.gutter.style.cursor="",t.parent.style.cursor=""}function S(t){var i=this,r=E[i.a].element,o=E[i.b].element;!i.dragging&&c.onDragStart&&c.onDragStart(),t.preventDefault(),i.dragging=!0,i.move=m.bind(i),i.stop=d.bind(i),e[n]("mouseup",i.stop),e[n]("touchend",i.stop),e[n]("touchcancel",i.stop),i.parent[n]("mousemove",i.move),i.parent[n]("touchmove",i.move),r[n]("selectstart",s),r[n]("dragstart",s),o[n]("selectstart",s),o[n]("dragstart",s),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",i.gutter.style.cursor=j,i.parent.style.cursor=j,g.call(i)}function v(e){e.forEach(function(t,n){if(n>0){var i=F[n-1],r=E[i.a],s=E[i.b];r.size=e[n-1],s.size=t,z(r.element,r.size,i.aGutterSize),z(s.element,s.size,i.bGutterSize)}})}function p(){F.forEach(function(e){e.parent.removeChild(e.gutter),E[e.a].element.style[y]="",E[e.b].element.style[y]=""})}void 0===c&&(c={});var y,b,G,E,w=l(u[0]).parentNode,D=e.getComputedStyle(w).flexDirection,U=c.sizes||u.map(function(){return 100/u.length}),k=void 0!==c.minSize?c.minSize:100,x=Array.isArray(k)?k:u.map(function(){return k}),L=void 0!==c.gutterSize?c.gutterSize:10,M=void 0!==c.snapOffset?c.snapOffset:30,O=c.direction||"horizontal",j=c.cursor||("horizontal"===O?"ew-resize":"ns-resize"),C=c.gutter||function(e,n){var i=t.createElement("div");return i.className="gutter gutter-"+n,i},A=c.elementStyle||function(e,t,n){var i={};return"string"==typeof t||t instanceof String?i[e]=t:i[e]=o?t+"%":a+"("+t+"% - "+n+"px)",i},B=c.gutterStyle||function(e,t){return n={},n[e]=t+"px",n;var n};"horizontal"===O?(y="width","clientWidth",b="clientX",G="left","paddingLeft"):"vertical"===O&&(y="height","clientHeight",b="clientY",G="top","paddingTop");var F=[];return E=u.map(function(e,t){var i,s={element:l(e),size:U[t],minSize:x[t]};if(t>0&&(i={a:t-1,b:t,dragging:!1,isFirst:1===t,isLast:t===u.length-1,direction:O,parent:w},i.aGutterSize=L,i.bGutterSize=L,i.isFirst&&(i.aGutterSize=L/2),i.isLast&&(i.bGutterSize=L/2),"row-reverse"===D||"column-reverse"===D)){var a=i.a;i.a=i.b,i.b=a}if(!o&&t>0){var c=C(t,O);h(c,L),c[n]("mousedown",S.bind(i)),c[n]("touchstart",S.bind(i)),w.insertBefore(c,s.element),i.gutter=c}0===t||t===u.length-1?z(s.element,s.size,L/2):z(s.element,s.size,L);var f=s.element[r]()[y];return f<s.minSize&&(s.minSize=f),t>0&&F.push(i),s}),o?{setSizes:v,destroy:p}:{setSizes:v,getSizes:function(){return E.map(function(e){return e.size})},collapse:function(e){if(e===F.length){var t=F[e-1];g.call(t),o||f.call(t,t.size-t.bGutterSize)}else{var n=F[e];g.call(n),o||f.call(n,n.aGutterSize)}},destroy:p}}});

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////
/*!
 * PEP v0.4.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.PointerEventsPolyfill=b()}(this,function(){"use strict";function a(a,b){b=b||Object.create(null);var c=document.createEvent("Event");c.initEvent(a,b.bubbles||!1,b.cancelable||!1);
for(var d,e=2;e<m.length;e++)d=m[e],c[d]=b[d]||n[e];c.buttons=b.buttons||0;
var f=0;return f=b.pressure&&c.buttons?b.pressure:c.buttons?.5:0,c.x=c.clientX,c.y=c.clientY,c.pointerId=b.pointerId||0,c.width=b.width||0,c.height=b.height||0,c.pressure=f,c.tiltX=b.tiltX||0,c.tiltY=b.tiltY||0,c.twist=b.twist||0,c.tangentialPressure=b.tangentialPressure||0,c.pointerType=b.pointerType||"",c.hwTimestamp=b.hwTimestamp||0,c.isPrimary=b.isPrimary||!1,c}function b(){this.array=[],this.size=0}function c(a,b,c,d){this.addCallback=a.bind(d),this.removeCallback=b.bind(d),this.changedCallback=c.bind(d),A&&(this.observer=new A(this.mutationWatcher.bind(this)))}function d(a){return"body /shadow-deep/ "+e(a)}function e(a){return'[touch-action="'+a+'"]'}function f(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+"; }"}function g(){if(F){D.forEach(function(a){String(a)===a?(E+=e(a)+f(a)+"\n",G&&(E+=d(a)+f(a)+"\n")):(E+=a.selectors.map(e)+f(a.rule)+"\n",G&&(E+=a.selectors.map(d)+f(a.rule)+"\n"))});var a=document.createElement("style");a.textContent=E,document.head.appendChild(a)}}function h(){if(!window.PointerEvent){if(window.PointerEvent=a,window.navigator.msPointerEnabled){var b=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:b,enumerable:!0}),u.registerSource("ms",_)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",N),void 0!==window.ontouchstart&&u.registerSource("touch",V);u.register(document)}}function i(a){if(!u.pointermap.has(a)){var b=new Error("InvalidPointerId");throw b.name="InvalidPointerId",b}}function j(a){for(var b=a.parentNode;b&&b!==a.ownerDocument;)b=b.parentNode;if(!b){var c=new Error("InvalidStateError");throw c.name="InvalidStateError",c}}function k(a){var b=u.pointermap.get(a);return 0!==b.buttons}function l(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:W},releasePointerCapture:{value:X},hasPointerCapture:{value:Y}})}
var m=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],n=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],o=window.Map&&window.Map.prototype.forEach,p=o?Map:b;b.prototype={set:function(a,b){return void 0===b?this["delete"](a):(this.has(a)||this.size++,void(this.array[a]=b))},has:function(a){return void 0!==this.array[a]},"delete":function(a){this.has(a)&&(delete this.array[a],this.size--)},get:function(a){return this.array[a]},clear:function(){this.array.length=0,this.size=0},forEach:function(a,b){return this.array.forEach(function(c,d){a.call(b,c,d,this)},this)}};var q=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],r=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},t="undefined"!=typeof SVGElementInstance,u={pointermap:new p,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(a,b){var c=b,d=c.events;d&&(d.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},register:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.register.call(b,a)},unregister:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.unregister.call(b,a)},contains:function(a,b){try{return a.contains(b)}catch(c){return!1}},down:function(a){a.bubbles=!0,this.fireEvent("pointerdown",a)},move:function(a){a.bubbles=!0,this.fireEvent("pointermove",a)},up:function(a){a.bubbles=!0,this.fireEvent("pointerup",a)},enter:function(a){a.bubbles=!1,this.fireEvent("pointerenter",a)},leave:function(a){a.bubbles=!1,this.fireEvent("pointerleave",a)},over:function(a){a.bubbles=!0,this.fireEvent("pointerover",a)},out:function(a){a.bubbles=!0,this.fireEvent("pointerout",a)},cancel:function(a){a.bubbles=!0,this.fireEvent("pointercancel",a)},leaveOut:function(a){this.out(a),this.propagate(a,this.leave,!1)},enterOver:function(a){this.over(a),this.propagate(a,this.enter,!0)},eventHandler:function(a){if(!a._handledByPE){var b=a.type,c=this.eventMap&&this.eventMap[b];c&&c(a),a._handledByPE=!0}},listen:function(a,b){b.forEach(function(b){this.addEvent(a,b)},this)},unlisten:function(a,b){b.forEach(function(b){this.removeEvent(a,b)},this)},addEvent:function(a,b){a.addEventListener(b,this.boundHandler)},removeEvent:function(a,b){a.removeEventListener(b,this.boundHandler)},makeEvent:function(b,c){this.captureInfo[c.pointerId]&&(c.relatedTarget=null);var d=new a(b,c);return c.preventDefault&&(d.preventDefault=c.preventDefault),d._target=d._target||c.target,d},fireEvent:function(a,b){var c=this.makeEvent(a,b);return this.dispatchEvent(c)},cloneEvent:function(a){for(var b,c=Object.create(null),d=0;d<q.length;d++)b=q[d],c[b]=a[b]||r[d],!t||"target"!==b&&"relatedTarget"!==b||c[b]instanceof SVGElementInstance&&(c[b]=c[b].correspondingUseElement);return a.preventDefault&&(c.preventDefault=function(){a.preventDefault()}),c},getTarget:function(a){var b=this.captureInfo[a.pointerId];return b?a._target!==b&&a.type in s?void 0:b:a._target},propagate:function(a,b,c){for(var d=a.target,e=[];d!==document&&!d.contains(a.relatedTarget);) if(e.push(d),d=d.parentNode,!d)return;c&&e.reverse(),e.forEach(function(c){a.target=c,b.call(this,a)},this)},setCapture:function(b,c,d){this.captureInfo[b]&&this.releaseCapture(b,d),this.captureInfo[b]=c,this.implicitRelease=this.releaseCapture.bind(this,b,d),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var e=new a("gotpointercapture");e.pointerId=b,e._target=c,d||this.asyncDispatchEvent(e)},releaseCapture:function(b,c){var d=this.captureInfo[b];if(d){this.captureInfo[b]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var e=new a("lostpointercapture");e.pointerId=b,e._target=d,c||this.asyncDispatchEvent(e)}},dispatchEvent:/*scope.external.dispatchEvent || */function(a){var b=this.getTarget(a);if(b)return b.dispatchEvent(a)},asyncDispatchEvent:function(a){requestAnimationFrame(this.dispatchEvent.bind(this,a))}};u.boundHandler=u.eventHandler.bind(u);var v={shadow:function(a){if(a)return a.shadowRoot||a.webkitShadowRoot},canTarget:function(a){return a&&Boolean(a.elementFromPoint)},targetingShadow:function(a){var b=this.shadow(a);if(this.canTarget(b))return b},olderShadow:function(a){var b=a.olderShadowRoot;if(!b){var c=a.querySelector("shadow");c&&(b=c.olderShadowRoot)}return b},allShadows:function(a){for(var b=[],c=this.shadow(a);c;)b.push(c),c=this.olderShadow(c);return b},searchRoot:function(a,b,c){if(a){var d,e,f=a.elementFromPoint(b,c);for(e=this.targetingShadow(f);e;){if(d=e.elementFromPoint(b,c)){var g=this.targetingShadow(d);return this.searchRoot(g,b,c)||d} e=this.olderShadow(e)} return f}},owner:function(a){
for(var b=a;b.parentNode;)b=b.parentNode;
return b.nodeType!==Node.DOCUMENT_NODE&&b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(b=document),b},findTarget:function(a){var b=a.clientX,c=a.clientY,d=this.owner(a.target);
return d.elementFromPoint(b,c)||(d=document),this.searchRoot(d,b,c)}},w=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Array.prototype.map.call.bind(Array.prototype.map),y=Array.prototype.slice.call.bind(Array.prototype.slice),z=Array.prototype.filter.call.bind(Array.prototype.filter),A=window.MutationObserver||window.WebKitMutationObserver,B="[touch-action]",C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};c.prototype={watchSubtree:function(a){
//
this.observer&&v.canTarget(a)&&this.observer.observe(a,C)},enableOnSubtree:function(a){this.watchSubtree(a),a===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(a)},installNewSubtree:function(a){w(this.findElements(a),this.addElement,this)},findElements:function(a){return a.querySelectorAll?a.querySelectorAll(B):[]},removeElement:function(a){this.removeCallback(a)},addElement:function(a){this.addCallback(a)},elementChanged:function(a,b){this.changedCallback(a,b)},concatLists:function(a,b){return a.concat(y(b))},
installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(a){return a.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(a){
var b=x(a,this.findElements,this);
return b.push(z(a,this.isElement)),b.reduce(this.concatLists,[])},mutationWatcher:function(a){a.forEach(this.mutationHandler,this)},mutationHandler:function(a){if("childList"===a.type){var b=this.flattenMutationTree(a.addedNodes);b.forEach(this.addElement,this);var c=this.flattenMutationTree(a.removedNodes);c.forEach(this.removeElement,this)}else"attributes"===a.type&&this.elementChanged(a.target,a.oldValue)}};var D=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],E="",F=window.PointerEvent||window.MSPointerEvent,G=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,H=u.pointermap,I=25,J=[1,4,2,8,16],K=!1;try{K=1===new MouseEvent("test",{buttons:1}).buttons}catch(L){}
var M,N={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},lastTouches:[],
isEventSimulatedFromTouch:function(a){for(var b,c=this.lastTouches,d=a.clientX,e=a.clientY,f=0,g=c.length;f<g&&(b=c[f]);f++){
var h=Math.abs(d-b.x),i=Math.abs(e-b.y);if(h<=I&&i<=I)return!0}},prepareEvent:function(a){var b=u.cloneEvent(a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=this.POINTER_ID,b.isPrimary=!0,b.pointerType=this.POINTER_TYPE,b},prepareButtonsForMove:function(a,b){var c=H.get(this.POINTER_ID);
0!==b.which&&c?a.buttons=c.buttons:a.buttons=0,b.buttons=a.buttons},mousedown:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);K||(c.buttons=J[c.button],b&&(c.buttons|=b.buttons),a.buttons=c.buttons),H.set(this.POINTER_ID,a),b&&0!==b.buttons?u.move(c):u.down(c)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.move(b)}},mouseup:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);if(!K){var d=J[c.button];
c.buttons=b?b.buttons&~d:0,a.buttons=c.buttons}H.set(this.POINTER_ID,a),
c.buttons&=~J[c.button],0===c.buttons?u.up(c):u.move(c)}},mouseover:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.enterOver(b)}},mouseout:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,u.leaveOut(b)}},cancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.deactivateMouse()},deactivateMouse:function(){H["delete"](this.POINTER_ID)}},O=u.captureInfo,P=v.findTarget.bind(v),Q=v.allShadows.bind(v),R=u.pointermap,S=2500,T=200,U="touch-action",V={events:["touchstart","touchmove","touchend","touchcancel"],register:function(a){M.enableOnSubtree(a)},unregister:function(){},elementAdded:function(a){var b=a.getAttribute(U),c=this.touchActionToScrollType(b);c&&(a._scrollType=c,u.listen(a,this.events),
Q(a).forEach(function(a){a._scrollType=c,u.listen(a,this.events)},this))},elementRemoved:function(a){a._scrollType=void 0,u.unlisten(a,this.events),
Q(a).forEach(function(a){a._scrollType=void 0,u.unlisten(a,this.events)},this)},elementChanged:function(a,b){var c=a.getAttribute(U),d=this.touchActionToScrollType(c),e=this.touchActionToScrollType(b);
d&&e?(a._scrollType=d,Q(a).forEach(function(a){a._scrollType=d},this)):e?this.elementRemoved(a):d&&this.elementAdded(a)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(a){var b=a,c=this.scrollTypes;return"none"===b?"none":b===c.XSCROLLER?"X":b===c.YSCROLLER?"Y":c.SCROLLER.exec(b)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){
(0===R.size||1===R.size&&R.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(a,T)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var b=0;return"touchstart"!==a&&"touchmove"!==a||(b=1),b},touchToPointer:function(a){var b=this.currentTouchEvent,c=u.cloneEvent(a),d=c.pointerId=a.identifier+2;c.target=O[d]||P(c),c.bubbles=!0,c.cancelable=!0,c.detail=this.clickCount,c.button=0,c.buttons=this.typeToButtons(b.type),c.width=2*(a.radiusX||a.webkitRadiusX||0),c.height=2*(a.radiusY||a.webkitRadiusY||0),c.pressure=a.force||a.webkitForce||.5,c.isPrimary=this.isPrimaryTouch(a),c.pointerType=this.POINTER_TYPE,
c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey;
var e=this;return c.preventDefault=function(){e.scrolling=!1,e.firstXY=null,b.preventDefault()},c},processTouches:function(a,b){var c=a.changedTouches;this.currentTouchEvent=a;for(var d,e=0;e<c.length;e++)d=c[e],b.call(this,this.touchToPointer(d))},
shouldScroll:function(a){if(this.firstXY){var b,c=a.currentTarget._scrollType;if("none"===c)
b=!1;else if("XY"===c)
b=!0;else{var d=a.changedTouches[0],e=c,f="Y"===c?"X":"Y",g=Math.abs(d["client"+e]-this.firstXY[e]),h=Math.abs(d["client"+f]-this.firstXY[f]);
b=g>=h}return this.firstXY=null,b}},findTouch:function(a,b){for(var c,d=0,e=a.length;d<e&&(c=a[d]);d++)if(c.identifier===b)return!0},
vacuumTouches:function(a){var b=a.touches;
if(R.size>=b.length){var c=[];R.forEach(function(a,d){
if(1!==d&&!this.findTouch(b,d-2)){var e=a.out;c.push(e)}},this),c.forEach(this.cancelOut,this)}},touchstart:function(a){this.vacuumTouches(a),this.setPrimaryTouch(a.changedTouches[0]),this.dedupSynthMouse(a),this.scrolling||(this.clickCount++,this.processTouches(a,this.overDown))},overDown:function(a){R.set(a.pointerId,{target:a.target,out:a,outTarget:a.target}),u.enterOver(a),u.down(a)},touchmove:function(a){this.scrolling||(this.shouldScroll(a)?(this.scrolling=!0,this.touchcancel(a)):(a.preventDefault(),this.processTouches(a,this.moveOverOut)))},moveOverOut:function(a){var b=a,c=R.get(b.pointerId);
if(c){var d=c.out,e=c.outTarget;u.move(b),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,
d.target=e,b.target?(u.leaveOut(d),u.enterOver(b)):(
b.target=e,b.relatedTarget=null,this.cancelOut(b))),c.out=b,c.outTarget=b.target}},touchend:function(a){this.dedupSynthMouse(a),this.processTouches(a,this.upOut)},upOut:function(a){this.scrolling||(u.up(a),u.leaveOut(a)),this.cleanUpPointer(a)},touchcancel:function(a){this.processTouches(a,this.cancelOut)},cancelOut:function(a){u.cancel(a),u.leaveOut(a),this.cleanUpPointer(a)},cleanUpPointer:function(a){R["delete"](a.pointerId),this.removePrimaryPointer(a)},
dedupSynthMouse:function(a){var b=N.lastTouches,c=a.changedTouches[0];
if(this.isPrimaryTouch(c)){
var d={x:c.clientX,y:c.clientY};b.push(d);var e=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}.bind(null,b,d);setTimeout(e,S)}}};M=new c(V.elementAdded,V.elementRemoved,V.elementChanged,V);var W,X,Y,Z=u.pointermap,$=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,_={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var b=a;return $&&(b=u.cloneEvent(a),b.pointerType=this.POINTER_TYPES[a.pointerType]),b},cleanup:function(a){Z["delete"](a)},MSPointerDown:function(a){Z.set(a.pointerId,a);var b=this.prepareEvent(a);u.down(b)},MSPointerMove:function(a){var b=this.prepareEvent(a);u.move(b)},MSPointerUp:function(a){var b=this.prepareEvent(a);u.up(b),this.cleanup(a.pointerId)},MSPointerOut:function(a){var b=this.prepareEvent(a);u.leaveOut(b)},MSPointerOver:function(a){var b=this.prepareEvent(a);u.enterOver(b)},MSPointerCancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.cleanup(a.pointerId)},MSLostPointerCapture:function(a){var b=u.makeEvent("lostpointercapture",a);u.dispatchEvent(b)},MSGotPointerCapture:function(a){var b=u.makeEvent("gotpointercapture",a);u.dispatchEvent(b)}},aa=window.navigator;aa.msPointerEnabled?(W=function(a){i(a),j(this),k(a)&&(u.setCapture(a,this,!0),this.msSetPointerCapture(a))},X=function(a){i(a),u.releaseCapture(a,!0),this.msReleasePointerCapture(a)}):(W=function(a){i(a),j(this),k(a)&&u.setCapture(a,this)},X=function(a){i(a),u.releaseCapture(a)}),Y=function(a){return!!u.captureInfo[a]},g(),h(),l();var ba={dispatcher:u,Installer:c,PointerEvent:a,PointerMap:p,targetFinding:v};return ba});

///////////////////////////////////////////////

///////////////////////////////////////////////
var config = {"dark_mode": false, "show_pads": true, "show_fabrication": false, "show_silkscreen": true, "highlight_pin1": "none", "redraw_on_drag": true, "board_rotation": 0, "checkboxes": "Sourced,Placed", "bom_view": "left-right", "layer_view": "FB", "offset_back_rotation": false, "kicad_text_formatting": true, "fields": ["Value", "Footprint"]}
///////////////////////////////////////////////

///////////////////////////////////////////////
var pcbdata = {"edges_bbox": {"minx": 120.3456, "miny": 64.11635, "maxx": 176.6566, "maxy": 145.89085}, "edges": [{"type": "segment", "start": [124.7521, 103.38435], "end": [124.6886, 102.81285], "width": 0.05}, {"type": "segment", "start": [153.7716, 69.03085], "end": [161.8361, 79.50835], "width": 0.05}, {"type": "arc", "start": [152.3479, 66.9592], "radius": 2.276307, "startangle": 127.01, "endangle": 187.01, "width": 0.05}, {"type": "segment", "start": [131.9276, 145.86585], "end": [131.9911, 124.91085], "width": 0.05}, {"type": "segment", "start": [160.8201, 122.87885], "end": [163.6776, 145.80235], "width": 0.05}, {"type": "segment", "start": [163.6776, 145.80235], "end": [131.9276, 145.86585], "width": 0.05}, {"type": "segment", "start": [161.8361, 79.50835], "end": [163.1696, 79.44485], "width": 0.05}, {"type": "arc", "start": [152.5454, 66.7098], "radius": 2.625051, "startangle": 2.15, "endangle": 62.15, "width": 0.05}, {"type": "arc", "start": [152.5334, 66.7766], "radius": 2.635441, "startangle": -89.31, "endangle": 0.69, "width": 0.05}, {"type": "segment", "start": [124.6886, 102.81285], "end": [120.3706, 98.05035], "width": 0.05}, {"type": "arc", "start": [151.4535, 106.3856], "radius": 26.869498, "startangle": 136.41, "endangle": 186.41, "width": 0.05}, {"type": "arc", "start": [215.6644, 168.3721], "radius": 118.758579, "startangle": -143.0, "endangle": -123.0, "width": 0.05}, {"type": "segment", "start": [163.1696, 79.44485], "end": [176.6316, 98.17735], "width": 0.05}, {"type": "segment", "start": [176.6316, 98.17735], "end": [160.8201, 122.87885], "width": 0.05}, {"type": "arc", "start": [152.5969, 66.6496], "radius": 2.508501, "startangle": 179.27, "endangle": 269.27, "width": 0.05}, {"type": "segment", "start": [120.3706, 98.05035], "end": [120.8151, 96.90735], "width": 0.05}], "drawings": {"silkscreen": {"F": [{"thickness": 0.1524, "svgpath": "M173.438394,100.140279L173.438394,99.927403L173.491613,99.820965L173.598051,99.714527L173.810927,99.661308L174.18346,99.661308L174.396336,99.714527L174.502775,99.820965L174.555994,99.927403L174.555994,100.140279L174.502775,100.246717L174.396336,100.353155L174.18346,100.406374L173.810927,100.406374L173.598051,100.353155L173.491613,100.246717L173.438394,100.140279M174.555994,99.182336L173.438394,99.182336L174.555994,98.543708L173.438394,98.543708"}, {"thickness": 0.1524, "svgpath": "M125.088211,91.706293L125.012947,91.706293L124.862421,91.63103L124.787158,91.555767L124.711895,91.40524L124.711895,91.254714L124.749527,91.14182L124.862421,90.953662L124.975316,90.840767L125.163474,90.727873L125.276368,90.690241L125.426894,90.690241L125.577421,90.765504L125.652684,90.840767L125.727947,90.991293L125.727947,91.066556M126.028999,91.217083L126.480578,91.668661M125.464526,92.233135L126.254789,91.442872M126.819262,92.534187L126.29242,93.061029M126.932157,92.044977L126.179526,92.421292L126.668736,92.910503"}, {"thickness": 0.16764, "svgpath": "M132.772329,138.041802L132.713788,137.983261L132.655247,137.866179L132.655247,137.573474L132.713788,137.456392L132.772329,137.397851L132.889411,137.33931L133.006493,137.33931L133.182116,137.397851L133.884607,138.100343L133.884607,137.33931M133.884607,136.929524L133.065034,136.285573M133.065034,136.929524L133.884607,136.285573M133.533362,135.875787L133.533362,135.290377M133.884607,135.992869L132.655247,135.583082L133.884607,135.173295M133.533362,134.82205L133.533362,134.23664M133.884607,134.939132L132.655247,134.529345L133.884607,134.119558M133.533362,133.768313L133.533362,133.182903M133.884607,133.885395L132.655247,133.475608L133.884607,133.065821M133.533362,131.777921L133.533362,131.192511M133.884607,131.895003L132.655247,131.485216L133.884607,131.075429M133.884607,130.49002L133.826067,130.607102L133.708985,130.665643L132.655247,130.665643M133.884607,130.021693L132.655247,130.021693M133.41628,129.904611L133.884607,129.553365M133.065034,129.553365L133.533362,130.021693M133.884607,128.499628L133.240657,128.499628L133.123575,128.558169L133.065034,128.675251L133.065034,128.909415L133.123575,129.026497M133.826067,128.499628L133.884607,128.61671L133.884607,128.909415L133.826067,129.026497L133.708985,129.085038L133.591903,129.085038L133.474821,129.026497L133.41628,128.909415L133.41628,128.61671L133.357739,128.499628M133.884607,127.738596L133.826067,127.855678L133.708985,127.914219L132.655247,127.914219M133.884607,127.270269L133.065034,127.270269M132.655247,127.270269L132.713788,127.32881L132.772329,127.270269L132.713788,127.211728L132.655247,127.270269L132.772329,127.270269M133.065034,126.684859L133.884607,126.684859M133.182116,126.684859L133.123575,126.626318L133.065034,126.509236L133.065034,126.333613L133.123575,126.216531L133.240657,126.15799L133.884607,126.15799M133.826067,125.104253L133.884607,125.221335L133.884607,125.455499L133.826067,125.572581L133.708985,125.631122L133.240657,125.631122L133.123575,125.572581L133.065034,125.455499L133.065034,125.221335L133.123575,125.104253L133.240657,125.045712L133.357739,125.045712L133.474821,125.631122M133.884607,123.406566L133.826067,123.523648L133.767526,123.582189L133.650444,123.64073L133.299198,123.64073L133.182116,123.582189L133.123575,123.523648L133.065034,123.406566L133.065034,123.230943L133.123575,123.113861L133.182116,123.05532L133.299198,122.996779L133.650444,122.996779L133.767526,123.05532L133.826067,123.113861L133.884607,123.230943L133.884607,123.406566M133.884607,122.469911L133.065034,122.469911M133.299198,122.469911L133.182116,122.41137L133.123575,122.352829L133.065034,122.235747L133.065034,122.118665M133.884607,120.772224L132.655247,120.772224L133.884607,120.069732L132.655247,120.069732M133.884607,119.484323L133.065034,119.484323M132.655247,119.484323L132.713788,119.542864L132.772329,119.484323L132.713788,119.425782L132.655247,119.484323L132.772329,119.484323M133.884607,118.898913L132.655247,118.898913L133.533362,118.489126L132.655247,118.079339L133.884607,118.079339M133.884607,117.49393L132.655247,117.49393M133.240657,117.49393L133.240657,116.791438M133.884607,116.791438L132.655247,116.791438"}, {"thickness": 0.1524, "svgpath": "M126.858505,89.421615L126.783241,89.421615L126.632715,89.346352L126.557452,89.271089L126.482189,89.120562L126.482189,88.970036L126.519821,88.857142L126.632715,88.668984L126.74561,88.556089L126.933768,88.443195L127.046662,88.405563L127.197188,88.405563L127.347715,88.480826L127.422978,88.556089L127.498241,88.706615L127.498241,88.781878M127.799293,88.932405L128.250872,89.383983M127.23482,89.948457L128.025083,89.158194M128.43903,89.572141L128.92824,90.061351L128.363767,90.098983L128.476661,90.211878L128.514293,90.324772L128.514293,90.400035L128.476661,90.51293L128.288504,90.701088L128.175609,90.738719L128.100346,90.738719L127.987451,90.701088L127.761662,90.475298L127.72403,90.362404L127.72403,90.287141"}, {"thickness": 0.12192, "svgpath": "M148.333339,78.201129L147.907587,78.201129L147.907587,77.307049"}, {"thickness": 0.1524, "svgpath": "M144.76017,83.681144L144.973046,83.681144L145.079484,83.734363L145.185922,83.840801L145.239141,84.053677L145.239141,84.42621L145.185922,84.639086L145.079484,84.745525L144.973046,84.798744L144.76017,84.798744L144.653732,84.745525L144.547294,84.639086L144.494075,84.42621L144.494075,84.053677L144.547294,83.840801L144.653732,83.734363L144.76017,83.681144M145.718113,84.798744L145.718113,83.681144L146.356741,84.798744L146.356741,83.681144"}, {"thickness": 0.1524, "svgpath": "M140.836207,76.057122L140.760943,76.057122L140.610417,75.981859L140.535154,75.906596L140.459891,75.756069L140.459891,75.605543L140.497523,75.492649L140.610417,75.304491L140.723312,75.191596L140.91147,75.078702L141.024364,75.04107L141.17489,75.04107L141.325417,75.116333L141.40068,75.191596L141.475943,75.342122L141.475943,75.417385M141.776995,75.567912L142.228574,76.01949M141.212522,76.583964L142.002785,75.793701M142.3791,76.320543L142.454363,76.320543L142.567258,76.358174L142.755416,76.546332L142.793047,76.659227L142.793047,76.73449L142.755416,76.847385L142.680153,76.922648L142.529626,76.997911L141.626469,76.997911L142.115679,77.487121"}, {"thickness": 0.12192, "svgpath": "M148.87702,85.186129L148.87702,84.292049L149.175046,84.930677L149.473073,84.292049L149.473073,85.186129M149.898826,85.186129L149.898826,84.590075M149.898826,84.292049L149.85625,84.334624L149.898826,84.377199L149.941401,84.334624L149.898826,84.292049L149.898826,84.377199M150.707755,85.143554L150.622604,85.186129L150.452303,85.186129L150.367153,85.143554L150.324578,85.100978L150.282002,85.015828L150.282002,84.760376L150.324578,84.675226L150.367153,84.632651L150.452303,84.590075L150.622604,84.590075L150.707755,84.632651"}, {"thickness": 0.1524, "svgpath": "M140.141603,83.744644L140.354479,83.744644L140.460917,83.797863L140.567355,83.904301L140.620574,84.117177L140.620574,84.48971L140.567355,84.702586L140.460917,84.809025L140.354479,84.862244L140.141603,84.862244L140.035165,84.809025L139.928727,84.702586L139.875508,84.48971L139.875508,84.117177L139.928727,83.904301L140.035165,83.797863L140.141603,83.744644M141.472079,84.276834L141.099546,84.276834M141.099546,84.862244L141.099546,83.744644L141.631736,83.744644M142.430022,84.276834L142.057489,84.276834M142.057489,84.862244L142.057489,83.744644L142.589679,83.744644"}, {"thickness": 0.24384, "svgpath": "M127.573435,100.383315L127.828887,100.468465L127.914037,100.553616L127.999188,100.723917L127.999188,100.979368L127.914037,101.149669L127.828887,101.23482L127.658586,101.31997L126.977382,101.31997L126.977382,99.53181L127.573435,99.53181L127.743736,99.61696L127.828887,99.702111L127.914037,99.872412L127.914037,100.042713L127.828887,100.213014L127.743736,100.298164L127.573435,100.383315L126.977382,100.383315M129.020993,101.31997L128.850692,101.23482L128.765542,101.064519L128.765542,99.53181M130.468551,101.31997L130.468551,100.383315L130.383401,100.213014L130.2131,100.127863L129.872498,100.127863L129.702197,100.213014M130.468551,101.23482L130.29825,101.31997L129.872498,101.31997L129.702197,101.23482L129.617046,101.064519L129.617046,100.894218L129.702197,100.723917L129.872498,100.638766L130.29825,100.638766L130.468551,100.553616M132.08641,101.23482L131.916109,101.31997L131.575507,101.31997L131.405206,101.23482L131.320056,101.149669L131.234905,100.979368L131.234905,100.468465L131.320056,100.298164L131.405206,100.213014L131.575507,100.127863L131.916109,100.127863L132.08641,100.213014M132.852765,101.31997L132.852765,99.53181M133.023066,100.638766L133.533969,101.31997M133.533969,100.127863L132.852765,100.809067M128.169488,104.198907L127.317983,104.198907L127.317983,102.410747M128.765541,104.198907L128.765541,103.0068M128.765541,102.410747L128.68039,102.495897L128.765541,102.581048L128.850691,102.495897L128.765541,102.410747L128.765541,102.581048M129.446745,103.0068L129.872497,104.198907L130.29825,103.0068M131.660658,104.113757L131.490357,104.198907L131.149755,104.198907L130.979454,104.113757L130.894303,103.943456L130.894303,103.262252L130.979454,103.091951L131.149755,103.0068L131.490357,103.0068L131.660658,103.091951L131.745808,103.262252L131.745808,103.432553L130.894303,103.602854M132.427012,104.113757L132.597313,104.198907L132.937915,104.198907L133.108216,104.113757L133.193367,103.943456L133.193367,103.858305L133.108216,103.688004L132.937915,103.602854L132.682464,103.602854L132.512163,103.517703L132.427012,103.347402L132.427012,103.262252L132.512163,103.091951L132.682464,103.0068L132.937915,103.0068L133.108216,103.091951M126.466479,107.077844L126.466479,105.289684L127.062532,106.566941L127.658586,105.289684L127.658586,107.077844M129.276444,107.077844L129.276444,106.141189L129.191294,105.970888L129.020993,105.885737L128.680391,105.885737L128.51009,105.970888M129.276444,106.992694L129.106143,107.077844L128.680391,107.077844L128.51009,106.992694L128.424939,106.822393L128.424939,106.652092L128.51009,106.481791L128.680391,106.39664L129.106143,106.39664L129.276444,106.31149M129.872497,105.885737L130.553701,105.885737M130.127949,105.289684L130.127949,106.822393L130.213099,106.992694L130.3834,107.077844L130.553701,107.077844M130.894303,105.885737L131.575507,105.885737M131.149755,105.289684L131.149755,106.822393L131.234905,106.992694L131.405206,107.077844L131.575507,107.077844M132.852765,106.992694L132.682464,107.077844L132.341862,107.077844L132.171561,106.992694L132.08641,106.822393L132.08641,106.141189L132.171561,105.970888L132.341862,105.885737L132.682464,105.885737L132.852765,105.970888L132.937915,106.141189L132.937915,106.31149L132.08641,106.481791M133.70427,107.077844L133.70427,105.885737M133.70427,106.226339L133.78942,106.056038L133.874571,105.970888L134.044872,105.885737L134.215173,105.885737"}, {"thickness": 0.1524, "svgpath": "M149.950586,83.618152L149.578053,83.085961M149.311958,83.618152L149.311958,82.500552L149.73771,82.500552L149.844148,82.553771L149.897367,82.60699L149.950586,82.713428L149.950586,82.873085L149.897367,82.979523L149.844148,83.032742L149.73771,83.085961L149.311958,83.085961M150.85531,83.564933L150.748872,83.618152L150.535996,83.618152L150.429558,83.564933L150.376339,83.458494L150.376339,83.032742L150.429558,82.926304L150.535996,82.873085L150.748872,82.873085L150.85531,82.926304L150.908529,83.032742L150.908529,83.13918L150.376339,83.245618M151.334282,83.564933L151.44072,83.618152L151.653596,83.618152L151.760034,83.564933L151.813253,83.458494L151.813253,83.405275L151.760034,83.298837L151.653596,83.245618L151.493939,83.245618L151.387501,83.192399L151.334282,83.085961L151.334282,83.032742L151.387501,82.926304L151.493939,82.873085L151.653596,82.873085L151.760034,82.926304M152.717977,83.564933L152.611539,83.618152L152.398663,83.618152L152.292225,83.564933L152.239006,83.458494L152.239006,83.032742L152.292225,82.926304L152.398663,82.873085L152.611539,82.873085L152.717977,82.926304L152.771196,83.032742L152.771196,83.13918L152.239006,83.245618M153.090511,82.873085L153.516263,82.873085M153.250168,82.500552L153.250168,83.458494L153.303387,83.564933L153.409825,83.618152L153.516263,83.618152"}, {"thickness": 0.12192, "svgpath": "M152.146879,89.335368L152.146879,89.76112L151.252799,89.76112M152.146879,89.037341L151.550825,89.037341M151.252799,89.037341L151.295374,89.079917L151.337949,89.037341L151.295374,88.994766L151.252799,89.037341L151.337949,89.037341M151.550825,88.228412L152.274604,88.228412L152.359755,88.270987L152.40233,88.313563L152.444905,88.398713L152.444905,88.526439L152.40233,88.611589M152.104304,88.228412L152.146879,88.313563L152.146879,88.483864L152.104304,88.569014L152.061728,88.611589L151.976578,88.654165L151.721126,88.654165L151.635976,88.611589L151.593401,88.569014L151.550825,88.483864L151.550825,88.313563L151.593401,88.228412M152.146879,87.802659L151.252799,87.802659M152.146879,87.419482L151.678551,87.419482L151.593401,87.462057L151.550825,87.547208L151.550825,87.674934L151.593401,87.760084L151.635976,87.802659M151.550825,87.121455L151.550825,86.780853M151.252799,86.993729L152.019153,86.993729L152.104304,86.951154L152.146879,86.866004L152.146879,86.780853"}, {"thickness": 0.1524, "svgpath": "M144.085604,74.046912L144.01034,74.046912L143.859814,73.971649L143.784551,73.896386L143.709288,73.745859L143.709288,73.595333L143.74692,73.482439L143.859814,73.294281L143.972709,73.181386L144.160867,73.068492L144.273761,73.03086L144.424287,73.03086L144.574814,73.106123L144.650077,73.181386L144.72534,73.331912L144.72534,73.407175M145.026392,73.557702L145.477971,74.00928M144.461919,74.573754L145.252182,73.783491M145.365076,75.476911L144.913498,75.025332M145.139287,75.251122L145.92955,74.460859L145.741392,74.498491L145.590866,74.498491L145.477971,74.460859"}, {"type": "circle", "start": [152.6286, 66.74485], "radius": 2.2, "width": 0.2}, {"thickness": 0.119969, "svgpath": "M158.615867,100.521144L158.582875,100.554136L158.483899,100.587127L158.417915,100.587127L158.318939,100.554136L158.252955,100.488152L158.219963,100.422168L158.186971,100.2902L158.186971,100.191224L158.219963,100.059256L158.252955,99.993272L158.318939,99.927288L158.417915,99.894296L158.483899,99.894296L158.582875,99.927288L158.615867,99.96028M158.84681,99.894296L159.308698,99.894296L159.01177,100.587127", "ref": 1}, {"type": "segment", "start": [161.5186, 100.90785], "end": [161.5186, 99.89185], "width": 0.3048}, {"thickness": 0.119969, "svgpath": "M171.736394,93.47356L171.769386,93.506552L171.802377,93.605528L171.802377,93.671512L171.769386,93.770488L171.703402,93.836472L171.637418,93.869464L171.50545,93.902456L171.406474,93.902456L171.274506,93.869464L171.208522,93.836472L171.142538,93.770488L171.109546,93.671512L171.109546,93.605528L171.142538,93.506552L171.17553,93.47356M171.802377,92.813721L171.802377,93.209625M171.802377,93.011673L171.109546,93.011673L171.208522,93.077657L171.274506,93.143641L171.307498,93.209625", "ref": 1}, {"type": "segment", "start": [170.8531, 96.14535], "end": [171.8691, 96.14535], "width": 0.3048}, {"thickness": 0.119969, "svgpath": "M139.562386,90.205456L139.595377,90.10648L139.595377,89.94152L139.562386,89.875536L139.529394,89.842544L139.46341,89.809552L139.397426,89.809552L139.331442,89.842544L139.29845,89.875536L139.265458,89.94152L139.232466,90.073488L139.199474,90.139472L139.166482,90.172464L139.100498,90.205456L139.034514,90.205456L138.96853,90.172464L138.935538,90.139472L138.902546,90.073488L138.902546,89.908528L138.935538,89.809552M138.902546,89.578609L139.595377,89.413649L139.100498,89.281681L139.595377,89.149713L138.902546,88.984754M139.595377,88.357906L139.595377,88.75381M139.595377,88.555858L138.902546,88.555858L139.001522,88.621842L139.067506,88.687826L139.100498,88.75381", "ref": 1}, {"type": "segment", "start": [139.5671, 86.90235], "end": [146.7671, 86.90235], "width": 0.127}, {"type": "segment", "start": [139.5671, 90.40235], "end": [139.5671, 86.90235], "width": 0.127}, {"type": "segment", "start": [146.7671, 86.90235], "end": [146.7671, 90.40235], "width": 0.127}, {"type": "segment", "start": [146.7671, 90.40235], "end": [139.5671, 90.40235], "width": 0.127}, {"type": "segment", "start": [164.4111, 101.06035], "end": [165.6111, 101.06035], "width": 0.1524}, {"type": "segment", "start": [164.4111, 102.66035], "end": [164.4111, 101.06035], "width": 0.1524}, {"type": "segment", "start": [165.6111, 101.06035], "end": [165.6111, 102.66035], "width": 0.1524}, {"type": "segment", "start": [165.6111, 102.66035], "end": [164.4111, 102.66035], "width": 0.1524}, {"type": "circle", "start": [165.0111, 101.36035], "radius": 0.141418, "width": 0.1524}, {"thickness": 0.119969, "svgpath": "M160.623894,81.40856L160.656886,81.441552L160.689877,81.540528L160.689877,81.606512L160.656886,81.705488L160.590902,81.771472L160.524918,81.804464L160.39295,81.837456L160.293974,81.837456L160.162006,81.804464L160.096022,81.771472L160.030038,81.705488L159.997046,81.606512L159.997046,81.540528L160.030038,81.441552L160.06303,81.40856M160.06303,81.144625L160.030038,81.111633L159.997046,81.045649L159.997046,80.880689L160.030038,80.814705L160.06303,80.781713L160.129014,80.748721L160.194998,80.748721L160.293974,80.781713L160.689877,81.177617L160.689877,80.748721", "ref": 1}, {"type": "segment", "start": [159.7406, 83.82635], "end": [160.7566, 83.82635], "width": 0.3048}, {"thickness": 0.119969, "svgpath": "M159.806905,103.119627L159.476985,103.119627L159.476985,102.426796M160.40076,103.119627L160.004856,103.119627M160.202808,103.119627L160.202808,102.426796L160.136824,102.525772L160.07084,102.591756L160.004856,102.624748", "ref": 1}, {"type": "segment", "start": [160.1291, 103.30135], "end": [165.8291, 103.30135], "width": 0.2032}, {"type": "segment", "start": [160.1291, 108.80135], "end": [160.1291, 103.30135], "width": 0.2032}, {"type": "segment", "start": [165.8291, 103.30135], "end": [165.8291, 108.80135], "width": 0.2032}, {"type": "segment", "start": [165.8291, 108.80135], "end": [160.1291, 108.80135], "width": 0.2032}, {"thickness": 0.119969, "svgpath": "M152.362359,83.12203L152.296375,83.089038L152.230391,83.023055L152.131415,82.924079L152.065431,82.891087L151.999447,82.891087M152.032439,83.056046L151.966455,83.023055L151.900471,82.957071L151.867479,82.825103L151.867479,82.594159L151.900471,82.462191L151.966455,82.396207L152.032439,82.363215L152.164407,82.363215L152.230391,82.396207L152.296375,82.462191L152.329367,82.594159L152.329367,82.825103L152.296375,82.957071L152.230391,83.023055L152.164407,83.056046L152.032439,83.056046M152.593302,82.429199L152.626294,82.396207L152.692278,82.363215L152.857238,82.363215L152.923222,82.396207L152.956214,82.429199L152.989206,82.495183L152.989206,82.561167L152.956214,82.660143L152.56031,83.056046L152.989206,83.056046", "ref": 1}, {"type": "segment", "start": [153.2681, 82.489169], "end": [149.0681, 82.489169], "width": 0.2032}, {"type": "segment", "start": [149.0681, 79.438369], "end": [153.2681, 79.438369], "width": 0.2032}, {"thickness": 0.05332, "svgpath": "M130.958998,111.443959L131.00484,111.489801L131.050681,111.627327L131.050681,111.719011L131.00484,111.856536L130.913156,111.94822L130.821472,111.994062L130.638104,112.039904L130.500579,112.039904L130.317211,111.994062L130.225527,111.94822L130.133843,111.856536L130.088001,111.719011L130.088001,111.627327L130.133843,111.489801L130.179685,111.443959M130.500579,110.893856L130.454737,110.98554L130.408895,111.031382L130.317211,111.077224L130.271369,111.077224L130.179685,111.031382L130.133843,110.98554L130.088001,110.893856L130.088001,110.710489L130.133843,110.618805L130.179685,110.572963L130.271369,110.527121L130.317211,110.527121L130.408895,110.572963L130.454737,110.618805L130.500579,110.710489L130.500579,110.893856L130.54642,110.98554L130.592262,111.031382L130.683946,111.077224L130.867314,111.077224L130.958998,111.031382L131.00484,110.98554L131.050681,110.893856L131.050681,110.710489L131.00484,110.618805L130.958998,110.572963L130.867314,110.527121L130.683946,110.527121L130.592262,110.572963L130.54642,110.618805L130.500579,110.710489", "ref": 1}, {"type": "segment", "start": [130.9751, 111.25835], "end": [131.9911, 111.25835], "width": 0.3048}, {"thickness": 0.11684, "svgpath": "M142.515828,80.387236L142.680565,80.442148L142.955127,80.442148L143.064952,80.387236L143.119864,80.332323L143.174777,80.222498L143.174777,80.112674L143.119864,80.002849L143.064952,79.947936L142.955127,79.893024L142.735478,79.838112L142.625653,79.783199L142.57074,79.728287L142.515828,79.618462L142.515828,79.508637L142.57074,79.398813L142.625653,79.3439L142.735478,79.288988L143.010039,79.288988L143.174777,79.3439M143.559164,79.288988L143.833726,80.442148L144.053375,79.618462L144.273025,80.442148L144.547587,79.288988M145.645834,80.332323L145.590922,80.387236L145.426184,80.442148L145.31636,80.442148L145.151623,80.387236L145.041798,80.277411L144.986885,80.167586L144.931973,79.947936L144.931973,79.783199L144.986885,79.56355L145.041798,79.453725L145.151623,79.3439L145.31636,79.288988L145.426184,79.288988L145.590922,79.3439L145.645834,79.398813M146.359695,79.288988L146.46952,79.288988L146.579344,79.3439L146.634257,79.398813L146.689169,79.508637L146.744082,79.728287L146.744082,80.002849L146.689169,80.222498L146.634257,80.332323L146.579344,80.387236L146.46952,80.442148L146.359695,80.442148L146.24987,80.387236L146.194958,80.332323L146.140045,80.222498L146.085133,80.002849L146.085133,79.728287L146.140045,79.508637L146.194958,79.398813L146.24987,79.3439L146.359695,79.288988", "ref": 1}, {"thickness": 0.11684, "svgpath": "M141.245828,82.965336L141.410565,83.020248L141.685127,83.020248L141.794952,82.965336L141.849864,82.910423L141.904777,82.800598L141.904777,82.690774L141.849864,82.580949L141.794952,82.526036L141.685127,82.471124L141.465478,82.416212L141.355653,82.361299L141.30074,82.306387L141.245828,82.196562L141.245828,82.086737L141.30074,81.976913L141.355653,81.922L141.465478,81.867088L141.740039,81.867088L141.904777,81.922M142.289164,81.867088L142.563726,83.020248L142.783375,82.196562L143.003025,83.020248L143.277587,81.867088M143.716885,83.020248L143.716885,81.867088L143.991447,81.867088L144.156184,81.922L144.266009,82.031825L144.320922,82.14165L144.375834,82.361299L144.375834,82.526036L144.320922,82.745686L144.266009,82.855511L144.156184,82.965336L143.991447,83.020248L143.716885,83.020248M145.089695,81.867088L145.19952,81.867088L145.309344,81.922L145.364257,81.976913L145.419169,82.086737L145.474082,82.306387L145.474082,82.580949L145.419169,82.800598L145.364257,82.910423L145.309344,82.965336L145.19952,83.020248L145.089695,83.020248L144.97987,82.965336L144.924958,82.910423L144.870045,82.800598L144.815133,82.580949L144.815133,82.306387L144.870045,82.086737L144.924958,81.976913L144.97987,81.922L145.089695,81.867088", "ref": 1}, {"thickness": 0.093472, "svgpath": "M149.418449,84.302274L149.418449,83.125746M150.651002,84.190223L150.594977,84.246249L150.426901,84.302274L150.314851,84.302274L150.146776,84.246249L150.034725,84.134198L149.9787,84.022148L149.922675,83.798047L149.922675,83.629972L149.9787,83.405871L150.034725,83.293821L150.146776,83.181771L150.314851,83.125746L150.426901,83.125746L150.594977,83.181771L150.651002,83.237796M151.099203,83.237796L151.155228,83.181771L151.267279,83.125746L151.547404,83.125746L151.659455,83.181771L151.71548,83.237796L151.771505,83.349846L151.771505,83.461897L151.71548,83.629972L151.043178,84.302274L151.771505,84.302274", "ref": 1}, {"type": "segment", "start": [151.0171, 89.57285], "end": [148.0171, 89.57285], "width": 0.127}, {"type": "segment", "start": [151.0171, 85.57285], "end": [151.0171, 89.57285], "width": 0.127}, {"type": "segment", "start": [148.0171, 89.57285], "end": [148.0171, 85.57285], "width": 0.127}, {"type": "segment", "start": [148.0171, 85.57285], "end": [151.0171, 85.57285], "width": 0.127}, {"type": "circle", "start": [149.5171, 88.22285], "radius": 0.304137, "width": 0.127}, {"thickness": 0.05332, "svgpath": "M172.492687,99.757586L171.276007,99.757586L171.276007,99.294089L171.333944,99.178214L171.391881,99.120277L171.507755,99.06234L171.681567,99.06234L171.797441,99.120277L171.855378,99.178214L171.913315,99.294089L171.913315,99.757586M171.276007,98.65678L172.492687,98.367094L171.62363,98.135346L172.492687,97.903597L171.276007,97.613912M172.492687,96.455169L171.913315,96.860729M172.492687,97.150415L171.276007,97.150415L171.276007,96.686918L171.333944,96.571043L171.391881,96.513106L171.507755,96.455169L171.681567,96.455169L171.797441,96.513106L171.855378,96.571043L171.913315,96.686918L171.913315,97.150415M171.276007,95.701986L171.276007,95.586112L171.333944,95.470238L171.391881,95.412301L171.507755,95.354363L171.739504,95.296426L172.02919,95.296426L172.260938,95.354363L172.376812,95.412301L172.43475,95.470238L172.492687,95.586112L172.492687,95.701986L172.43475,95.817861L172.376812,95.875798L172.260938,95.933735L172.02919,95.991672L171.739504,95.991672L171.507755,95.933735L171.391881,95.875798L171.333944,95.817861L171.276007,95.701986", "ref": 1}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[0.412544, 0.254], [-0.412544, 0.254], [0.0, -0.26168]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[-0.381, -0.1397], [0.381, -0.1397], [0.381, -0.2667], [-0.381, -0.2667]]]}, {"thickness": 0.119969, "svgpath": "M159.123867,98.809127L158.892923,98.479208M158.727963,98.809127L158.727963,98.116296L158.991899,98.116296L159.057883,98.149288L159.090875,98.18228L159.123867,98.248264L159.123867,98.34724L159.090875,98.413224L159.057883,98.446216L158.991899,98.479208L158.727963,98.479208M159.35481,98.116296L159.816698,98.116296L159.51977,98.809127", "ref": 1}, {"type": "segment", "start": [161.7726, 99.02185], "end": [161.7726, 98.22185], "width": 0.3048}, {"thickness": 0.074778, "svgpath": "M157.950101,84.789388L157.887258,84.797662L157.753299,84.751366L157.682183,84.696796L157.602793,84.579384L157.586246,84.453698L157.605258,84.355297L157.678838,84.18578L157.760693,84.079105L157.90539,83.964157L157.995517,83.920325L158.121203,83.903779L158.255162,83.950075L158.326279,84.004644L158.405669,84.122057L158.413942,84.1849M158.930768,84.468485L159.073,84.577624L159.116832,84.667751L159.133379,84.793437L159.059798,84.962955L158.868805,85.211862L158.724108,85.32681L158.598422,85.343357L158.500021,85.324345L158.357788,85.215206L158.313957,85.125079L158.29741,84.999393L158.37099,84.829876L158.561984,84.580968L158.706681,84.46602L158.832367,84.449474L158.930768,84.468485M158.997835,85.706332L159.570815,84.95961L159.424533,86.033749L159.997513,85.287027M159.780115,86.306596L160.353095,85.559875L160.206813,86.634013L160.779793,85.887291M160.953534,87.206993L160.526836,86.879576M160.740185,87.043284L161.313165,86.296563L161.160195,86.348668L161.034509,86.365214L160.936108,86.346203", "ref": 1}, {"type": "segment", "start": [157.6514, 81.902708], "end": [156.981762, 81.030019], "width": 0.1524}, {"type": "segment", "start": [159.714119, 80.319928], "end": [157.6514, 81.902708], "width": 0.1524}, {"type": "segment", "start": [160.514934, 78.571016], "end": [157.958136, 75.238932], "width": 0.1524}, {"type": "segment", "start": [154.668469, 78.015276], "end": [153.937955, 77.063252], "width": 0.1524}, {"type": "segment", "start": [153.937955, 77.063252], "end": [156.000674, 75.480473], "width": 0.1524}, {"thickness": 0.074778, "svgpath": "M163.40916,80.537612L163.042015,80.280534L163.581878,79.50953M163.948947,80.313707L164.205948,80.493661M164.033306,80.974644L163.666162,80.717566L164.206024,79.946562L164.573169,80.20364M164.363737,81.206013L164.903599,80.435009L165.087172,80.563548L165.171607,80.677386L165.193621,80.80223L165.17892,80.901367L165.112803,81.073933L165.03568,81.184076L164.896135,81.305226L164.808005,81.352947L164.68316,81.374961L164.547309,81.334552L164.363737,81.206013M165.601174,80.923457L166.115177,81.283365L165.244884,81.822999", "ref": 1}, {"type": "segment", "start": [163.125089, 80.325873], "end": [163.411877, 80.735449], "width": 0.1524}, {"type": "segment", "start": [162.715513, 80.612662], "end": [163.125089, 80.325873], "width": 0.1524}, {"type": "segment", "start": [161.486785, 81.473026], "end": [162.715513, 80.612662], "width": 0.1524}, {"type": "segment", "start": [163.411877, 80.735449], "end": [162.715513, 80.612662], "width": 0.1524}, {"type": "segment", "start": [163.411877, 80.735449], "end": [165.419395, 83.602482], "width": 0.1524}, {"type": "segment", "start": [165.419395, 83.602482], "end": [163.781091, 84.749635], "width": 0.1524}, {"type": "segment", "start": [163.781091, 84.749635], "end": [161.486785, 81.473026], "width": 0.1524}, {"thickness": 0.119969, "svgpath": "M163.872889,86.487644L163.839897,86.520636L163.740921,86.553627L163.674937,86.553627L163.575961,86.520636L163.509977,86.454652L163.476985,86.388668L163.443993,86.2567L163.443993,86.157724L163.476985,86.025756L163.509977,85.959772L163.575961,85.893788L163.674937,85.860796L163.740921,85.860796L163.839897,85.893788L163.872889,85.92678M164.103832,85.860796L164.532728,85.860796L164.301784,86.124732L164.40076,86.124732L164.466744,86.157724L164.499736,86.190716L164.532728,86.2567L164.532728,86.42166L164.499736,86.487644L164.466744,86.520636L164.40076,86.553627L164.202808,86.553627L164.136824,86.520636L164.103832,86.487644", "ref": 1}, {"type": "segment", "start": [161.4551, 85.71235], "end": [161.4551, 86.51235], "width": 0.3048}, {"type": "segment", "start": [159.6898, 92.77985], "end": [135.1026, 92.77985], "width": 0.254}, {"type": "segment", "start": [135.1026, 92.77985], "end": [135.1026, 145.76425], "width": 0.254}, {"type": "segment", "start": [159.6898, 145.76425], "end": [159.6898, 92.77985], "width": 0.254}, {"type": "segment", "start": [135.1026, 145.76425], "end": [159.6898, 145.76425], "width": 0.254}, {"thickness": 0.119969, "svgpath": "M148.243877,78.998044L148.243877,79.327964L147.551046,79.327964M147.551046,78.635133L147.551046,78.569149L147.584038,78.503165L147.61703,78.470173L147.683014,78.437181L147.814982,78.404189L147.979942,78.404189L148.11191,78.437181L148.177894,78.470173L148.210886,78.503165L148.243877,78.569149L148.243877,78.635133L148.210886,78.701117L148.177894,78.734109L148.11191,78.767101L147.979942,78.800093L147.814982,78.800093L147.683014,78.767101L147.61703,78.734109L147.584038,78.701117L147.551046,78.635133", "ref": 1}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[0.412544, 0.254], [-0.412544, 0.254], [0.0, -0.26168]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[-0.381, -0.1397], [0.381, -0.1397], [0.381, -0.2667], [-0.381, -0.2667]]]}, {"thickness": 0.119969, "svgpath": "M169.450394,105.017082L169.483386,105.050074L169.516377,105.14905L169.516377,105.215034L169.483386,105.31401L169.417402,105.379994L169.351418,105.412986L169.21945,105.445978L169.120474,105.445978L168.988506,105.412986L168.922522,105.379994L168.856538,105.31401L168.823546,105.215034L168.823546,105.14905L168.856538,105.050074L168.88953,105.017082M169.05449,104.423227L169.516377,104.423227M168.790555,104.588187L169.285434,104.753147L169.285434,104.324251", "ref": 1}, {"type": "segment", "start": [169.8371, 102.11435], "end": [168.8211, 102.11435], "width": 0.3048}, {"thickness": 0.2032, "svgpath": "M161.070503,135.811107L161.186617,135.849811L161.380141,135.849811L161.45755,135.811107L161.496255,135.772402L161.53496,135.694992L161.53496,135.617583L161.496255,135.540173L161.45755,135.501468L161.380141,135.462764L161.225322,135.424059L161.147912,135.385354L161.109207,135.346649L161.070503,135.26924L161.070503,135.19183L161.109207,135.114421L161.147912,135.075716L161.225322,135.037011L161.418845,135.037011L161.53496,135.075716M161.302731,134.920897L161.302731,135.965926M162.115531,136.159449L162.076826,136.159449L161.999417,136.120745L161.960712,136.043335L161.960712,135.656287L161.922007,135.578878L161.844598,135.540173L161.922007,135.501468L161.960712,135.424059L161.960712,135.037011L161.999417,134.959602L162.076826,134.920897L162.115531,134.920897M162.889626,135.849811L162.618693,135.462764M162.425169,135.849811L162.425169,135.037011L162.734807,135.037011L162.812217,135.075716L162.850922,135.114421L162.889626,135.19183L162.889626,135.307945L162.850922,135.385354L162.812217,135.424059L162.734807,135.462764L162.425169,135.462764M163.237969,135.424059L163.508903,135.424059M163.625017,135.849811L163.237969,135.849811L163.237969,135.037011L163.625017,135.037011M163.857245,135.037011L164.128178,135.849811L164.399112,135.037011M164.592636,136.159449L164.631341,136.159449L164.70875,136.120745L164.747455,136.043335L164.747455,135.656287L164.78616,135.578878L164.863569,135.540173L164.78616,135.501468L164.747455,135.424059L164.747455,135.037011L164.70875,134.959602L164.631341,134.920897L164.592636,134.920897"}, {"type": "circle", "start": [161.1376, 135.45185], "radius": 0.898, "width": 0.3048}, {"thickness": 0.074778, "svgpath": "M132.486139,145.220552L132.486139,145.668753L131.544917,145.668753M131.993118,144.906811L131.993118,144.59307M132.486139,144.45861L132.486139,144.906811L131.544917,144.906811L131.544917,144.45861M132.486139,144.055229L131.544917,144.055229L131.544917,143.831129L131.589737,143.696668L131.679377,143.607028L131.769017,143.562208L131.948297,143.517388L132.082758,143.517388L132.262038,143.562208L132.351678,143.607028L132.441319,143.696668L132.486139,143.831129L132.486139,144.055229M131.858657,142.710626L132.486139,142.710626M131.500097,142.934727L132.172398,143.158827L132.172398,142.576166", "ref": 1}, {"type": "segment", "start": [132.3246, 145.45285], "end": [132.3246, 144.95285], "width": 0.1524}, {"type": "segment", "start": [132.8246, 145.45285], "end": [132.3246, 145.45285], "width": 0.1524}, {"type": "segment", "start": [134.3246, 145.45285], "end": [132.8246, 145.45285], "width": 0.1524}, {"type": "segment", "start": [132.3246, 144.95285], "end": [132.8246, 145.45285], "width": 0.1524}, {"type": "segment", "start": [132.3246, 144.95285], "end": [132.3246, 141.45285], "width": 0.1524}, {"type": "segment", "start": [132.3246, 141.45285], "end": [134.3246, 141.45285], "width": 0.1524}, {"type": "segment", "start": [134.3246, 141.45285], "end": [134.3246, 145.45285], "width": 0.1524}, {"type": "segment", "start": [150.2791, 92.14485], "end": [150.2791, 90.62085], "width": 0.1524}, {"type": "segment", "start": [150.2791, 90.62085], "end": [149.5171, 90.62085], "width": 0.1524}, {"type": "segment", "start": [149.5171, 92.14485], "end": [150.2791, 92.14485], "width": 0.1524}, {"type": "segment", "start": [149.5171, 91.63685], "end": [149.5171, 92.14485], "width": 0.1524}, {"type": "segment", "start": [149.5171, 91.12885], "end": [148.7551, 91.12885], "width": 0.1524}, {"type": "segment", "start": [149.5171, 90.62085], "end": [149.5171, 91.12885], "width": 0.1524}, {"type": "segment", "start": [148.7551, 91.63685], "end": [149.5171, 91.63685], "width": 0.1524}, {"type": "segment", "start": [148.7551, 91.12885], "end": [148.7551, 91.63685], "width": 0.1524}, {"thickness": 0.119969, "svgpath": "M159.476514,91.449077L159.24557,91.119158M159.08061,91.449077L159.08061,90.756246L159.344546,90.756246L159.41053,90.789238L159.443522,90.82223L159.476514,90.888214L159.476514,90.98719L159.443522,91.053174L159.41053,91.086166L159.344546,91.119158L159.08061,91.119158M160.103361,90.756246L159.773441,90.756246L159.740449,91.086166L159.773441,91.053174L159.839425,91.020182L160.004385,91.020182L160.070369,91.053174L160.103361,91.086166L160.136353,91.15215L160.136353,91.31711L160.103361,91.383094L160.070369,91.416086L160.004385,91.449077L159.839425,91.449077L159.773441,91.416086L159.740449,91.383094", "ref": 1}, {"type": "segment", "start": [159.789231, 91.5287], "end": [159.789231, 92.3287], "width": 0.3048}, {"thickness": 0.119969, "svgpath": "M162.298867,98.809127L162.067923,98.479208M161.902963,98.809127L161.902963,98.116296L162.166899,98.116296L162.232883,98.149288L162.265875,98.18228L162.298867,98.248264L162.298867,98.34724L162.265875,98.413224L162.232883,98.446216L162.166899,98.479208L161.902963,98.479208M162.52981,98.116296L162.958706,98.116296L162.727762,98.380232L162.826738,98.380232L162.892722,98.413224L162.925714,98.446216L162.958706,98.5122L162.958706,98.67716L162.925714,98.743144L162.892722,98.776136L162.826738,98.809127L162.628786,98.809127L162.562802,98.776136L162.52981,98.743144", "ref": 1}, {"type": "segment", "start": [164.9476, 99.02185], "end": [164.9476, 98.22185], "width": 0.3048}, {"thickness": 0.119969, "svgpath": "M160.258383,96.502964L159.928464,96.733908M160.258383,96.898868L159.565552,96.898868L159.565552,96.634932L159.598544,96.568948L159.631536,96.535956L159.69752,96.502964L159.796496,96.502964L159.86248,96.535956L159.895472,96.568948L159.928464,96.634932L159.928464,96.898868M159.565552,95.909109L159.565552,96.041077L159.598544,96.107061L159.631536,96.140053L159.730512,96.206037L159.86248,96.239029L160.126416,96.239029L160.1924,96.206037L160.225392,96.173045L160.258383,96.107061L160.258383,95.975093L160.225392,95.909109L160.1924,95.876117L160.126416,95.843125L159.961456,95.843125L159.895472,95.876117L159.86248,95.909109L159.829488,95.975093L159.829488,96.107061L159.86248,96.173045L159.895472,96.206037L159.961456,96.239029", "ref": 1}, {"type": "segment", "start": [160.338003, 96.190254], "end": [161.138003, 96.190254], "width": 0.3048}, {"thickness": 0.074778, "svgpath": "M133.820369,83.541818L133.503444,83.858744L132.837899,83.193199M133.693599,82.971351L133.915447,82.749503M134.359144,83.003044L134.042218,83.31997L133.376673,82.654425L133.693599,82.337499M134.644377,82.71781L133.978833,82.052266L134.137296,81.893803L134.264066,81.830418L134.390837,81.830418L134.485914,81.86211L134.644377,81.957188L134.739455,82.052266L134.834533,82.210729L134.866225,82.305806L134.866225,82.432577L134.80284,82.559347L134.644377,82.71781M134.67607,81.481799L134.67607,81.418414L134.707762,81.323336L134.866225,81.164873L134.961303,81.133181L135.024688,81.133181L135.119766,81.164873L135.183151,81.228258L135.246537,81.355029L135.246537,82.115651L135.65854,81.703647", "ref": 1}, {"type": "segment", "start": [133.541886, 83.591854], "end": [133.895439, 83.2383], "width": 0.1524}, {"type": "segment", "start": [133.895439, 83.945407], "end": [133.541886, 83.591854], "width": 0.1524}, {"type": "segment", "start": [134.956099, 85.006067], "end": [133.895439, 83.945407], "width": 0.1524}, {"type": "segment", "start": [133.895439, 83.2383], "end": [133.895439, 83.945407], "width": 0.1524}, {"type": "segment", "start": [133.895439, 83.2383], "end": [136.370313, 80.763427], "width": 0.1524}, {"type": "segment", "start": [136.370313, 80.763427], "end": [137.784526, 82.17764], "width": 0.1524}, {"type": "segment", "start": [137.784526, 82.17764], "end": [134.956099, 85.006067], "width": 0.1524}, {"thickness": 0.119969, "svgpath": "M159.486995,85.979166L158.794164,85.979166M159.421012,85.253342L159.454004,85.286334L159.486995,85.38531L159.486995,85.451294L159.454004,85.55027L159.38802,85.616254L159.322036,85.649246L159.190068,85.682238L159.091092,85.682238L158.959124,85.649246L158.89314,85.616254L158.827156,85.55027L158.794164,85.451294L158.794164,85.38531L158.827156,85.286334L158.860148,85.253342M158.794164,85.022399L158.794164,84.593503L159.0581,84.824447L159.0581,84.725471L159.091092,84.659487L159.124084,84.626495L159.190068,84.593503L159.355028,84.593503L159.421012,84.626495L159.454004,84.659487L159.486995,84.725471L159.486995,84.923423L159.454004,84.989407L159.421012,85.022399", "ref": 1}, {"type": "segment", "start": [158.574718, 84.22261], "end": [157.974718, 84.22261], "width": 0.127}, {"type": "segment", "start": [153.774718, 84.22261], "end": [153.174718, 84.22261], "width": 0.127}, {"type": "segment", "start": [153.174718, 84.22261], "end": [153.174718, 84.82261], "width": 0.127}, {"type": "segment", "start": [158.574718, 84.82261], "end": [158.574718, 84.22261], "width": 0.127}, {"type": "segment", "start": [158.574718, 89.02261], "end": [158.574718, 89.62261], "width": 0.127}, {"type": "segment", "start": [158.574718, 89.62261], "end": [157.974718, 89.62261], "width": 0.127}, {"type": "segment", "start": [153.774718, 89.62261], "end": [153.174718, 89.62261], "width": 0.127}, {"type": "segment", "start": [153.174718, 89.62261], "end": [153.174718, 89.02261], "width": 0.127}, {"type": "polygon", "pos": [155.874718, 86.92261], "angle": -90.0, "polygons": [[[-2.7, -2.2], [-2.2, -2.2], [-2.2, -2.7], [-2.7, -2.7]]]}, {"thickness": 0.11684, "svgpath": "M147.288978,80.226248L146.904591,79.677124M146.630029,80.226248L146.630029,79.073088L147.069328,79.073088L147.179153,79.128L147.234066,79.182913L147.288978,79.292737L147.288978,79.457475L147.234066,79.567299L147.179153,79.622212L147.069328,79.677124L146.630029,79.677124M147.728277,80.171336L147.893014,80.226248L148.167576,80.226248L148.277401,80.171336L148.332313,80.116423L148.387226,80.006598L148.387226,79.896774L148.332313,79.786949L148.277401,79.732036L148.167576,79.677124L147.947927,79.622212L147.838102,79.567299L147.783189,79.512387L147.728277,79.402562L147.728277,79.292737L147.783189,79.182913L147.838102,79.128L147.947927,79.073088L148.222488,79.073088L148.387226,79.128M148.7167,79.073088L149.375649,79.073088M149.046175,80.226248L149.046175,79.073088M149.979685,79.073088L150.08951,79.073088L150.199334,79.128L150.254247,79.182913L150.309159,79.292737L150.364072,79.512387L150.364072,79.786949L150.309159,80.006598L150.254247,80.116423L150.199334,80.171336L150.08951,80.226248L149.979685,80.226248L149.86986,80.171336L149.814948,80.116423L149.760035,80.006598L149.705123,79.786949L149.705123,79.512387L149.760035,79.292737L149.814948,79.182913L149.86986,79.128L149.979685,79.073088", "ref": 1}, {"thickness": 0.119969, "svgpath": "M165.416471,97.925796L165.416471,98.48666L165.449463,98.552644L165.482455,98.585636L165.548439,98.618627L165.680407,98.618627L165.746391,98.585636L165.779383,98.552644L165.812375,98.48666L165.812375,97.925796M166.505206,98.618627L166.109302,98.618627M166.307254,98.618627L166.307254,97.925796L166.24127,98.024772L166.175286,98.090756L166.109302,98.123748", "ref": 1}, {"type": "segment", "start": [170.3441, 99.10435], "end": [170.3441, 97.50435], "width": 0.2032}, {"type": "segment", "start": [169.0941, 99.35435], "end": [168.2941, 99.35435], "width": 0.2032}, {"type": "segment", "start": [167.0441, 99.10435], "end": [167.0441, 97.50435], "width": 0.2032}, {"thickness": 0.119969, "svgpath": "M167.545394,105.017082L167.578386,105.050074L167.611377,105.14905L167.611377,105.215034L167.578386,105.31401L167.512402,105.379994L167.446418,105.412986L167.31445,105.445978L167.215474,105.445978L167.083506,105.412986L167.017522,105.379994L166.951538,105.31401L166.918546,105.215034L166.918546,105.14905L166.951538,105.050074L166.98453,105.017082M166.918546,104.423227L166.918546,104.555195L166.951538,104.621179L166.98453,104.654171L167.083506,104.720155L167.215474,104.753147L167.47941,104.753147L167.545394,104.720155L167.578386,104.687163L167.611377,104.621179L167.611377,104.489211L167.578386,104.423227L167.545394,104.390235L167.47941,104.357243L167.31445,104.357243L167.248466,104.390235L167.215474,104.423227L167.182482,104.489211L167.182482,104.621179L167.215474,104.687163L167.248466,104.720155L167.31445,104.753147", "ref": 1}, {"type": "segment", "start": [167.9321, 102.11435], "end": [166.9161, 102.11435], "width": 0.3048}, {"thickness": 0.119969, "svgpath": "M170.430534,90.310917L171.262996,90.329952M170.695462,89.932561L170.998068,90.708308M171.01716,89.473129L170.941466,89.58123L170.930645,89.654205L170.938747,89.700153L170.981976,89.810974L171.071155,89.913693L171.287358,90.065081L171.360332,90.075902L171.406281,90.0678L171.471153,90.032673L171.546847,89.924571L171.557668,89.851597L171.549566,89.805648L171.514439,89.740776L171.379312,89.646159L171.306338,89.635337L171.260389,89.643439L171.195516,89.678567L171.119823,89.786668L171.109001,89.859643L171.117103,89.905591L171.152231,89.970464", "ref": 1}, {"type": "segment", "start": [168.553323, 94.233624], "end": [167.447468, 95.007952], "width": 0.1016}, {"type": "segment", "start": [171.829931, 91.939318], "end": [170.724076, 92.713647], "width": 0.1016}, {"type": "segment", "start": [162.319694, 87.684733], "end": [163.425549, 86.910405], "width": 0.1016}, {"type": "segment", "start": [165.596302, 85.390427], "end": [166.702158, 84.616099], "width": 0.1016}, {"type": "segment", "start": [166.702158, 84.616099], "end": [171.829931, 91.939318], "width": 0.1016}, {"thickness": 0.119969, "svgpath": "M152.341867,79.517627L152.110923,79.187708M151.945963,79.517627L151.945963,78.824796L152.209899,78.824796L152.275883,78.857788L152.308875,78.89078L152.341867,78.956764L152.341867,79.05574L152.308875,79.121724L152.275883,79.154716L152.209899,79.187708L151.945963,79.187708M152.671786,79.517627L152.803754,79.517627L152.869738,79.484636L152.90273,79.451644L152.968714,79.352668L153.001706,79.2207L153.001706,78.956764L152.968714,78.89078L152.935722,78.857788L152.869738,78.824796L152.73777,78.824796L152.671786,78.857788L152.638794,78.89078L152.605802,78.956764L152.605802,79.121724L152.638794,79.187708L152.671786,79.2207L152.73777,79.253692L152.869738,79.253692L152.935722,79.2207L152.968714,79.187708L153.001706,79.121724", "ref": 1}, {"type": "segment", "start": [153.5126, 76.20335], "end": [153.5126, 79.00335], "width": 0.2032}, {"type": "segment", "start": [149.7126, 79.00335], "end": [149.7126, 76.20335], "width": 0.2032}, {"thickness": 0.074778, "svgpath": "M163.236542,143.721352L163.236542,144.169553L162.29532,144.169553M162.743521,143.407611L162.743521,143.09387M163.236542,142.95941L163.236542,143.407611L162.29532,143.407611L162.29532,142.95941M163.236542,142.556029L162.29532,142.556029L162.29532,142.331929L162.34014,142.197468L162.42978,142.107828L162.51942,142.063008L162.6987,142.018188L162.833161,142.018188L163.012441,142.063008L163.102081,142.107828L163.191722,142.197468L163.236542,142.331929L163.236542,142.556029M162.29532,141.166606L162.29532,141.614807L162.743521,141.659627L162.6987,141.614807L162.65388,141.525167L162.65388,141.301066L162.6987,141.211426L162.743521,141.166606L162.833161,141.121786L163.057261,141.121786L163.146901,141.166606L163.191722,141.211426L163.236542,141.301066L163.236542,141.525167L163.191722,141.614807L163.146901,141.659627", "ref": 1}, {"type": "segment", "start": [162.535003, 141.38251], "end": [162.535003, 141.88251], "width": 0.1524}, {"type": "segment", "start": [162.035003, 141.38251], "end": [162.535003, 141.38251], "width": 0.1524}, {"type": "segment", "start": [160.535003, 141.38251], "end": [162.035003, 141.38251], "width": 0.1524}, {"type": "segment", "start": [162.535003, 141.88251], "end": [162.035003, 141.38251], "width": 0.1524}, {"type": "segment", "start": [162.535003, 141.88251], "end": [162.535003, 145.38251], "width": 0.1524}, {"type": "segment", "start": [162.535003, 145.38251], "end": [160.535003, 145.38251], "width": 0.1524}, {"type": "segment", "start": [160.535003, 145.38251], "end": [160.535003, 141.38251], "width": 0.1524}, {"thickness": 0.119969, "svgpath": "M160.941394,141.593082L160.974386,141.626074L161.007377,141.72505L161.007377,141.791034L160.974386,141.89001L160.908402,141.955994L160.842418,141.988986L160.71045,142.021978L160.611474,142.021978L160.479506,141.988986L160.413522,141.955994L160.347538,141.89001L160.314546,141.791034L160.314546,141.72505L160.347538,141.626074L160.38053,141.593082M161.007377,141.263163L161.007377,141.131195L160.974386,141.065211L160.941394,141.032219L160.842418,140.966235L160.71045,140.933243L160.446514,140.933243L160.38053,140.966235L160.347538,140.999227L160.314546,141.065211L160.314546,141.197179L160.347538,141.263163L160.38053,141.296155L160.446514,141.329147L160.611474,141.329147L160.677458,141.296155L160.71045,141.263163L160.743442,141.197179L160.743442,141.065211L160.71045,140.999227L160.677458,140.966235L160.611474,140.933243", "ref": 1}, {"type": "segment", "start": [161.3281, 138.69035], "end": [160.3121, 138.69035], "width": 0.3048}, {"thickness": 0.119969, "svgpath": "M158.615867,102.362644L158.582875,102.395636L158.483899,102.428627L158.417915,102.428627L158.318939,102.395636L158.252955,102.329652L158.219963,102.263668L158.186971,102.1317L158.186971,102.032724L158.219963,101.900756L158.252955,101.834772L158.318939,101.768788L158.417915,101.735796L158.483899,101.735796L158.582875,101.768788L158.615867,101.80178M159.242714,101.735796L158.912794,101.735796L158.879802,102.065716L158.912794,102.032724L158.978778,101.999732L159.143738,101.999732L159.209722,102.032724L159.242714,102.065716L159.275706,102.1317L159.275706,102.29666L159.242714,102.362644L159.209722,102.395636L159.143738,102.428627L158.978778,102.428627L158.912794,102.395636L158.879802,102.362644", "ref": 1}, {"type": "segment", "start": [161.5186, 102.74935], "end": [161.5186, 101.73335], "width": 0.3048}, {"thickness": 0.074778, "svgpath": "M127.555701,115.917507L127.122772,115.801504L127.366378,114.892353M127.986355,115.522487L128.289405,115.603689M128.29168,116.114712L127.858752,115.998709L128.102358,115.089558L128.535287,115.205561M128.681317,116.219114L128.924923,115.309964L129.141387,115.367965L129.259666,115.446059L129.323051,115.555845L129.343143,115.654031L129.340035,115.838803L129.305234,115.968682L129.21554,116.130253L129.149046,116.205239L129.03926,116.268624L128.897781,116.277116L128.681317,116.219114M129.747488,115.530369L130.310295,115.681173L129.914443,115.946314L130.044321,115.981115L130.119307,116.047609L130.150999,116.102502L130.171092,116.200688L130.11309,116.417152L130.046597,116.492138L129.991704,116.52383L129.893517,116.543923L129.63376,116.474321L129.558775,116.407827L129.527082,116.352934", "ref": 1}, {"type": "segment", "start": [127.104662, 114.771521], "end": [126.975253, 114.288558], "width": 0.1524}, {"type": "segment", "start": [127.587625, 114.642111], "end": [127.104662, 114.771521], "width": 0.1524}, {"type": "segment", "start": [129.036514, 114.253883], "end": [127.587625, 114.642111], "width": 0.1524}, {"type": "segment", "start": [126.975253, 114.288558], "end": [127.587625, 114.642111], "width": 0.1524}, {"type": "segment", "start": [126.975253, 114.288558], "end": [126.069386, 110.907817], "width": 0.1524}, {"type": "segment", "start": [126.069386, 110.907817], "end": [128.001238, 110.390179], "width": 0.1524}, {"type": "segment", "start": [128.001238, 110.390179], "end": [129.036514, 114.253883], "width": 0.1524}, {"thickness": 0.119969, "svgpath": "M151.376867,91.443127L151.145923,91.113208M150.980963,91.443127L150.980963,90.750296L151.244899,90.750296L151.310883,90.783288L151.343875,90.81628L151.376867,90.882264L151.376867,90.98124L151.343875,91.047224L151.310883,91.080216L151.244899,91.113208L150.980963,91.113208M151.640802,90.81628L151.673794,90.783288L151.739778,90.750296L151.904738,90.750296L151.970722,90.783288L152.003714,90.81628L152.036706,90.882264L152.036706,90.948248L152.003714,91.047224L151.60781,91.443127L152.036706,91.443127", "ref": 1}, {"type": "segment", "start": [154.0256, 91.65585], "end": [154.0256, 90.85585], "width": 0.3048}, {"thickness": 0.074778, "svgpath": "M168.677951,111.2424L168.310807,111.499477L167.770944,110.728473M168.652168,110.658586L168.909169,110.478632M169.302098,110.805368L168.934953,111.062445L168.39509,110.291441L168.762235,110.034364M169.632528,110.573998L169.092665,109.802994L169.276238,109.674455L169.412089,109.634046L169.536933,109.65606L169.625063,109.703781L169.764609,109.824931L169.841732,109.935075L169.907848,110.10764L169.922549,110.206777L169.900536,110.331621L169.8161,110.445459L169.632528,110.573998M170.194099,109.031761L170.047242,109.134592L169.99952,109.222722L169.988514,109.285145L169.992208,109.446704L170.058324,109.619269L170.263986,109.912985L170.352116,109.960706L170.414539,109.971713L170.513675,109.957012L170.660533,109.854181L170.708254,109.766051L170.719261,109.703629L170.70456,109.604492L170.576021,109.42092L170.487891,109.373198L170.425469,109.362192L170.326332,109.376893L170.179475,109.479724L170.131753,109.567854L170.120747,109.630276L170.135448,109.729413", "ref": 1}, {"type": "segment", "start": [167.337651, 111.548607], "end": [167.050863, 111.958183], "width": 0.1524}, {"type": "segment", "start": [166.928075, 111.261819], "end": [167.337651, 111.548607], "width": 0.1524}, {"type": "segment", "start": [165.699347, 110.401454], "end": [166.928075, 111.261819], "width": 0.1524}, {"type": "segment", "start": [167.050863, 111.958183], "end": [166.928075, 111.261819], "width": 0.1524}, {"type": "segment", "start": [167.050863, 111.958183], "end": [165.043345, 114.825216], "width": 0.1524}, {"type": "segment", "start": [165.043345, 114.825216], "end": [163.405041, 113.678063], "width": 0.1524}, {"type": "segment", "start": [163.405041, 113.678063], "end": [165.699347, 110.401454], "width": 0.1524}, {"thickness": 0.05332, "svgpath": "M172.683187,101.571419L172.103815,101.976979M172.683187,102.266665L171.466507,102.266665L171.466507,101.803168L171.524444,101.687293L171.582381,101.629356L171.698255,101.571419L171.872067,101.571419L171.987941,101.629356L172.045878,101.687293L172.103815,101.803168L172.103815,102.266665M171.872067,100.528551L172.683187,100.528551M171.40857,100.818236L172.277627,101.107922L172.277627,100.354739", "ref": 1}, {"type": "segment", "start": [171.6341, 101.03485], "end": [170.8341, 101.03485], "width": 0.3048}], "B": []}, "fabrication": {"F": [{"thickness": 0.036576, "svgpath": "M157.189042,100.470048L156.629371,100.470048M156.909207,100.470048L156.909207,99.490624L156.815928,99.630541L156.72265,99.72382L156.629371,99.770459M157.795353,99.490624L157.888631,99.490624L157.98191,99.537263L158.028549,99.583902L158.075188,99.677181L158.121827,99.863738L158.121827,100.096934L158.075188,100.283491L158.028549,100.376769L157.98191,100.423409L157.888631,100.470048L157.795353,100.470048L157.702074,100.423409L157.655435,100.376769L157.608796,100.283491L157.562156,100.096934L157.562156,99.863738L157.608796,99.677181L157.655435,99.583902L157.702074,99.537263L157.795353,99.490624M158.961334,99.817098L158.961334,100.470048M158.541581,99.817098L158.541581,100.33013L158.58822,100.423409L158.681498,100.470048L158.821416,100.470048L158.914695,100.423409L158.961334,100.376769M159.754201,99.957016L159.427727,99.957016M159.427727,100.470048L159.427727,99.490624L159.894119,99.490624", "val": 1}, {"type": "segment", "start": [161.8996, 101.05985], "end": [161.1376, 101.05985], "width": 0.1016}, {"type": "segment", "start": [161.8746, 99.73985], "end": [161.1376, 99.73985], "width": 0.1016}, {"type": "polygon", "pos": [161.5186, 100.39985], "angle": 180.0, "polygons": [[[-1.0922, 0.7239], [-0.3421, 0.7239], [-0.3421, -0.7262], [-1.0922, -0.7262]]]}, {"type": "polygon", "pos": [161.5186, 100.39985], "angle": 180.0, "polygons": [[[0.3556, 0.7239], [1.1057, 0.7239], [1.1057, -0.7262], [0.3556, -0.7262]]]}, {"thickness": 0.036576, "svgpath": "M173.907798,96.581559L173.907798,97.14123M173.907798,96.861394L172.928374,96.861394L173.068291,96.954673L173.16157,97.047951L173.208209,97.14123M172.928374,95.975248L172.928374,95.88197L172.975013,95.788691L173.021652,95.742052L173.114931,95.695413L173.301488,95.648774L173.534684,95.648774L173.721241,95.695413L173.814519,95.742052L173.861159,95.788691L173.907798,95.88197L173.907798,95.975248L173.861159,96.068527L173.814519,96.115166L173.721241,96.161805L173.534684,96.208445L173.301488,96.208445L173.114931,96.161805L173.021652,96.115166L172.975013,96.068527L172.928374,95.975248M173.254848,94.809267L173.907798,94.809267M173.254848,95.22902L173.76788,95.22902L173.861159,95.182381L173.907798,95.089103L173.907798,94.949185L173.861159,94.855906L173.814519,94.809267M173.394766,94.0164L173.394766,94.342874M173.907798,94.342874L172.928374,94.342874L172.928374,93.876482", "val": 1}, {"type": "segment", "start": [170.7011, 96.52635], "end": [170.7011, 95.76435], "width": 0.1016}, {"type": "segment", "start": [172.0211, 96.50135], "end": [172.0211, 95.76435], "width": 0.1016}, {"type": "polygon", "pos": [171.3611, 96.14535], "angle": 90.0, "polygons": [[[-1.0922, 0.7239], [-0.3421, 0.7239], [-0.3421, -0.7262], [-1.0922, -0.7262]]]}, {"type": "polygon", "pos": [171.3611, 96.14535], "angle": 90.0, "polygons": [[[0.3556, 0.7239], [1.1057, 0.7239], [1.1057, -0.7262], [0.3556, -0.7262]]]}, {"polygons": [], "val": 1}, {"thickness": 0.036576, "svgpath": "M159.87589,82.880548L159.316219,82.880548M159.596055,82.880548L159.596055,81.901124L159.502776,82.041041L159.409498,82.13432L159.316219,82.180959M160.482201,81.901124L160.575479,81.901124L160.668758,81.947763L160.715397,81.994402L160.762036,82.087681L160.808675,82.274238L160.808675,82.507434L160.762036,82.693991L160.715397,82.787269L160.668758,82.833909L160.575479,82.880548L160.482201,82.880548L160.388922,82.833909L160.342283,82.787269L160.295644,82.693991L160.249004,82.507434L160.249004,82.274238L160.295644,82.087681L160.342283,81.994402L160.388922,81.947763L160.482201,81.901124M161.648182,82.227598L161.648182,82.880548M161.228429,82.227598L161.228429,82.74063L161.275068,82.833909L161.368346,82.880548L161.508264,82.880548L161.601543,82.833909L161.648182,82.787269M162.441049,82.367516L162.114575,82.367516M162.114575,82.880548L162.114575,81.901124L162.580967,81.901124", "val": 1}, {"type": "segment", "start": [159.5886, 84.20735], "end": [159.5886, 83.44535], "width": 0.1016}, {"type": "segment", "start": [160.9086, 84.18235], "end": [160.9086, 83.44535], "width": 0.1016}, {"type": "polygon", "pos": [160.2486, 83.82635], "angle": 90.0, "polygons": [[[-1.0922, 0.7239], [-0.3421, 0.7239], [-0.3421, -0.7262], [-1.0922, -0.7262]]]}, {"type": "polygon", "pos": [160.2486, 83.82635], "angle": 90.0, "polygons": [[[0.3556, 0.7239], [1.1057, 0.7239], [1.1057, -0.7262], [0.3556, -0.7262]]]}, {"thickness": 0.036576, "svgpath": "M160.318298,106.677559L160.318298,107.23723M160.318298,106.957394L159.338874,106.957394L159.478791,107.050673L159.57207,107.143951L159.618709,107.23723M159.665348,105.838052L160.318298,105.838052M159.665348,106.257805L160.17838,106.257805L160.271659,106.211166L160.318298,106.117888L160.318298,105.97797L160.271659,105.884691L160.225019,105.838052M160.318298,105.371659L159.338874,105.371659M159.805266,105.371659L159.805266,104.811988M160.318298,104.811988L159.338874,104.811988", "val": 1}, {"type": "segment", "start": [160.4791, 103.55135], "end": [165.4791, 103.55135], "width": 0.127}, {"type": "segment", "start": [160.4791, 108.55135], "end": [160.4791, 103.55135], "width": 0.127}, {"type": "segment", "start": [165.4791, 103.55135], "end": [165.4791, 108.55135], "width": 0.127}, {"type": "segment", "start": [165.4791, 108.55135], "end": [160.4791, 108.55135], "width": 0.127}, {"type": "circle", "start": [162.9791, 106.05135], "radius": 2.5, "width": 0.2032}, {"thickness": 0.036576, "svgpath": "M149.263373,83.192967L149.263373,82.540017M149.263373,82.726574L149.310012,82.633296L149.356651,82.586657L149.44993,82.540017L149.543208,82.540017M150.242797,83.146328L150.149518,83.192967L149.962961,83.192967L149.869683,83.146328L149.823043,83.053049L149.823043,82.679935L149.869683,82.586657L149.962961,82.540017L150.149518,82.540017L150.242797,82.586657L150.289436,82.679935L150.289436,82.773214L149.823043,82.866492M150.662549,83.146328L150.755828,83.192967L150.942385,83.192967L151.035663,83.146328L151.082303,83.053049L151.082303,83.00641L151.035663,82.913131L150.942385,82.866492L150.802467,82.866492L150.709189,82.819853L150.662549,82.726574L150.662549,82.679935L150.709189,82.586657L150.802467,82.540017L150.942385,82.540017L151.035663,82.586657M151.87517,83.146328L151.781891,83.192967L151.595334,83.192967L151.502056,83.146328L151.455416,83.053049L151.455416,82.679935L151.502056,82.586657L151.595334,82.540017L151.781891,82.540017L151.87517,82.586657L151.921809,82.679935L151.921809,82.773214L151.455416,82.866492M152.201644,82.540017L152.574758,82.540017M152.341562,82.213543L152.341562,83.053049L152.388201,83.146328L152.481479,83.192967L152.574758,83.192967", "val": 1}, {"type": "segment", "start": [153.2681, 82.363769], "end": [149.0681, 82.363769], "width": 0.2032}, {"type": "segment", "start": [153.2681, 79.563769], "end": [153.2681, 82.363769], "width": 0.2032}, {"type": "segment", "start": [152.2181, 81.763769], "end": [150.1181, 81.763769], "width": 0.2032}, {"type": "segment", "start": [151.5681, 81.363769], "end": [151.1681, 81.363769], "width": 0.127}, {"type": "segment", "start": [151.5681, 80.563769], "end": [151.1681, 80.563769], "width": 0.127}, {"type": "segment", "start": [151.1681, 81.363769], "end": [151.1681, 81.163769], "width": 0.127}, {"type": "segment", "start": [151.1681, 81.363769], "end": [150.7681, 81.363769], "width": 0.127}, {"type": "segment", "start": [151.1681, 81.163769], "end": [150.8681, 80.863769], "width": 0.127}, {"type": "segment", "start": [151.1681, 80.563769], "end": [151.1681, 80.663769], "width": 0.127}, {"type": "segment", "start": [151.1681, 80.563769], "end": [150.7681, 80.563769], "width": 0.127}, {"type": "segment", "start": [150.1181, 80.163769], "end": [152.2181, 80.163769], "width": 0.2032}, {"type": "segment", "start": [149.0681, 82.363769], "end": [149.0681, 79.563769], "width": 0.2032}, {"type": "segment", "start": [149.0681, 79.563769], "end": [153.2681, 79.563769], "width": 0.2032}, {"type": "arc", "start": [150.2867, 80.963769], "radius": 2.090528, "startangle": -22.5, "endangle": 22.5, "width": 0.2032}, {"type": "arc", "start": [152.049493, 80.963769], "radius": 2.090521, "startangle": 157.5, "endangle": 202.5, "width": 0.2032}, {"thickness": 0.029261, "svgpath": "M134.219062,111.868298L134.219062,112.432149M134.219062,112.150224L133.232323,112.150224L133.373286,112.244199L133.467261,112.338174L133.514249,112.432149M133.232323,111.25746L133.232323,111.163485L133.279311,111.06951L133.326298,111.022523L133.420273,110.975535L133.608224,110.928547L133.843162,110.928547L134.031112,110.975535L134.125087,111.022523L134.172075,111.06951L134.219062,111.163485L134.219062,111.25746L134.172075,111.351436L134.125087,111.398423L134.031112,111.445411L133.843162,111.492398L133.608224,111.492398L133.420273,111.445411L133.326298,111.398423L133.279311,111.351436L133.232323,111.25746M133.561236,110.082772L134.219062,110.082772M133.561236,110.50566L134.078099,110.50566L134.172075,110.458672L134.219062,110.364697L134.219062,110.223734L134.172075,110.129759L134.125087,110.082772M133.702199,109.283983L133.702199,109.612896M134.219062,109.612896L133.232323,109.612896L133.232323,109.14302", "val": 1}, {"type": "segment", "start": [130.8231, 111.63935], "end": [130.8231, 110.87735], "width": 0.1016}, {"type": "segment", "start": [132.1431, 111.61435], "end": [132.1431, 110.87735], "width": 0.1016}, {"type": "polygon", "pos": [131.4831, 111.25835], "angle": 90.0, "polygons": [[[-1.0922, 0.7239], [-0.3421, 0.7239], [-0.3421, -0.7262], [-1.0922, -0.7262]]]}, {"type": "polygon", "pos": [131.4831, 111.25835], "angle": 90.0, "polygons": [[[0.3556, 0.7239], [1.1057, 0.7239], [1.1057, -0.7262], [0.3556, -0.7262]]]}, {"thickness": 0.001869, "svgpath": "M146.470127,83.474537L146.470127,82.895033M147.484258,83.184785L146.470127,83.184785M147.484258,82.55699L146.470127,82.55699L146.470127,82.170654L146.518419,82.07407L146.566711,82.025778L146.663295,81.977486L146.808171,81.977486L146.904755,82.025778L146.953047,82.07407L147.001339,82.170654L147.001339,82.55699M146.470127,81.687735L146.470127,81.108231M147.484258,81.397983L146.470127,81.397983M147.484258,80.770188L146.470127,80.770188L146.470127,80.383852L146.518419,80.287268L146.566711,80.238976L146.663295,80.190684L146.808171,80.190684L146.904755,80.238976L146.953047,80.287268L147.001339,80.383852L147.001339,80.770188M147.484258,79.224845L147.484258,79.804349M147.484258,79.514597L146.470127,79.514597L146.615003,79.611181L146.711587,79.707765L146.759879,79.804349M146.470127,78.886802L146.470127,78.210714L147.484258,78.645342M147.484258,77.244875L147.001339,77.582919M147.484258,77.824379L146.470127,77.824379L146.470127,77.438043L146.518419,77.341459L146.566711,77.293167L146.663295,77.244875L146.808171,77.244875L146.904755,77.293167L146.953047,77.341459L147.001339,77.438043L147.001339,77.824379", "val": 1}, {"thickness": 0.001869, "svgpath": "M145.479527,83.538037L145.479527,82.958533M146.493658,83.248285L145.479527,83.248285M146.493658,82.62049L145.479527,82.62049L145.479527,82.234154L145.527819,82.13757L145.576111,82.089278L145.672695,82.040986L145.817571,82.040986L145.914155,82.089278L145.962447,82.13757L146.010739,82.234154L146.010739,82.62049M145.479527,81.751235L145.479527,81.171731M146.493658,81.461483L145.479527,81.461483M146.493658,80.833688L145.479527,80.833688L145.479527,80.447352L145.527819,80.350768L145.576111,80.302476L145.672695,80.254184L145.817571,80.254184L145.914155,80.302476L145.962447,80.350768L146.010739,80.447352L146.010739,80.833688M146.493658,79.288345L146.493658,79.867849M146.493658,79.578097L145.479527,79.578097L145.624403,79.674681L145.720987,79.771265L145.769279,79.867849M145.479527,78.950302L145.479527,78.274214L146.493658,78.708842M146.493658,77.308375L146.010739,77.646419M146.493658,77.887879L145.479527,77.887879L145.479527,77.501543L145.527819,77.404959L145.576111,77.356667L145.672695,77.308375L145.817571,77.308375L145.914155,77.356667L145.962447,77.404959L146.010739,77.501543L146.010739,77.887879", "val": 1}, {"thickness": 0.093472, "svgpath": "M147.022358,87.550268L147.022358,86.62774L147.329867,87.286689L147.637377,86.62774L147.637377,87.550268M148.076676,87.550268L148.076676,86.62774M149.043134,87.462409L148.999204,87.506339L148.867414,87.550268L148.779554,87.550268L148.647765,87.506339L148.559905,87.418479L148.515975,87.330619L148.472045,87.154899L148.472045,87.02311L148.515975,86.84739L148.559905,86.75953L148.647765,86.67167L148.779554,86.62774L148.867414,86.62774L148.999204,86.67167L149.043134,86.7156M149.218854,87.638128L149.921732,87.638128M150.141381,87.550268L150.141381,86.62774L150.49282,86.62774L150.58068,86.67167L150.62461,86.7156L150.66854,86.80346L150.66854,86.93525L150.62461,87.02311L150.58068,87.067039L150.49282,87.110969L150.141381,87.110969M151.063909,87.550268L151.063909,86.62774L151.283559,86.62774L151.415348,86.67167L151.503208,86.75953L151.547138,86.84739L151.591068,87.02311L151.591068,87.154899L151.547138,87.330619L151.503208,87.418479L151.415348,87.506339L151.283559,87.550268L151.063909,87.550268M151.986437,87.550268L151.986437,86.62774L152.293946,87.286689L152.601456,86.62774L152.601456,87.550268", "val": 1}, {"thickness": 0.029261, "svgpath": "M173.126736,100.801192L173.925525,100.801192L174.0195,100.848179L174.066488,100.895167L174.113475,100.989142L174.113475,101.130105L174.066488,101.22408M173.737575,100.801192L173.784562,100.895167L173.784562,101.083117L173.737575,101.177092L173.690587,101.22408L173.596612,101.271067L173.314686,101.271067L173.220711,101.22408L173.173724,101.177092L173.126736,101.083117L173.126736,100.895167L173.173724,100.801192M173.784562,100.331316L173.126736,100.331316M173.314686,100.331316L173.220711,100.284328L173.173724,100.237341L173.126736,100.143365L173.126736,100.04939M173.737575,99.344577L173.784562,99.438552L173.784562,99.626503L173.737575,99.720478L173.643599,99.767465L173.267699,99.767465L173.173724,99.720478L173.126736,99.626503L173.126736,99.438552L173.173724,99.344577L173.267699,99.29759L173.361674,99.29759L173.455649,99.767465M173.737575,98.498801L173.784562,98.592776L173.784562,98.780727L173.737575,98.874702L173.643599,98.921689L173.267699,98.921689L173.173724,98.874702L173.126736,98.780727L173.126736,98.592776L173.173724,98.498801L173.267699,98.451814L173.361674,98.451814L173.455649,98.921689M173.126736,98.028926L173.784562,98.028926M173.220711,98.028926L173.173724,97.981938L173.126736,97.887963L173.126736,97.747L173.173724,97.653025L173.267699,97.606038L173.784562,97.606038", "val": 1}, {"type": "segment", "start": [172.1676, 99.07235], "end": [172.1676, 99.79735], "width": 0.1016}, {"type": "segment", "start": [172.9676, 99.09735], "end": [172.9676, 99.79735], "width": 0.1016}, {"type": "arc", "start": [172.5676, 100.27235], "radius": 0.275, "startangle": -180.0, "endangle": 0.0, "width": 0.0508}, {"type": "arc", "start": [172.5676, 98.62125], "radius": 0.301133, "startangle": 4.97, "endangle": 175.03, "width": 0.1016}, {"type": "circle", "start": [172.2176, 98.82235], "radius": 0.075, "width": 0.0508}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[-0.45, -0.7], [-0.25, -0.7], [-0.25, -0.85], [-0.45, -0.85]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[-0.45, -0.35], [-0.4, -0.35], [-0.4, -0.725], [-0.45, -0.725]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[-0.45, -0.35], [0.45, -0.35], [0.45, -0.575], [-0.45, -0.575]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[-0.45, 0.85], [-0.25, 0.85], [-0.25, 0.35], [-0.45, 0.35]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[-0.275, -0.55], [-0.225, -0.55], [-0.225, -0.6], [-0.275, -0.6]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[-0.275, 0.575], [0.275, 0.575], [0.275, 0.35], [-0.275, 0.35]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[-0.275, 0.65], [-0.175, 0.65], [-0.175, 0.55], [-0.275, 0.55]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[0.175, 0.65], [0.275, 0.65], [0.275, 0.55], [0.175, 0.55]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[0.25, -0.55], [0.45, -0.55], [0.45, -0.85], [0.25, -0.85]]]}, {"type": "polygon", "pos": [172.5676, 99.44735], "angle": 0.0, "polygons": [[[0.25, 0.85], [0.45, 0.85], [0.45, 0.35], [0.25, 0.35]]]}, {"thickness": 0.036576, "svgpath": "M157.446985,98.565048L156.887314,98.565048M157.16715,98.565048L157.16715,97.585624L157.073871,97.725541L156.980593,97.81882L156.887314,97.865459M158.053296,97.585624L158.146574,97.585624L158.239853,97.632263L158.286492,97.678902L158.333131,97.772181L158.37977,97.958738L158.37977,98.191934L158.333131,98.378491L158.286492,98.471769L158.239853,98.518409L158.146574,98.565048L158.053296,98.565048L157.960017,98.518409L157.913378,98.471769L157.866739,98.378491L157.820099,98.191934L157.820099,97.958738L157.866739,97.772181L157.913378,97.678902L157.960017,97.632263L158.053296,97.585624M158.986081,97.585624L159.079359,97.585624L159.172638,97.632263L159.219277,97.678902L159.265916,97.772181L159.312555,97.958738L159.312555,98.191934L159.265916,98.378491L159.219277,98.471769L159.172638,98.518409L159.079359,98.565048L158.986081,98.565048L158.892802,98.518409L158.846163,98.471769L158.799524,98.378491L158.752884,98.191934L158.752884,97.958738L158.799524,97.772181L158.846163,97.678902L158.892802,97.632263L158.986081,97.585624M159.732309,98.565048L159.732309,97.585624M160.29198,98.565048L159.872226,98.005377M160.29198,97.585624L159.732309,98.145295", "val": 1}, {"type": "segment", "start": [162.1286, 99.05385], "end": [161.4166, 99.05385], "width": 0.1016}, {"type": "segment", "start": [162.1286, 98.20285], "end": [161.4166, 98.20285], "width": 0.1016}, {"type": "polygon", "pos": [161.7726, 98.62185], "angle": 180.0, "polygons": [[[-0.8382, 0.4699], [-0.3381, 0.4699], [-0.3381, -0.4801], [-0.8382, -0.4801]]]}, {"type": "polygon", "pos": [161.7726, 98.62185], "angle": 180.0, "polygons": [[[0.3302, 0.4699], [0.8303, 0.4699], [0.8303, -0.4801], [0.3302, -0.4801]]]}, {"thickness": 0.08128, "svgpath": "M163.953229,78.167647L163.423541,78.57409L163.290507,78.620067L163.16569,78.603634L163.049089,78.524793L162.994896,78.454168M163.490845,79.027385L163.536821,79.160419L163.672303,79.336981L163.761808,79.38051L163.824217,79.388726L163.921938,79.369846L163.992563,79.315654L164.036092,79.226149L164.044308,79.16374L164.025428,79.066019L163.952356,78.897672L163.933476,78.799951L163.941692,78.737542L163.985221,78.648037L164.055846,78.593845L164.153567,78.574965L164.215976,78.583181L164.305481,78.62671L164.440962,78.803272L164.486938,78.936306M164.684829,79.121086L165.009984,79.544836M164.105843,79.901982L164.847406,79.332961M164.899852,80.863638L164.945828,80.996672L165.081309,81.173234L165.170814,81.216763L165.233223,81.224979L165.330944,81.206099L165.401569,81.151907L165.445098,81.062402L165.453314,80.999993L165.434434,80.902272L165.361362,80.733925L165.342482,80.636204L165.350698,80.573795L165.394227,80.48429L165.464852,80.430097L165.562573,80.411217L165.624982,80.419434L165.714487,80.462963L165.849969,80.639525L165.895945,80.772559M165.433561,81.632298L166.175124,81.063276M165.821999,81.334239L166.147154,81.757989M165.758716,82.056048L166.500279,81.487026M167.20146,82.912639L166.707085,83.291987M167.348479,82.519306L166.68331,82.749187L167.035562,83.20825"}, {"type": "segment", "start": [157.691068, 81.87227], "end": [153.977623, 77.032814], "width": 0.1524}, {"type": "segment", "start": [161.062819, 79.285034], "end": [157.691068, 81.87227], "width": 0.1524}, {"type": "segment", "start": [153.977623, 77.032814], "end": [157.349375, 74.445578], "width": 0.1524}, {"type": "segment", "start": [157.349375, 74.445578], "end": [161.062819, 79.285034], "width": 0.1524}, {"thickness": 0.074778, "svgpath": "M165.34368,79.877011L164.98739,80.776553L165.519864,80.328667L165.281105,80.982215L166.004541,80.33975M165.747387,81.253994L165.831822,81.367831L166.015395,81.49637L166.114531,81.511071L166.176954,81.500064L166.265084,81.452343L166.316499,81.378914L166.3312,81.279778L166.320193,81.217355L166.272472,81.129225L166.151322,80.98968L166.103601,80.90155L166.092594,80.839128L166.107295,80.739991L166.158711,80.666562L166.246841,80.618841L166.309263,80.607834L166.408399,80.622535L166.591972,80.751074L166.676408,80.864912M166.944416,81.107288L167.006838,81.096282L167.105975,81.110983L167.289547,81.239521L167.337268,81.327651L167.348275,81.390073L167.333574,81.48921L167.282158,81.562639L167.168321,81.647075L166.419254,81.779155L166.896542,82.113356M167.645609,81.981276L167.597888,81.893146L167.586881,81.830723L167.601582,81.731587L167.62729,81.694872L167.71542,81.647151L167.777842,81.636144L167.876979,81.650845L168.023836,81.753676L168.071558,81.841806L168.082564,81.904229L168.067863,82.003365L168.042156,82.04008L167.954026,82.087801L167.891603,82.098808L167.792467,82.084107L167.645609,81.981276L167.546472,81.966575L167.48405,81.977581L167.39592,82.025302L167.293089,82.17216L167.278388,82.271297L167.289395,82.333719L167.337116,82.421849L167.483974,82.52468L167.58311,82.539381L167.645533,82.528375L167.733663,82.480653L167.836494,82.333796L167.851195,82.234659L167.840188,82.172237L167.792467,82.084107M168.365121,83.141666L167.924547,82.833173M168.144834,82.98742L168.684697,82.216416L168.534145,82.275144L168.4093,82.297157L168.310164,82.282456M169.147284,82.649753L169.209706,82.638747L169.308843,82.653448L169.492416,82.781986L169.540137,82.870116L169.551143,82.932539L169.536442,83.031675L169.485027,83.105104L169.371189,83.18954L168.622122,83.321621L169.099411,83.655821M169.969628,83.663286L170.054063,83.777124L170.06507,83.839546L170.050369,83.938683L169.973246,84.048826L169.885116,84.096548L169.822693,84.107554L169.723557,84.092853L169.429841,83.887191L169.969704,83.116187L170.226705,83.296142L170.274426,83.384272L170.285433,83.446694L170.270732,83.54583L170.219316,83.619259L170.131186,83.666981L170.068764,83.677987L169.969628,83.663286L169.712626,83.483332M169.965857,84.371944L170.553289,84.783268M171.478616,84.555745L171.118707,85.069748M171.500705,84.133491L170.931517,84.555669L171.408805,84.88987M172.209287,84.68436L172.282716,84.735776L172.330437,84.823906L172.341444,84.886328L172.326743,84.985465L172.260626,85.15803L172.132088,85.341603L171.992542,85.462753L171.904412,85.510474L171.84199,85.521481L171.742853,85.50678L171.669424,85.455364L171.621703,85.367234L171.610696,85.304812L171.625397,85.205675L171.691514,85.03311L171.820053,84.849537L171.959598,84.728387L172.047728,84.680666L172.11015,84.669659L172.209287,84.68436M172.708589,85.143406L172.771011,85.132399L172.870148,85.1471L173.05372,85.275639L173.101441,85.363769L173.112448,85.426191L173.097747,85.525328L173.046331,85.598757L172.932494,85.683192L172.183427,85.815273L172.660715,86.149474M173.677866,85.712671L173.751295,85.764086L173.799016,85.852216L173.810023,85.914638L173.795322,86.013775L173.729205,86.186341L173.600667,86.369913L173.461121,86.491063L173.372991,86.538784L173.310569,86.549791L173.211432,86.53509L173.138003,86.483674L173.090282,86.395544L173.079275,86.333122L173.093976,86.233986L173.160093,86.06142L173.288632,85.877848L173.428177,85.756697L173.516307,85.708976L173.578729,85.69797L173.677866,85.712671", "val": 1}, {"thickness": 0.036576, "svgpath": "M162.439827,84.595048L161.880156,84.595048M162.159992,84.595048L162.159992,83.615624L162.066713,83.755541L161.973435,83.84882L161.880156,83.895459M163.279334,83.942098L163.279334,84.595048M162.859581,83.942098L162.859581,84.45513L162.90622,84.548409L162.999498,84.595048L163.139416,84.595048L163.232695,84.548409L163.279334,84.501769M164.072201,84.082016L163.745727,84.082016M163.745727,84.595048L163.745727,83.615624L164.212119,83.615624", "val": 1}, {"type": "segment", "start": [161.0991, 85.68035], "end": [161.8111, 85.68035], "width": 0.1016}, {"type": "segment", "start": [161.0991, 86.53135], "end": [161.8111, 86.53135], "width": 0.1016}, {"type": "polygon", "pos": [161.4551, 86.11235], "angle": 0.0, "polygons": [[[-0.8382, 0.4699], [-0.3381, 0.4699], [-0.3381, -0.4801], [-0.8382, -0.4801]]]}, {"type": "polygon", "pos": [161.4551, 86.11235], "angle": 0.0, "polygons": [[[0.3302, 0.4699], [0.8303, 0.4699], [0.8303, -0.4801], [0.3302, -0.4801]]]}, {"thickness": 0.036576, "svgpath": "M147.394271,75.895548L147.394271,75.242598M147.394271,75.429155L147.44091,75.335877L147.487549,75.289238L147.580828,75.242598L147.674106,75.242598M148.373695,75.848909L148.280416,75.895548L148.093859,75.895548L148.000581,75.848909L147.953941,75.75563L147.953941,75.382516L148.000581,75.289238L148.093859,75.242598L148.280416,75.242598L148.373695,75.289238L148.420334,75.382516L148.420334,75.475795L147.953941,75.569073M149.25984,75.895548L149.25984,74.916124M149.25984,75.848909L149.166561,75.895548L148.980004,75.895548L148.886726,75.848909L148.840087,75.802269L148.793447,75.708991L148.793447,75.429155L148.840087,75.335877L148.886726,75.289238L148.980004,75.242598L149.166561,75.242598L149.25984,75.289238", "val": 1}, {"type": "segment", "start": [148.5456, 77.41885], "end": [148.5456, 78.14385], "width": 0.1016}, {"type": "segment", "start": [149.3456, 77.44385], "end": [149.3456, 78.14385], "width": 0.1016}, {"type": "arc", "start": [148.9456, 78.61885], "radius": 0.275, "startangle": -180.0, "endangle": 0.0, "width": 0.0508}, {"type": "arc", "start": [148.9456, 76.96775], "radius": 0.301133, "startangle": 4.97, "endangle": 175.03, "width": 0.1016}, {"type": "circle", "start": [148.5956, 77.16885], "radius": 0.075, "width": 0.0508}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[-0.45, -0.7], [-0.25, -0.7], [-0.25, -0.85], [-0.45, -0.85]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[-0.45, -0.35], [-0.4, -0.35], [-0.4, -0.725], [-0.45, -0.725]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[-0.45, -0.35], [0.45, -0.35], [0.45, -0.575], [-0.45, -0.575]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[-0.45, 0.85], [-0.25, 0.85], [-0.25, 0.35], [-0.45, 0.35]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[-0.275, -0.55], [-0.225, -0.55], [-0.225, -0.6], [-0.275, -0.6]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[-0.275, 0.575], [0.275, 0.575], [0.275, 0.35], [-0.275, 0.35]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[-0.275, 0.65], [-0.175, 0.65], [-0.175, 0.55], [-0.275, 0.55]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[0.175, 0.65], [0.275, 0.65], [0.275, 0.55], [0.175, 0.55]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[0.25, -0.55], [0.45, -0.55], [0.45, -0.85], [0.25, -0.85]]]}, {"type": "polygon", "pos": [148.9456, 77.79385], "angle": 0.0, "polygons": [[[0.25, 0.85], [0.45, 0.85], [0.45, 0.35], [0.25, 0.35]]]}, {"thickness": 0.036576, "svgpath": "M169.018298,107.015407L169.018298,107.575078M169.018298,107.295242L168.038874,107.295242L168.178791,107.388521L168.27207,107.481799L168.318709,107.575078M168.038874,106.409096L168.038874,106.315818L168.085513,106.222539L168.132152,106.1759L168.225431,106.129261L168.411988,106.082622L168.645184,106.082622L168.831741,106.129261L168.925019,106.1759L168.971659,106.222539L169.018298,106.315818L169.018298,106.409096L168.971659,106.502375L168.925019,106.549014L168.831741,106.595653L168.645184,106.642293L168.411988,106.642293L168.225431,106.595653L168.132152,106.549014L168.085513,106.502375L168.038874,106.409096M168.365348,105.243115L169.018298,105.243115M168.365348,105.662868L168.87838,105.662868L168.971659,105.616229L169.018298,105.522951L169.018298,105.383033L168.971659,105.289754L168.925019,105.243115M168.505266,104.450248L168.505266,104.776722M169.018298,104.776722L168.038874,104.776722L168.038874,104.31033", "val": 1}, {"type": "segment", "start": [169.9891, 101.73335], "end": [169.9891, 102.49535], "width": 0.1016}, {"type": "segment", "start": [168.6691, 101.75835], "end": [168.6691, 102.49535], "width": 0.1016}, {"type": "polygon", "pos": [169.3291, 102.11435], "angle": -90.0, "polygons": [[[-1.0922, 0.7239], [-0.3421, 0.7239], [-0.3421, -0.7262], [-1.0922, -0.7262]]]}, {"type": "polygon", "pos": [169.3291, 102.11435], "angle": -90.0, "polygons": [[[0.3556, 0.7239], [1.1057, 0.7239], [1.1057, -0.7262], [0.3556, -0.7262]]]}, {"thickness": 0.074778, "svgpath": "M135.405717,146.012393L136.346939,145.788293L135.674637,145.609012L136.346939,145.429732L135.405717,145.205632M136.302119,144.891891L136.346939,144.757431L136.346939,144.53333L136.302119,144.44369L136.257298,144.39887L136.167658,144.35405L136.078018,144.35405L135.988378,144.39887L135.943558,144.44369L135.898738,144.53333L135.853918,144.712611L135.809097,144.802251L135.764277,144.847071L135.674637,144.891891L135.584997,144.891891L135.495357,144.847071L135.450537,144.802251L135.405717,144.712611L135.405717,144.48851L135.450537,144.35405M135.495357,143.995489L135.450537,143.950669L135.405717,143.861029L135.405717,143.636928L135.450537,143.547288L135.495357,143.502468L135.584997,143.457648L135.674637,143.457648L135.809097,143.502468L136.346939,144.040309L136.346939,143.457648M135.809097,142.919807L135.764277,143.009447L135.719457,143.054267L135.629817,143.099087L135.584997,143.099087L135.495357,143.054267L135.450537,143.009447L135.405717,142.919807L135.405717,142.740526L135.450537,142.650886L135.495357,142.606066L135.584997,142.561246L135.629817,142.561246L135.719457,142.606066L135.764277,142.650886L135.809097,142.740526L135.809097,142.919807L135.853918,143.009447L135.898738,143.054267L135.988378,143.099087L136.167658,143.099087L136.257298,143.054267L136.302119,143.009447L136.346939,142.919807L136.346939,142.740526L136.302119,142.650886L136.257298,142.606066L136.167658,142.561246L135.988378,142.561246L135.898738,142.606066L135.853918,142.650886L135.809097,142.740526M136.346939,141.664844L136.346939,142.202685M136.346939,141.933765L135.405717,141.933765L135.540177,142.023405L135.629817,142.113045L135.674637,142.202685M135.495357,141.306283L135.450537,141.261463L135.405717,141.171823L135.405717,140.947722L135.450537,140.858082L135.495357,140.813262L135.584997,140.768442L135.674637,140.768442L135.809097,140.813262L136.346939,141.351103L136.346939,140.768442M135.853918,140.05132L135.898738,139.91686L135.943558,139.87204L136.033198,139.82722L136.167658,139.82722L136.257298,139.87204L136.302119,139.91686L136.346939,140.0065L136.346939,140.365061L135.405717,140.365061L135.405717,140.05132L135.450537,139.96168L135.495357,139.91686L135.584997,139.87204L135.674637,139.87204L135.764277,139.91686L135.809097,139.96168L135.853918,140.05132L135.853918,140.365061M136.436579,139.64794L136.436579,138.930818M135.719457,138.303336L136.346939,138.303336M135.360897,138.527437L136.033198,138.751537L136.033198,138.168876M135.405717,137.631035L135.405717,137.541394L135.450537,137.451754L135.495357,137.406934L135.584997,137.362114L135.764277,137.317294L135.988378,137.317294L136.167658,137.362114L136.257298,137.406934L136.302119,137.451754L136.346939,137.541394L136.346939,137.631035L136.302119,137.720675L136.257298,137.765495L136.167658,137.810315L135.988378,137.855135L135.764277,137.855135L135.584997,137.810315L135.495357,137.765495L135.450537,137.720675L135.405717,137.631035M135.495357,136.958733L135.450537,136.913913L135.405717,136.824273L135.405717,136.600172L135.450537,136.510532L135.495357,136.465712L135.584997,136.420892L135.674637,136.420892L135.809097,136.465712L136.346939,137.003553L136.346939,136.420892M135.405717,135.838231L135.405717,135.74859L135.450537,135.65895L135.495357,135.61413L135.584997,135.56931L135.764277,135.52449L135.988378,135.52449L136.167658,135.56931L136.257298,135.61413L136.302119,135.65895L136.346939,135.74859L136.346939,135.838231L136.302119,135.927871L136.257298,135.972691L136.167658,136.017511L135.988378,136.062331L135.764277,136.062331L135.584997,136.017511L135.495357,135.972691L135.450537,135.927871L135.405717,135.838231", "val": 1}, {"thickness": 0.08128, "svgpath": "M152.093125,90.274616L152.404698,90.274616M152.53823,90.764231L152.093125,90.764231L152.093125,89.829511L152.53823,89.829511"}, {"thickness": 0.08128, "svgpath": "M148.927251,90.77521L148.88274,90.819721L148.749209,90.864231L148.660188,90.864231L148.526656,90.819721L148.437635,90.7307L148.393125,90.641679L148.348614,90.463637L148.348614,90.330105L148.393125,90.152063L148.437635,90.063042L148.526656,89.974021L148.660188,89.929511L148.749209,89.929511L148.88274,89.974021L148.927251,90.018532"}, {"thickness": 0.036576, "svgpath": "M158.988879,93.178578L158.522487,93.178578L158.475847,93.64497L158.522487,93.598331L158.615765,93.551692L158.848961,93.551692L158.94224,93.598331L158.988879,93.64497L159.035518,93.738249L159.035518,93.971445L158.988879,94.064723L158.94224,94.111363L158.848961,94.158002L158.615765,94.158002L158.522487,94.111363L158.475847,94.064723M159.455272,94.064723L159.501911,94.111363L159.455272,94.158002L159.408632,94.111363L159.455272,94.064723L159.455272,94.158002M160.434695,94.158002L159.875024,94.158002M160.15486,94.158002L160.15486,93.178578L160.061581,93.318495L159.968303,93.411774L159.875024,93.458413M160.854449,94.158002L160.854449,93.178578M161.41412,94.158002L160.994366,93.598331M161.41412,93.178578L160.854449,93.738249", "val": 1}, {"type": "segment", "start": [159.433231, 91.4967], "end": [160.145231, 91.4967], "width": 0.1016}, {"type": "segment", "start": [159.433231, 92.3477], "end": [160.145231, 92.3477], "width": 0.1016}, {"type": "polygon", "pos": [159.789231, 91.9287], "angle": 0.0, "polygons": [[[-0.8382, 0.4699], [-0.3381, 0.4699], [-0.3381, -0.4801], [-0.8382, -0.4801]]]}, {"type": "polygon", "pos": [159.789231, 91.9287], "angle": 0.0, "polygons": [[[0.3302, 0.4699], [0.8303, 0.4699], [0.8303, -0.4801], [0.3302, -0.4801]]]}, {"thickness": 0.036576, "svgpath": "M163.195707,96.769098L163.195707,97.422048M162.962511,96.395985L162.729314,97.095573L163.335625,97.095573M164.175131,96.442624L163.708739,96.442624L163.662099,96.909016L163.708739,96.862377L163.802017,96.815738L164.035213,96.815738L164.128492,96.862377L164.175131,96.909016L164.22177,97.002295L164.22177,97.235491L164.175131,97.328769L164.128492,97.375409L164.035213,97.422048L163.802017,97.422048L163.708739,97.375409L163.662099,97.328769M164.828081,96.442624L164.921359,96.442624L165.014638,96.489263L165.061277,96.535902L165.107916,96.629181L165.154555,96.815738L165.154555,97.048934L165.107916,97.235491L165.061277,97.328769L165.014638,97.375409L164.921359,97.422048L164.828081,97.422048L164.734802,97.375409L164.688163,97.328769L164.641524,97.235491L164.594884,97.048934L164.594884,96.815738L164.641524,96.629181L164.688163,96.535902L164.734802,96.489263L164.828081,96.442624M165.574309,97.422048L165.574309,96.442624M166.13398,97.422048L165.714226,96.862377M166.13398,96.442624L165.574309,97.002295", "val": 1}, {"type": "segment", "start": [165.3036, 99.05385], "end": [164.5916, 99.05385], "width": 0.1016}, {"type": "segment", "start": [165.3036, 98.20285], "end": [164.5916, 98.20285], "width": 0.1016}, {"type": "polygon", "pos": [164.9476, 98.62185], "angle": 180.0, "polygons": [[[-0.8382, 0.4699], [-0.3381, 0.4699], [-0.3381, -0.4801], [-0.8382, -0.4801]]]}, {"type": "polygon", "pos": [164.9476, 98.62185], "angle": 180.0, "polygons": [[[0.3302, 0.4699], [0.8303, 0.4699], [0.8303, -0.4801], [0.3302, -0.4801]]]}, {"thickness": 0.036576, "svgpath": "M159.193877,96.482602L159.193877,96.948994L159.660269,96.995634L159.61363,96.948994L159.566991,96.855716L159.566991,96.62252L159.61363,96.529241L159.660269,96.482602L159.753548,96.435963L159.986744,96.435963L160.080022,96.482602L160.126662,96.529241L160.173301,96.62252L160.173301,96.855716L160.126662,96.948994L160.080022,96.995634M160.080022,96.016209L160.126662,95.96957L160.173301,96.016209L160.126662,96.062849L160.080022,96.016209L160.173301,96.016209M160.173301,95.036786L160.173301,95.596457M160.173301,95.316621L159.193877,95.316621L159.333794,95.4099L159.427073,95.503178L159.473712,95.596457M160.173301,94.617032L159.193877,94.617032M160.173301,94.057361L159.61363,94.477115M159.193877,94.057361L159.753548,94.617032", "val": 1}, {"type": "segment", "start": [160.306003, 96.546254], "end": [160.306003, 95.834254], "width": 0.1016}, {"type": "segment", "start": [161.157003, 96.546254], "end": [161.157003, 95.834254], "width": 0.1016}, {"type": "polygon", "pos": [160.738003, 96.190254], "angle": 90.0, "polygons": [[[-0.8382, 0.4699], [-0.3381, 0.4699], [-0.3381, -0.4801], [-0.8382, -0.4801]]]}, {"type": "polygon", "pos": [160.738003, 96.190254], "angle": 90.0, "polygons": [[[0.3302, 0.4699], [0.8303, 0.4699], [0.8303, -0.4801], [0.3302, -0.4801]]]}, {"thickness": 0.074778, "svgpath": "M129.038407,83.880189L129.862414,84.38727L129.513796,83.785111L130.115955,84.133729L129.608874,83.309722M130.464573,83.721726L130.591344,83.658341L130.749807,83.499878L130.781499,83.4048L130.781499,83.341415L130.749807,83.246337L130.686422,83.182952L130.591344,83.151259L130.527959,83.151259L130.432881,83.182952L130.274418,83.27803L130.17934,83.309722L130.115955,83.309722L130.020877,83.27803L129.957492,83.214644L129.925799,83.119567L129.925799,83.056181L129.957492,82.961104L130.115955,82.802641L130.242725,82.739256M130.527959,82.517407L130.527959,82.454022L130.559651,82.358944L130.718114,82.200481L130.813192,82.168789L130.876577,82.168789L130.971655,82.200481L131.03504,82.263867L131.098425,82.390637L131.098425,83.151259L131.510429,82.739255M131.510429,81.978633L131.415351,82.010326L131.351966,82.010326L131.256888,81.978633L131.225196,81.946941L131.193503,81.851863L131.193503,81.788478L131.225196,81.6934L131.351966,81.566629L131.447044,81.534937L131.510429,81.534937L131.605507,81.566629L131.637199,81.598322L131.668892,81.6934L131.668892,81.756785L131.637199,81.851863L131.510429,81.978633L131.478736,82.073711L131.478736,82.137096L131.510429,82.232174L131.637199,82.358944L131.732277,82.390637L131.795662,82.390637L131.89074,82.358944L132.017511,82.232174L132.049203,82.137096L132.049203,82.073711L132.017511,81.978633L131.89074,81.851863L131.795662,81.82017L131.732277,81.82017L131.637199,81.851863M132.778133,81.471552L132.397822,81.851863M132.587977,81.661707L131.922433,80.996163L131.954125,81.154626L131.954125,81.281396L131.922433,81.376474M132.429514,80.615851L132.429514,80.552466L132.461207,80.457389L132.61967,80.298926L132.714748,80.267233L132.778133,80.267233L132.873211,80.298926L132.936596,80.362311L132.999981,80.489081L132.999981,81.249703L133.411985,80.8377M133.570448,79.982L133.697218,79.918614L133.760603,79.918614L133.855681,79.950307L133.950759,80.045385L133.982452,80.140463L133.982452,80.203848L133.950759,80.298925L133.697218,80.552466L133.031674,79.886922L133.253522,79.665074L133.3486,79.633381L133.411985,79.633381L133.507063,79.665074L133.570448,79.728459L133.60214,79.823537L133.60214,79.886922L133.570448,79.982L133.3486,80.203848M134.267685,80.10877L134.774766,79.601688M134.711382,78.65091L135.155078,79.094607M134.299378,78.555833L134.616304,79.189684L135.028307,78.777681M134.964922,77.953673L135.028308,77.890288L135.123385,77.858595L135.186771,77.858595L135.281848,77.890288L135.440311,77.985366L135.598774,78.143829L135.693852,78.302292L135.725545,78.397369L135.725545,78.460755L135.693852,78.555832L135.630467,78.619218L135.535389,78.65091L135.472004,78.65091L135.376926,78.619218L135.218463,78.52414L135.06,78.365677L134.964922,78.207214L134.93323,78.112136L134.93323,78.048751L134.964922,77.953673M135.503697,77.541669L135.503697,77.478284L135.535389,77.383206L135.693852,77.224743L135.78893,77.193051L135.852315,77.193051L135.947393,77.224743L136.010778,77.288129L136.074163,77.414899L136.074163,78.175521L136.486167,77.763518M136.232626,76.685969L136.296011,76.622584L136.391089,76.590892L136.454474,76.590892L136.549552,76.622584L136.708015,76.717662L136.866478,76.876125L136.961556,77.034588L136.993248,77.129666L136.993248,77.193051L136.961556,77.288129L136.898171,77.351514L136.803093,77.383206L136.739708,77.383206L136.64463,77.351514L136.486167,77.256436L136.327704,77.097973L136.232626,76.93951L136.200934,76.844432L136.200934,76.781047L136.232626,76.685969", "val": 1}, {"thickness": 0.036576, "svgpath": "M144.788326,85.088831L145.254719,85.088831M144.695048,85.368667L145.021523,84.389243L145.347997,85.368667M145.534554,84.389243L146.094225,84.389243M145.814389,85.368667L145.814389,84.389243M146.37406,85.322028L146.513978,85.368667L146.747174,85.368667L146.840453,85.322028L146.887092,85.275388L146.933731,85.18211L146.933731,85.088831L146.887092,84.995553L146.840453,84.948914L146.747174,84.902274L146.560617,84.855635L146.467339,84.808996L146.4207,84.762357L146.37406,84.669078L146.37406,84.5758L146.4207,84.482521L146.467339,84.435882L146.560617,84.389243L146.793814,84.389243L146.933731,84.435882M147.306845,85.088831L147.773238,85.088831M147.213567,85.368667L147.540042,84.389243L147.866516,85.368667M148.192991,85.368667L148.192991,84.389243L148.519465,85.088831L148.84594,84.389243L148.84594,85.368667M149.312333,85.368667L149.312333,84.389243L149.545529,84.389243L149.685447,84.435882L149.778725,84.52916L149.825364,84.622439L149.872004,84.808996L149.872004,84.948914L149.825364,85.135471L149.778725,85.228749L149.685447,85.322028L149.545529,85.368667L149.312333,85.368667M150.245117,84.482521L150.291757,84.435882L150.385035,84.389243L150.618231,84.389243L150.71151,84.435882L150.758149,84.482521L150.804788,84.5758L150.804788,84.669078L150.758149,84.808996L150.198478,85.368667L150.804788,85.368667M151.737573,85.368667L151.177902,85.368667M151.457738,85.368667L151.457738,84.389243L151.364459,84.52916L151.271181,84.622439L151.177902,84.669078M152.157327,84.855635L152.483801,84.855635M152.623719,85.368667L152.157327,85.368667L152.157327,84.389243L152.623719,84.389243", "val": 1}, {"type": "segment", "start": [158.374718, 84.42261], "end": [158.374718, 89.42261], "width": 0.127}, {"type": "segment", "start": [153.374718, 84.42261], "end": [158.374718, 84.42261], "width": 0.127}, {"type": "segment", "start": [158.374718, 89.42261], "end": [153.374718, 89.42261], "width": 0.127}, {"type": "segment", "start": [153.374718, 89.42261], "end": [153.374718, 84.42261], "width": 0.127}, {"thickness": 0.001869, "svgpath": "M147.448027,83.347537L147.448027,82.768033M148.462158,83.057785L147.448027,83.057785M148.462158,82.42999L147.448027,82.42999L147.448027,82.043654L147.496319,81.94707L147.544611,81.898778L147.641195,81.850486L147.786071,81.850486L147.882655,81.898778L147.930947,81.94707L147.979239,82.043654L147.979239,82.42999M147.448027,81.560735L147.448027,80.981231M148.462158,81.270983L147.448027,81.270983M148.462158,80.643188L147.448027,80.643188L147.448027,80.256852L147.496319,80.160268L147.544611,80.111976L147.641195,80.063684L147.786071,80.063684L147.882655,80.111976L147.930947,80.160268L147.979239,80.256852L147.979239,80.643188M148.462158,79.097845L148.462158,79.677349M148.462158,79.387597L147.448027,79.387597L147.592903,79.484181L147.689487,79.580765L147.737779,79.677349M147.448027,78.759802L147.448027,78.083714L148.462158,78.518342M148.462158,77.117875L147.979239,77.455919M148.462158,77.697379L147.448027,77.697379L147.448027,77.311043L147.496319,77.214459L147.544611,77.166167L147.641195,77.117875L147.786071,77.117875L147.882655,77.166167L147.930947,77.214459L147.979239,77.311043L147.979239,77.697379", "val": 1}, {"thickness": 0.036576, "svgpath": "M178.185219,97.523212L178.651612,97.523212M178.091941,97.803048L178.418416,96.823624L178.74489,97.803048M179.071365,97.803048L179.071365,96.823624L179.444479,96.823624L179.537757,96.870263L179.584396,96.916902L179.631036,97.010181L179.631036,97.150098L179.584396,97.243377L179.537757,97.290016L179.444479,97.336655L179.071365,97.336655M180.004149,96.916902L180.050789,96.870263L180.144067,96.823624L180.377263,96.823624L180.470542,96.870263L180.517181,96.916902L180.56382,97.010181L180.56382,97.103459L180.517181,97.243377L179.95751,97.803048L180.56382,97.803048M181.496605,97.803048L180.936934,97.803048M181.21677,97.803048L181.21677,96.823624L181.123491,96.963541L181.030213,97.05682L180.936934,97.103459M182.42939,97.803048L181.869719,97.803048M182.149555,97.803048L182.149555,96.823624L182.056276,96.963541L181.962998,97.05682L181.869719,97.103459M182.802504,96.916902L182.849144,96.870263L182.942422,96.823624L183.175618,96.823624L183.268897,96.870263L183.315536,96.916902L183.362175,97.010181L183.362175,97.103459L183.315536,97.243377L182.755865,97.803048L183.362175,97.803048M183.781929,97.803048L183.781929,96.823624M184.3416,97.803048L183.921846,97.243377M184.3416,96.823624L183.781929,97.383295M184.761353,97.429934L185.507581,97.429934M185.880694,96.823624L186.487004,96.823624L186.16053,97.196738L186.300447,97.196738L186.393726,97.243377L186.440365,97.290016L186.487004,97.383295L186.487004,97.616491L186.440365,97.709769L186.393726,97.756409L186.300447,97.803048L186.020612,97.803048L185.927333,97.756409L185.880694,97.709769M186.906758,97.709769L186.953397,97.756409L186.906758,97.803048L186.860118,97.756409L186.906758,97.709769L186.906758,97.803048M187.279871,96.823624L187.886181,96.823624L187.559707,97.196738L187.699624,97.196738L187.792903,97.243377L187.839542,97.290016L187.886181,97.383295L187.886181,97.616491L187.839542,97.709769L187.792903,97.756409L187.699624,97.803048L187.419789,97.803048L187.32651,97.756409L187.279871,97.709769", "val": 1}, {"type": "segment", "start": [170.1165, 99.11475], "end": [167.2717, 99.11475], "width": 0.2032}, {"type": "segment", "start": [170.1165, 97.49395], "end": [170.1165, 99.11475], "width": 0.2032}, {"type": "segment", "start": [167.2717, 99.11475], "end": [167.2717, 97.49395], "width": 0.2032}, {"type": "segment", "start": [167.2717, 97.49395], "end": [170.1165, 97.49395], "width": 0.2032}, {"type": "polygon", "pos": [168.6941, 98.30435], "angle": 180.0, "polygons": [[[-1.2, -0.85], [-0.7, -0.85], [-0.7, -1.5], [-1.2, -1.5]]]}, {"type": "polygon", "pos": [168.6941, 98.30435], "angle": 180.0, "polygons": [[[-1.2, 1.5], [-0.7, 1.5], [-0.7, 0.85], [-1.2, 0.85]]]}, {"type": "polygon", "pos": [168.6941, 98.30435], "angle": 180.0, "polygons": [[[-0.25, 1.5], [0.25, 1.5], [0.25, 0.85], [-0.25, 0.85]]]}, {"type": "polygon", "pos": [168.6941, 98.30435], "angle": 180.0, "polygons": [[[0.7, -0.85], [1.2, -0.85], [1.2, -1.5], [0.7, -1.5]]]}, {"type": "polygon", "pos": [168.6941, 98.30435], "angle": 180.0, "polygons": [[[0.7, 1.5], [1.2, 1.5], [1.2, 0.85], [0.7, 0.85]]]}, {"thickness": 0.036576, "svgpath": "M167.113298,107.015407L167.113298,107.575078M167.113298,107.295242L166.133874,107.295242L166.273791,107.388521L166.36707,107.481799L166.413709,107.575078M166.133874,106.409096L166.133874,106.315818L166.180513,106.222539L166.227152,106.1759L166.320431,106.129261L166.506988,106.082622L166.740184,106.082622L166.926741,106.129261L167.020019,106.1759L167.066659,106.222539L167.113298,106.315818L167.113298,106.409096L167.066659,106.502375L167.020019,106.549014L166.926741,106.595653L166.740184,106.642293L166.506988,106.642293L166.320431,106.595653L166.227152,106.549014L166.180513,106.502375L166.133874,106.409096M166.460348,105.243115L167.113298,105.243115M166.460348,105.662868L166.97338,105.662868L167.066659,105.616229L167.113298,105.522951L167.113298,105.383033L167.066659,105.289754L167.020019,105.243115M166.600266,104.450248L166.600266,104.776722M167.113298,104.776722L166.133874,104.776722L166.133874,104.31033", "val": 1}, {"type": "segment", "start": [168.0841, 101.73335], "end": [168.0841, 102.49535], "width": 0.1016}, {"type": "segment", "start": [166.7641, 101.75835], "end": [166.7641, 102.49535], "width": 0.1016}, {"type": "polygon", "pos": [167.4241, 102.11435], "angle": -90.0, "polygons": [[[-1.0922, 0.7239], [-0.3421, 0.7239], [-0.3421, -0.7262], [-1.0922, -0.7262]]]}, {"type": "polygon", "pos": [167.4241, 102.11435], "angle": -90.0, "polygons": [[[0.3556, 0.7239], [1.1057, 0.7239], [1.1057, -0.7262], [0.3556, -0.7262]]]}, {"thickness": 0.036576, "svgpath": "M169.636481,89.136125L170.28596,89.590895L170.38912,89.606193L170.454076,89.594739L170.545783,89.545081L170.652788,89.392263L170.668085,89.289102L170.656632,89.224147L170.606974,89.13244L169.957495,88.67767M170.962348,88.868852L171.080806,88.780989L171.214562,88.589966L171.22986,88.486805L171.218406,88.42185L171.168748,88.330143L171.092339,88.27664L170.989178,88.261343L170.924223,88.272796L170.832516,88.322454L170.687306,88.448521L170.595599,88.49818L170.530644,88.509633L170.427483,88.494335L170.351074,88.440833L170.301416,88.349126L170.289962,88.28417L170.30526,88.18101L170.439016,87.989987L170.557474,87.902124M171.329335,87.53161L171.447793,87.443747L171.512749,87.432294L171.615909,87.447592L171.730523,87.527845L171.780181,87.619552L171.791634,87.684508L171.776337,87.787668L171.562327,88.093305L170.76003,87.531531L170.947288,87.264099L171.038995,87.21444L171.103951,87.202987L171.207112,87.218285L171.283521,87.271787L171.333179,87.363494L171.344632,87.42845L171.329335,87.53161L171.142076,87.799043M172.796725,86.167776L172.808179,86.232732L172.76613,86.374097L172.712628,86.450506L172.59417,86.538369L172.464258,86.561276L172.361098,86.545978L172.181528,86.477178L172.066914,86.396925L171.940847,86.251715L171.891189,86.160008L171.868282,86.030097L171.91033,85.888732L171.963833,85.812323L172.082291,85.72446L172.147247,85.713006", "val": 1}, {"type": "segment", "start": [165.809163, 96.155105], "end": [165.270002, 95.385102], "width": 0.05}, {"type": "segment", "start": [171.829931, 91.939318], "end": [165.809163, 96.155105], "width": 0.05}, {"type": "segment", "start": [161.220552, 89.601889], "end": [160.68139, 88.831886], "width": 0.05}, {"type": "segment", "start": [160.68139, 88.831886], "end": [166.702158, 84.616099], "width": 0.05}, {"type": "segment", "start": [166.702158, 84.616099], "end": [171.829931, 91.939318], "width": 0.05}, {"thickness": 0.073152, "svgpath": "M151.325513,75.859221L150.902857,75.859221M151.114185,75.859221L151.114185,75.119573L151.043742,75.225237L150.9733,75.29568L150.902857,75.330901M151.783391,75.119573L151.853833,75.119573L151.924276,75.154794L151.959497,75.190016L151.994719,75.260458L152.02994,75.401344L152.02994,75.57745L151.994719,75.718336L151.959497,75.788778L151.924276,75.824L151.853833,75.859221L151.783391,75.859221L151.712948,75.824L151.677727,75.788778L151.642505,75.718336L151.607284,75.57745L151.607284,75.401344L151.642505,75.260458L151.677727,75.190016L151.712948,75.154794L151.783391,75.119573M152.346932,75.859221L152.346932,75.119573M152.769588,75.859221L152.452596,75.436565M152.769588,75.119573L152.346932,75.542229", "val": 1}, {"type": "segment", "start": [153.2126, 78.40335], "end": [150.0126, 78.40335], "width": 0.2032}, {"type": "segment", "start": [153.2126, 76.80335], "end": [153.2126, 78.40335], "width": 0.2032}, {"type": "segment", "start": [150.0126, 78.40335], "end": [150.0126, 76.80335], "width": 0.2032}, {"type": "segment", "start": [150.0126, 76.80335], "end": [153.2126, 76.80335], "width": 0.2032}, {"type": "polygon", "pos": [151.6126, 77.60335], "angle": 180.0, "polygons": [[[-1.55, 0.5], [1.55, 0.5], [1.55, -0.5], [-1.55, -0.5]]]}, {"thickness": 0.074778, "svgpath": "M158.434523,151.355689L159.375745,151.131589L158.703443,150.952308L159.375745,150.773028L158.434523,150.548928M159.330925,150.235187L159.375745,150.100727L159.375745,149.876626L159.330925,149.786986L159.286104,149.742166L159.196464,149.697346L159.106824,149.697346L159.017184,149.742166L158.972364,149.786986L158.927544,149.876626L158.882724,150.055907L158.837903,150.145547L158.793083,150.190367L158.703443,150.235187L158.613803,150.235187L158.524163,150.190367L158.479343,150.145547L158.434523,150.055907L158.434523,149.831806L158.479343,149.697346M158.524163,149.338785L158.479343,149.293965L158.434523,149.204325L158.434523,148.980224L158.479343,148.890584L158.524163,148.845764L158.613803,148.800944L158.703443,148.800944L158.837903,148.845764L159.375745,149.383605L159.375745,148.800944M158.837903,148.263103L158.793083,148.352743L158.748263,148.397563L158.658623,148.442383L158.613803,148.442383L158.524163,148.397563L158.479343,148.352743L158.434523,148.263103L158.434523,148.083822L158.479343,147.994182L158.524163,147.949362L158.613803,147.904542L158.658623,147.904542L158.748263,147.949362L158.793083,147.994182L158.837903,148.083822L158.837903,148.263103L158.882724,148.352743L158.927544,148.397563L159.017184,148.442383L159.196464,148.442383L159.286104,148.397563L159.330925,148.352743L159.375745,148.263103L159.375745,148.083822L159.330925,147.994182L159.286104,147.949362L159.196464,147.904542L159.017184,147.904542L158.927544,147.949362L158.882724,147.994182L158.837903,148.083822M159.375745,147.00814L159.375745,147.545981M159.375745,147.277061L158.434523,147.277061L158.568983,147.366701L158.658623,147.456341L158.703443,147.545981M158.524163,146.649579L158.479343,146.604759L158.434523,146.515119L158.434523,146.291018L158.479343,146.201378L158.524163,146.156558L158.613803,146.111738L158.703443,146.111738L158.837903,146.156558L159.375745,146.694399L159.375745,146.111738M158.882724,145.394616L158.927544,145.260156L158.972364,145.215336L159.062004,145.170516L159.196464,145.170516L159.286104,145.215336L159.330925,145.260156L159.375745,145.349796L159.375745,145.708357L158.434523,145.708357L158.434523,145.394616L158.479343,145.304976L158.524163,145.260156L158.613803,145.215336L158.703443,145.215336L158.793083,145.260156L158.837903,145.304976L158.882724,145.394616L158.882724,145.708357M159.465385,144.991236L159.465385,144.274114M158.748263,143.646632L159.375745,143.646632M158.389703,143.870733L159.062004,144.094833L159.062004,143.512172M158.434523,142.974331L158.434523,142.88469L158.479343,142.79505L158.524163,142.75023L158.613803,142.70541L158.793083,142.66059L159.017184,142.66059L159.196464,142.70541L159.286104,142.75023L159.330925,142.79505L159.375745,142.88469L159.375745,142.974331L159.330925,143.063971L159.286104,143.108791L159.196464,143.153611L159.017184,143.198431L158.793083,143.198431L158.613803,143.153611L158.524163,143.108791L158.479343,143.063971L158.434523,142.974331M158.524163,142.302029L158.479343,142.257209L158.434523,142.167569L158.434523,141.943468L158.479343,141.853828L158.524163,141.809008L158.613803,141.764188L158.703443,141.764188L158.837903,141.809008L159.375745,142.346849L159.375745,141.764188M158.434523,141.181527L158.434523,141.091886L158.479343,141.002246L158.524163,140.957426L158.613803,140.912606L158.793083,140.867786L159.017184,140.867786L159.196464,140.912606L159.286104,140.957426L159.330925,141.002246L159.375745,141.091886L159.375745,141.181527L159.330925,141.271167L159.286104,141.315987L159.196464,141.360807L159.017184,141.405627L158.793083,141.405627L158.613803,141.360807L158.524163,141.315987L158.479343,141.271167L158.434523,141.181527", "val": 1}, {"thickness": 0.036576, "svgpath": "M160.509298,143.591407L160.509298,144.151078M160.509298,143.871242L159.529874,143.871242L159.669791,143.964521L159.76307,144.057799L159.809709,144.151078M159.529874,142.985096L159.529874,142.891818L159.576513,142.798539L159.623152,142.7519L159.716431,142.705261L159.902988,142.658622L160.136184,142.658622L160.322741,142.705261L160.416019,142.7519L160.462659,142.798539L160.509298,142.891818L160.509298,142.985096L160.462659,143.078375L160.416019,143.125014L160.322741,143.171653L160.136184,143.218293L159.902988,143.218293L159.716431,143.171653L159.623152,143.125014L159.576513,143.078375L159.529874,142.985096M159.856348,141.819115L160.509298,141.819115M159.856348,142.238868L160.36938,142.238868L160.462659,142.192229L160.509298,142.098951L160.509298,141.959033L160.462659,141.865754L160.416019,141.819115M159.996266,141.026248L159.996266,141.352722M160.509298,141.352722L159.529874,141.352722L159.529874,140.88633", "val": 1}, {"type": "segment", "start": [161.4801, 138.30935], "end": [161.4801, 139.07135], "width": 0.1016}, {"type": "segment", "start": [160.1601, 138.33435], "end": [160.1601, 139.07135], "width": 0.1016}, {"type": "polygon", "pos": [160.8201, 138.69035], "angle": -90.0, "polygons": [[[-1.0922, 0.7239], [-0.3421, 0.7239], [-0.3421, -0.7262], [-1.0922, -0.7262]]]}, {"type": "polygon", "pos": [160.8201, 138.69035], "angle": -90.0, "polygons": [[[0.3556, 0.7239], [1.1057, 0.7239], [1.1057, -0.7262], [0.3556, -0.7262]]]}, {"thickness": 0.036576, "svgpath": "M157.316042,102.375048L156.756371,102.375048M157.036207,102.375048L157.036207,101.395624L156.942928,101.535541L156.84965,101.62882L156.756371,101.675459M157.922353,101.395624L158.015631,101.395624L158.10891,101.442263L158.155549,101.488902L158.202188,101.582181L158.248827,101.768738L158.248827,102.001934L158.202188,102.188491L158.155549,102.281769L158.10891,102.328409L158.015631,102.375048L157.922353,102.375048L157.829074,102.328409L157.782435,102.281769L157.735796,102.188491L157.689156,102.001934L157.689156,101.768738L157.735796,101.582181L157.782435,101.488902L157.829074,101.442263L157.922353,101.395624M159.088334,101.722098L159.088334,102.375048M158.668581,101.722098L158.668581,102.23513L158.71522,102.328409L158.808498,102.375048L158.948416,102.375048L159.041695,102.328409L159.088334,102.281769M159.881201,101.862016L159.554727,101.862016M159.554727,102.375048L159.554727,101.395624L160.021119,101.395624", "val": 1}, {"type": "segment", "start": [161.8996, 102.90135], "end": [161.1376, 102.90135], "width": 0.1016}, {"type": "segment", "start": [161.8746, 101.58135], "end": [161.1376, 101.58135], "width": 0.1016}, {"type": "polygon", "pos": [161.5186, 102.24135], "angle": 180.0, "polygons": [[[-1.0922, 0.7239], [-0.3421, 0.7239], [-0.3421, -0.7262], [-1.0922, -0.7262]]]}, {"type": "polygon", "pos": [161.5186, 102.24135], "angle": 180.0, "polygons": [[[0.3556, 0.7239], [1.1057, 0.7239], [1.1057, -0.7262], [0.3556, -0.7262]]]}, {"thickness": 0.074778, "svgpath": "M125.994779,117.353746L125.967638,118.320898L126.314814,117.717906L126.313981,118.413701L126.774051,117.562552M126.845096,118.509611L126.963374,118.587705L127.179838,118.645707L127.278024,118.625614L127.332918,118.593922L127.399411,118.518936L127.422612,118.43235L127.402519,118.334164L127.370827,118.279271L127.295841,118.212778L127.13427,118.123084L127.059285,118.05659L127.027592,118.001697L127.0075,117.903511L127.0307,117.816925L127.097194,117.74194L127.152087,117.710247L127.250273,117.690155L127.466737,117.748156L127.585016,117.82625M127.919759,117.962345L127.974652,117.930653L128.072838,117.91056L128.289302,117.968562L128.364288,118.035055L128.39598,118.089949L128.416073,118.188135L128.392872,118.27472L128.314778,118.392999L127.65606,118.77331L128.218868,118.924114M128.877586,118.543803L128.802601,118.477309L128.770908,118.422416L128.750816,118.32423L128.762416,118.280937L128.828909,118.205952L128.883803,118.174259L128.981989,118.154167L129.15516,118.200568L129.230146,118.267061L129.261838,118.321954L129.281931,118.420141L129.27033,118.463433L129.203837,118.538419L129.148944,118.570112L129.050758,118.590204L128.877586,118.543803L128.7794,118.563895L128.724507,118.595588L128.658013,118.670573L128.611612,118.843745L128.631704,118.941931L128.663397,118.996824L128.738382,119.063317L128.911554,119.109718L129.00974,119.089626L129.064633,119.057934L129.131127,118.982948L129.177528,118.809777L129.157436,118.71159L129.125743,118.656697L129.050758,118.590204M129.950583,119.388126L129.431069,119.248922M129.690826,119.318524L129.934432,118.409373L129.813046,118.516051L129.703259,118.579436L129.605073,118.599529M130.517332,118.658363L130.572225,118.62667L130.670411,118.606578L130.886876,118.66458L130.961861,118.731073L130.993554,118.785966L131.013646,118.884152L130.990446,118.970738L130.912352,119.089017L130.253634,119.469328L130.816441,119.620131M131.636731,119.329514L131.755009,119.407608L131.786702,119.462501L131.806794,119.560687L131.771993,119.690566L131.7055,119.765552L131.650606,119.797244L131.55242,119.817336L131.206077,119.724534L131.449684,118.815383L131.752734,118.896586L131.827719,118.963079L131.859412,119.017972L131.879504,119.116158L131.856304,119.202744L131.78981,119.27773L131.734917,119.309422L131.636731,119.329514L131.333681,119.248312M131.875563,119.996725L132.568249,120.182329M133.359955,119.652047L133.197551,120.258148M133.236293,119.247703L132.845824,119.839095L133.408631,119.989898M134.09055,119.523002L134.177136,119.546202L134.252121,119.612696L134.283814,119.667589L134.303906,119.765775L134.300798,119.950547L134.242797,120.167011L134.153103,120.328582L134.086609,120.403568L134.031716,120.435261L133.93353,120.455353L133.846944,120.432152L133.771959,120.365659L133.740266,120.310766L133.720174,120.212579L133.723282,120.027808L133.781283,119.811343L133.870977,119.649772L133.937471,119.574786L133.992364,119.543094L134.09055,119.523002M134.716743,119.783592L134.771636,119.751899L134.869822,119.731807L135.086287,119.789808L135.161272,119.856302L135.192965,119.911195L135.213057,120.009381L135.189856,120.095967L135.111763,120.214245L134.453045,120.594556L135.015852,120.74536M135.822266,119.987013L135.908852,120.010214L135.983837,120.076707L136.01553,120.131601L136.035622,120.229787L136.032514,120.414559L135.974512,120.631023L135.884818,120.792594L135.818325,120.86758L135.763432,120.899272L135.665245,120.919365L135.57866,120.896164L135.503674,120.829671L135.471982,120.774777L135.451889,120.676591L135.454998,120.491819L135.512999,120.275355L135.602693,120.113784L135.669187,120.038798L135.72408,120.007106L135.822266,119.987013", "val": 1}, {"thickness": 0.036576, "svgpath": "M153.17277,92.723048L152.613099,92.723048M152.892935,92.723048L152.892935,91.743624L152.799656,91.883541L152.706378,91.97682L152.613099,92.023459M153.779081,91.743624L153.872359,91.743624L153.965638,91.790263L154.012277,91.836902L154.058916,91.930181L154.105555,92.116738L154.105555,92.349934L154.058916,92.536491L154.012277,92.629769L153.965638,92.676409L153.872359,92.723048L153.779081,92.723048L153.685802,92.676409L153.639163,92.629769L153.592524,92.536491L153.545884,92.349934L153.545884,92.116738L153.592524,91.930181L153.639163,91.836902L153.685802,91.790263L153.779081,91.743624M154.525309,92.723048L154.525309,91.743624M155.08498,92.723048L154.665226,92.163377M155.08498,91.743624L154.525309,92.303295", "val": 1}, {"type": "segment", "start": [154.3816, 91.68785], "end": [153.6696, 91.68785], "width": 0.1016}, {"type": "segment", "start": [154.3816, 90.83685], "end": [153.6696, 90.83685], "width": 0.1016}, {"type": "polygon", "pos": [154.0256, 91.25585], "angle": 180.0, "polygons": [[[-0.8382, 0.4699], [-0.3381, 0.4699], [-0.3381, -0.4801], [-0.8382, -0.4801]]]}, {"type": "polygon", "pos": [154.0256, 91.25585], "angle": 180.0, "polygons": [[[0.3302, 0.4699], [0.8303, 0.4699], [0.8303, -0.4801], [0.3302, -0.4801]]]}, {"thickness": 0.074778, "svgpath": "M169.189125,110.897364L169.91256,111.539829L169.673802,110.886281L170.206276,111.334167L169.849985,110.434624M170.621141,110.98896L170.756993,110.948551L170.940565,110.820012L170.988286,110.731882L170.999293,110.66946L170.984592,110.570323L170.933176,110.496894L170.845046,110.449173L170.782624,110.438166L170.683487,110.452867L170.510922,110.518984L170.411785,110.533685L170.349363,110.522678L170.261233,110.474957L170.209817,110.401528L170.195116,110.302391L170.206123,110.239969L170.253844,110.151839L170.437417,110.0233L170.573268,109.982892M170.892691,109.813944L170.903698,109.751522L170.951419,109.663392L171.134992,109.534853L171.234128,109.520152L171.296551,109.531159L171.384681,109.57888L171.436096,109.652309L171.476505,109.78816L171.344424,110.537227L171.821712,110.203026M171.953793,109.453959L171.854656,109.46866L171.792234,109.457654L171.704104,109.409932L171.678396,109.373218L171.663695,109.274081L171.674702,109.211659L171.722423,109.123529L171.869281,109.020698L171.968418,109.005997L172.03084,109.017004L172.11897,109.064725L172.144678,109.101439L172.159379,109.200576L172.148372,109.262998L172.100651,109.351128L171.953793,109.453959L171.906072,109.542089L171.895065,109.604512L171.909766,109.703648L172.012597,109.850506L172.100727,109.898227L172.163149,109.909234L172.262286,109.894533L172.409144,109.791702L172.456865,109.703572L172.467872,109.64115L172.453171,109.542013L172.35034,109.395155L172.26221,109.347434L172.199788,109.336427L172.100651,109.351128M173.290291,109.174716L172.849718,109.483209M173.070005,109.328962L172.530142,108.557958L172.533836,108.719517L172.511823,108.844362L172.464101,108.932492M173.09556,108.271479L173.106567,108.209057L173.154288,108.120927L173.33786,107.992388L173.436997,107.977687L173.499419,107.988694L173.587549,108.036415L173.638965,108.109844L173.679373,108.245695L173.547293,108.994762L174.024581,108.660561M174.329227,107.845378L174.465079,107.804969L174.527501,107.815976L174.615631,107.863697L174.692754,107.97384L174.707455,108.072977L174.696448,108.135399L174.648727,108.223529L174.355011,108.429191L173.815149,107.658187L174.07215,107.478233L174.171287,107.463532L174.233709,107.474539L174.321839,107.52226L174.373254,107.595689L174.387955,107.694825L174.376949,107.757248L174.329227,107.845378L174.072226,108.025332M174.993858,108.091296L175.58129,107.679972M175.683969,106.732632L176.043877,107.246634M175.294735,106.567455L175.496778,107.24671L175.974067,106.91251M176.054732,106.090014L176.128161,106.038599L176.227297,106.023897L176.28972,106.034904L176.37785,106.082625L176.517395,106.203776L176.645934,106.387348L176.71205,106.559914L176.726751,106.65905L176.715745,106.721472L176.668024,106.809602L176.594595,106.861018L176.495458,106.875719L176.433036,106.864712L176.344906,106.816991L176.20536,106.695841L176.076821,106.512269L176.010705,106.339703L175.996004,106.240566L176.007011,106.178144L176.054732,106.090014M176.656864,105.777827L176.667871,105.715404L176.715592,105.627274L176.899165,105.498736L176.998301,105.484035L177.060724,105.495041L177.148854,105.542763L177.200269,105.616192L177.240678,105.752043L177.108597,106.501109L177.585885,106.166909M177.523311,105.061704L177.59674,105.010288L177.695877,104.995587L177.758299,105.006594L177.846429,105.054315L177.985974,105.175465L178.114513,105.359038L178.180629,105.531603L178.195331,105.63074L178.184324,105.693162L178.136603,105.781292L178.063174,105.832708L177.964037,105.847409L177.901615,105.836402L177.813485,105.788681L177.673939,105.667531L177.545401,105.483958L177.479284,105.311393L177.464583,105.212256L177.47559,105.149834L177.523311,105.061704", "val": 1}, {"thickness": 0.029261, "svgpath": "M171.562062,104.502039L171.562062,105.06589M171.562062,104.783965L170.575323,104.783965L170.716286,104.87794L170.810261,104.971915L170.857249,105.06589M170.575323,103.891201L170.575323,103.797226L170.622311,103.703251L170.669298,103.656264L170.763273,103.609276L170.951224,103.562288L171.186162,103.562288L171.374112,103.609276L171.468087,103.656264L171.515075,103.703251L171.562062,103.797226L171.562062,103.891201L171.515075,103.985177L171.468087,104.032164L171.374112,104.079152L171.186162,104.126139L170.951224,104.126139L170.763273,104.079152L170.669298,104.032164L170.622311,103.985177L170.575323,103.891201M171.562062,103.139401L170.575323,103.139401M171.562062,102.57555L170.998211,102.998438M170.575323,102.57555L171.139174,103.139401", "val": 1}, {"type": "segment", "start": [171.6661, 100.67885], "end": [171.6661, 101.39085], "width": 0.1016}, {"type": "segment", "start": [170.8151, 100.67885], "end": [170.8151, 101.39085], "width": 0.1016}, {"type": "polygon", "pos": [171.2341, 101.03485], "angle": -90.0, "polygons": [[[-0.8382, 0.4699], [-0.3381, 0.4699], [-0.3381, -0.4801], [-0.8382, -0.4801]]]}, {"type": "polygon", "pos": [171.2341, 101.03485], "angle": -90.0, "polygons": [[[0.3302, 0.4699], [0.8303, 0.4699], [0.8303, -0.4801], [0.3302, -0.4801]]]}], "B": []}}, "footprints": [{"ref": "U$33", "bbox": {"pos": [152.6286, 66.74485], "relpos": [-2.3, -2.3], "size": [4.6, 4.6], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [152.6286, 66.74485], "size": [3.6, 3.6], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.0, 3.0], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "C7", "bbox": {"pos": [161.5186, 100.39985], "relpos": [-1.57, -0.75], "size": [3.14, 1.5], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [162.4686, 100.39985], "size": [1.24, 1.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [160.5686, 100.39985], "size": [1.24, 1.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C1", "bbox": {"pos": [171.3611, 96.14535], "relpos": [-1.57, -0.75], "size": [3.14, 1.5], "angle": 90.0}, "pads": [{"layers": ["F"], "pos": [171.3611, 97.09535], "size": [1.24, 1.5], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [171.3611, 95.19535], "size": [1.24, 1.5], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "FID1", "bbox": {"pos": [137.8331, 142.18285], "relpos": [-1.0, -1.0], "size": [2.0, 2.0], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [137.8331, 142.18285], "size": [1.0, 1.0], "angle": 0.0, "shape": "roundrect", "radius": 0.5, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "SW1", "bbox": {"pos": [143.1671, 88.65235], "relpos": [-3.6635, -3.55], "size": [7.327, 7.1], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [141.6671, 88.65235], "size": [1.0, 1.0], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [144.6671, 88.65235], "size": [1.0, 1.0], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [140.6671, 85.85235], "size": [1.0, 1.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [140.6671, 91.45235], "size": [1.0, 1.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [143.1671, 85.85235], "size": [1.0, 1.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [143.1671, 91.45235], "size": [1.0, 1.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [145.6671, 85.85235], "size": [1.0, 1.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [145.6671, 91.45235], "size": [1.0, 1.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "IC1", "bbox": {"pos": [165.0111, 101.86035], "relpos": [-0.96, -0.8762], "size": [1.92, 1.7524], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [164.3761, 101.36035], "size": [0.65, 0.275], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [164.3761, 101.86035], "size": [0.65, 0.275], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [164.3761, 102.36035], "size": [0.65, 0.275], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [165.6461, 102.36035], "size": [0.65, 0.275], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [165.6461, 101.86035], "size": [0.65, 0.275], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [165.6461, 101.36035], "size": [0.65, 0.275], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C2", "bbox": {"pos": [160.2486, 83.82635], "relpos": [-1.57, -0.75], "size": [3.14, 1.5], "angle": 90.0}, "pads": [{"layers": ["F"], "pos": [160.2486, 84.77635], "size": [1.24, 1.5], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [160.2486, 82.87635], "size": [1.24, 1.5], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "L1", "bbox": {"pos": [162.9791, 106.05135], "relpos": [-2.9516, -2.8516], "size": [5.9032, 5.7032], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [161.3791, 106.05135], "size": [2.0, 5.0], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [164.5791, 106.05135], "size": [2.0, 5.0], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "Q2", "bbox": {"pos": [151.1681, 80.963769], "relpos": [-2.5, -1.627], "size": [5.0, 3.254], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [149.1181, 81.763769], "size": [0.9, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [153.2181, 81.763769], "size": [0.9, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [149.1181, 80.163769], "size": [0.9, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [153.2181, 80.163769], "size": [0.9, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C8", "bbox": {"pos": [131.4831, 111.25835], "relpos": [-1.57, -0.75], "size": [3.14, 1.5], "angle": 90.0}, "pads": [{"layers": ["F"], "pos": [131.4831, 112.20835], "size": [1.24, 1.5], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [131.4831, 110.30835], "size": [1.24, 1.5], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "SWC0", "bbox": {"pos": [146.4056, 78.89875], "relpos": [-0.85, -0.85], "size": [1.7, 1.7], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [146.4056, 78.89875], "size": [1.7, 1.7], "angle": 180.0, "shape": "roundrect", "radius": 0.85, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "SWD0", "bbox": {"pos": [145.1356, 81.47685], "relpos": [-0.85, -0.85], "size": [1.7, 1.7], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [145.1356, 81.47685], "size": [1.7, 1.7], "angle": 180.0, "shape": "roundrect", "radius": 0.85, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "IC2", "bbox": {"pos": [149.5171, 87.57285], "relpos": [-1.5635, -2.0635], "size": [3.127, 4.127], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [149.0921, 86.94785], "size": [0.95, 0.45], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [149.0921, 88.19785], "size": [0.95, 0.45], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [149.9421, 88.19785], "size": [0.95, 0.45], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [149.9421, 86.94785], "size": [0.95, 0.45], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [149.5171, 85.82285], "size": [1.2, 0.45], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [148.2671, 87.57285], "size": [2.2, 0.45], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [149.5171, 89.32285], "size": [1.2, 0.45], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [150.7671, 87.57285], "size": [2.2, 0.45], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "TP4", "bbox": {"pos": [132.570307, 88.41695], "relpos": [-2.6289, -3.0479], "size": [5.2578, 4.787962], "angle": 45.0}, "pads": [{"layers": ["F", "B"], "pos": [132.211097, 88.05774], "size": [4.216, 4.216], "angle": 45.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.2, 3.2], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [{"layer": "F", "drawing": {"type": "polygon", "pos": [132.570307, 88.41695], "angle": 45.0, "polygons": [[[2.6289, -0.886314], [2.609894, -0.572102], [2.552666, -0.259824], [2.458216, 0.043278], [2.327919, 0.332786], [2.163676, 0.604477], [1.967881, 0.854391], [1.743391, 1.078881], [1.493477, 1.274676], [1.221786, 1.438919], [0.932278, 1.569216], [0.629176, 1.663666], [0.316898, 1.720894], [0.0, 1.740062], [-0.316898, 1.720894], [-0.629176, 1.663666], [-0.932278, 1.569216], [-1.221786, 1.438919], [-1.493477, 1.274676], [-1.743391, 1.078881], [-1.967881, 0.854391], [-2.163676, 0.604477], [-2.327919, 0.332786], [-2.458216, 0.043278], [-2.552666, -0.259824], [-2.609894, -0.572102], [-2.6289, -0.886314], [-2.6289, -3.0479], [2.6289, -3.0479]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [132.570307, 88.41695], "angle": 45.0, "polygons": [[[2.6289, -0.886314], [2.609894, -0.572102], [2.552666, -0.259824], [2.458216, 0.043278], [2.327919, 0.332786], [2.163676, 0.604477], [1.967881, 0.854391], [1.743391, 1.078881], [1.493477, 1.274676], [1.221786, 1.438919], [0.932278, 1.569216], [0.629176, 1.663666], [0.316898, 1.720894], [0.0, 1.740062], [-0.316898, 1.720894], [-0.629176, 1.663666], [-0.932278, 1.569216], [-1.221786, 1.438919], [-1.493477, 1.274676], [-1.743391, 1.078881], [-1.967881, 0.854391], [-2.163676, 0.604477], [-2.327919, 0.332786], [-2.458216, 0.043278], [-2.552666, -0.259824], [-2.609894, -0.572102], [-2.6289, -0.886314], [-2.6289, -3.0479], [2.6289, -3.0479]]]}}], "layer": "F"}, {"ref": "PWR0", "bbox": {"pos": [172.5676, 99.44735], "relpos": [-0.4508, -1.15], "size": [0.9016, 2.3], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [172.5676, 100.19735], "size": [0.8, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [172.5676, 98.69735], "size": [0.8, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "R7", "bbox": {"pos": [161.7726, 98.62185], "relpos": [-1.4984, -0.7544], "size": [2.9968, 1.5088], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [162.6226, 98.62185], "size": [1.075, 1.0], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [160.9226, 98.62185], "size": [1.075, 1.0], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "TP3", "bbox": {"pos": [141.164015, 80.317725], "relpos": [-2.6289, -3.0479], "size": [5.2578, 4.787962], "angle": 40.0}, "pads": [{"layers": ["F", "B"], "pos": [140.837479, 79.928574], "size": [4.216, 4.216], "angle": 40.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.2, 3.2], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [{"layer": "F", "drawing": {"type": "polygon", "pos": [141.164015, 80.317725], "angle": 40.0, "polygons": [[[2.6289, -0.886314], [2.609894, -0.572102], [2.552666, -0.259824], [2.458216, 0.043278], [2.327919, 0.332786], [2.163676, 0.604477], [1.967881, 0.854391], [1.743391, 1.078881], [1.493477, 1.274676], [1.221786, 1.438919], [0.932278, 1.569216], [0.629176, 1.663666], [0.316898, 1.720894], [0.0, 1.740062], [-0.316898, 1.720894], [-0.629176, 1.663666], [-0.932278, 1.569216], [-1.221786, 1.438919], [-1.493477, 1.274676], [-1.743391, 1.078881], [-1.967881, 0.854391], [-2.163676, 0.604477], [-2.327919, 0.332786], [-2.458216, 0.043278], [-2.552666, -0.259824], [-2.609894, -0.572102], [-2.6289, -0.886314], [-2.6289, -3.0479], [2.6289, -3.0479]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [141.164015, 80.317725], "angle": 40.0, "polygons": [[[2.6289, -0.886314], [2.609894, -0.572102], [2.552666, -0.259824], [2.458216, 0.043278], [2.327919, 0.332786], [2.163676, 0.604477], [1.967881, 0.854391], [1.743391, 1.078881], [1.493477, 1.274676], [1.221786, 1.438919], [0.932278, 1.569216], [0.629176, 1.663666], [0.316898, 1.720894], [0.0, 1.740062], [-0.316898, 1.720894], [-0.629176, 1.663666], [-0.932278, 1.569216], [-1.221786, 1.438919], [-1.493477, 1.274676], [-1.743391, 1.078881], [-1.967881, 0.854391], [-2.163676, 0.604477], [-2.327919, 0.332786], [-2.458216, 0.043278], [-2.552666, -0.259824], [-2.609894, -0.572102], [-2.6289, -0.886314], [-2.6289, -3.0479], [2.6289, -3.0479]]]}}], "layer": "F"}, {"ref": "CONN1", "bbox": {"pos": [157.5816, 78.17485], "relpos": [-3.4, -3.289], "size": [6.8, 5.575], "angle": 127.5}, "pads": [{"layers": ["F"], "pos": [156.500252, 80.895306], "size": [1.55, 0.6], "angle": 217.5, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [155.89149, 80.101953], "size": [1.55, 0.6], "angle": 217.5, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [155.282729, 79.3086], "size": [1.55, 0.6], "angle": 217.5, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [154.673968, 78.515246], "size": [1.55, 0.6], "angle": 217.5, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [160.38572, 79.552496], "size": [1.8, 1.2], "angle": 217.5, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [156.976656, 75.109717], "size": [1.8, 1.2], "angle": 217.5, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "LED7", "bbox": {"pos": [163.45309, 82.537754], "relpos": [-2.0762, -1.0762], "size": [4.1524, 2.4512], "angle": -55.0}, "pads": [{"layers": ["F"], "pos": [163.584375, 84.032834], "size": [1.25, 0.5], "angle": 215.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [163.096835, 83.336555], "size": [1.25, 0.5], "angle": 215.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [162.580617, 82.599318], "size": [1.25, 0.5], "angle": 215.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [162.093077, 81.903039], "size": [1.25, 0.5], "angle": 215.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "TP2", "bbox": {"pos": [149.92399, 73.60156], "relpos": [-2.6289, -3.0479], "size": [5.2578, 4.787962], "angle": 35.0}, "pads": [{"layers": ["F", "B"], "pos": [149.632613, 73.185431], "size": [4.216, 4.216], "angle": 35.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.2, 3.2], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [{"layer": "F", "drawing": {"type": "polygon", "pos": [149.92399, 73.60156], "angle": 35.0, "polygons": [[[2.6289, -0.886314], [2.609894, -0.572102], [2.552666, -0.259824], [2.458216, 0.043278], [2.327919, 0.332786], [2.163676, 0.604477], [1.967881, 0.854391], [1.743391, 1.078881], [1.493477, 1.274676], [1.221786, 1.438919], [0.932278, 1.569216], [0.629176, 1.663666], [0.316898, 1.720894], [0.0, 1.740062], [-0.316898, 1.720894], [-0.629176, 1.663666], [-0.932278, 1.569216], [-1.221786, 1.438919], [-1.493477, 1.274676], [-1.743391, 1.078881], [-1.967881, 0.854391], [-2.163676, 0.604477], [-2.327919, 0.332786], [-2.458216, 0.043278], [-2.552666, -0.259824], [-2.609894, -0.572102], [-2.6289, -0.886314], [-2.6289, -3.0479], [2.6289, -3.0479]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [149.92399, 73.60156], "angle": 35.0, "polygons": [[[2.6289, -0.886314], [2.609894, -0.572102], [2.552666, -0.259824], [2.458216, 0.043278], [2.327919, 0.332786], [2.163676, 0.604477], [1.967881, 0.854391], [1.743391, 1.078881], [1.493477, 1.274676], [1.221786, 1.438919], [0.932278, 1.569216], [0.629176, 1.663666], [0.316898, 1.720894], [0.0, 1.740062], [-0.316898, 1.720894], [-0.629176, 1.663666], [-0.932278, 1.569216], [-1.221786, 1.438919], [-1.493477, 1.274676], [-1.743391, 1.078881], [-1.967881, 0.854391], [-2.163676, 0.604477], [-2.327919, 0.332786], [-2.458216, 0.043278], [-2.552666, -0.259824], [-2.609894, -0.572102], [-2.6289, -0.886314], [-2.6289, -3.0479], [2.6289, -3.0479]]]}}], "layer": "F"}, {"ref": "C3", "bbox": {"pos": [161.4551, 86.11235], "relpos": [-1.4984, -0.7544], "size": [2.9968, 1.5088], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [160.6051, 86.11235], "size": [1.075, 1.0], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [162.3051, 86.11235], "size": [1.075, 1.0], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "BATT1", "bbox": {"pos": [135.1026, 92.77985], "relpos": [-0.25, -24.7142], "size": [53.3614, 24.9642], "angle": -90.0}, "pads": [{"layers": ["F", "B"], "pos": [154.7876, 101.31425], "size": [3.048, 3.048], "angle": 270.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.048, 3.048], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [140.1826, 131.79425], "size": [3.048, 3.048], "angle": 270.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.048, 3.048], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [154.1526, 142.81785], "size": [2.1844, 2.1844], "angle": 270.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [141.4526, 142.81785], "size": [2.1844, 2.1844], "angle": 270.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "L0", "bbox": {"pos": [148.9456, 77.79385], "relpos": [-0.4508, -1.15], "size": [0.9016, 2.3], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [148.9456, 78.54385], "size": [0.8, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [148.9456, 77.04385], "size": [0.8, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C4", "bbox": {"pos": [169.3291, 102.11435], "relpos": [-1.57, -0.75], "size": [3.14, 1.5], "angle": -90.0}, "pads": [{"layers": ["F"], "pos": [169.3291, 101.16435], "size": [1.24, 1.5], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [169.3291, 103.06435], "size": [1.24, 1.5], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "U$40", "bbox": {"pos": [161.1376, 135.45185], "relpos": [-1.0504, -1.0504], "size": [2.1008, 2.1008], "angle": 0.0}, "pads": [], "drawings": [], "layer": "F"}, {"ref": "LED4", "bbox": {"pos": [133.3246, 143.45285], "relpos": [-2.0762, -1.0762], "size": [4.1524, 2.4512], "angle": 90.0}, "pads": [{"layers": ["F"], "pos": [134.0746, 142.15285], "size": [1.25, 0.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [134.0746, 143.00285], "size": [1.25, 0.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [134.0746, 143.90285], "size": [1.25, 0.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [134.0746, 144.75285], "size": [1.25, 0.5], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "U2", "bbox": {"pos": [149.5171, 91.38285], "relpos": [-2.55, -1.2], "size": [5.1, 2.4], "angle": 180.0}, "pads": [{"layers": ["F", "B"], "pos": [149.5171, 91.38285], "size": [2.4, 2.4], "angle": 180.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [2.4, 2.4], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [151.3171, 91.38285], "size": [1.5, 1.6], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [147.7171, 91.38285], "size": [1.5, 1.6], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "R5", "bbox": {"pos": [159.789231, 91.9287], "relpos": [-1.4984, -0.7544], "size": [2.9968, 1.5088], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [158.939231, 91.9287], "size": [1.075, 1.0], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [160.639231, 91.9287], "size": [1.075, 1.0], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "R3", "bbox": {"pos": [164.9476, 98.62185], "relpos": [-1.4984, -0.7544], "size": [2.9968, 1.5088], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [165.7976, 98.62185], "size": [1.075, 1.0], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [164.0976, 98.62185], "size": [1.075, 1.0], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "R6", "bbox": {"pos": [160.738003, 96.190254], "relpos": [-1.4984, -0.7544], "size": [2.9968, 1.5088], "angle": 90.0}, "pads": [{"layers": ["F"], "pos": [160.738003, 97.040254], "size": [1.075, 1.0], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [160.738003, 95.340254], "size": [1.075, 1.0], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "LED2", "bbox": {"pos": [135.663206, 82.884747], "relpos": [-2.0762, -1.0762], "size": [4.1524, 2.4512], "angle": 45.0}, "pads": [{"layers": ["F"], "pos": [137.112775, 82.495838], "size": [1.25, 0.5], "angle": 315.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [136.511734, 83.096879], "size": [1.25, 0.5], "angle": 315.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [135.875338, 83.733275], "size": [1.25, 0.5], "angle": 315.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [135.274297, 84.334316], "size": [1.25, 0.5], "angle": 315.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "TP1", "bbox": {"pos": [125.72761, 96.113572], "relpos": [-2.6289, -3.0479], "size": [5.2578, 4.787962], "angle": 50.0}, "pads": [{"layers": ["F", "B"], "pos": [125.338459, 95.787036], "size": [4.216, 4.216], "angle": 50.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.2, 3.2], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [{"layer": "F", "drawing": {"type": "polygon", "pos": [125.72761, 96.113572], "angle": 50.0, "polygons": [[[2.6289, -0.886314], [2.609894, -0.572102], [2.552666, -0.259824], [2.458216, 0.043278], [2.327919, 0.332786], [2.163676, 0.604477], [1.967881, 0.854391], [1.743391, 1.078881], [1.493477, 1.274676], [1.221786, 1.438919], [0.932278, 1.569216], [0.629176, 1.663666], [0.316898, 1.720894], [0.0, 1.740062], [-0.316898, 1.720894], [-0.629176, 1.663666], [-0.932278, 1.569216], [-1.221786, 1.438919], [-1.493477, 1.274676], [-1.743391, 1.078881], [-1.967881, 0.854391], [-2.163676, 0.604477], [-2.327919, 0.332786], [-2.458216, 0.043278], [-2.552666, -0.259824], [-2.609894, -0.572102], [-2.6289, -0.886314], [-2.6289, -3.0479], [2.6289, -3.0479]]]}}, {"layer": "B", "drawing": {"type": "polygon", "pos": [125.72761, 96.113572], "angle": 50.0, "polygons": [[[2.6289, -0.886314], [2.609894, -0.572102], [2.552666, -0.259824], [2.458216, 0.043278], [2.327919, 0.332786], [2.163676, 0.604477], [1.967881, 0.854391], [1.743391, 1.078881], [1.493477, 1.274676], [1.221786, 1.438919], [0.932278, 1.569216], [0.629176, 1.663666], [0.316898, 1.720894], [0.0, 1.740062], [-0.316898, 1.720894], [-0.629176, 1.663666], [-0.932278, 1.569216], [-1.221786, 1.438919], [-1.493477, 1.274676], [-1.743391, 1.078881], [-1.967881, 0.854391], [-2.163676, 0.604477], [-2.327919, 0.332786], [-2.458216, 0.043278], [-2.552666, -0.259824], [-2.609894, -0.572102], [-2.6289, -0.886314], [-2.6289, -3.0479], [2.6289, -3.0479]]]}}], "layer": "F"}, {"ref": "IC3", "bbox": {"pos": [155.874718, 86.92261], "relpos": [-2.95, -2.95], "size": [5.9, 5.9], "angle": -90.0}, "pads": [{"layers": ["F"], "pos": [157.624718, 84.42261], "size": [0.25, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [153.374718, 85.67261], "size": [0.25, 0.8], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [153.374718, 86.17261], "size": [0.25, 0.8], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [153.374718, 86.67261], "size": [0.25, 0.8], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [153.374718, 87.17261], "size": [0.25, 0.8], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [153.374718, 87.67261], "size": [0.25, 0.8], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [153.374718, 88.17261], "size": [0.25, 0.8], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [153.374718, 88.67261], "size": [0.25, 0.8], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [154.124718, 89.42261], "size": [0.25, 0.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [154.624718, 89.42261], "size": [0.25, 0.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [155.124718, 89.42261], "size": [0.25, 0.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [157.124718, 84.42261], "size": [0.25, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [155.624718, 89.42261], "size": [0.25, 0.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [156.124718, 89.42261], "size": [0.25, 0.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [156.624718, 89.42261], "size": [0.25, 0.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [157.124718, 89.42261], "size": [0.25, 0.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [157.624718, 89.42261], "size": [0.25, 0.8], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [158.374718, 88.67261], "size": [0.25, 0.8], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [158.374718, 88.17261], "size": [0.25, 0.8], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [158.374718, 87.67261], "size": [0.25, 0.8], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [158.374718, 87.17261], "size": [0.25, 0.8], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [158.374718, 86.67261], "size": [0.25, 0.8], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [156.624718, 84.42261], "size": [0.25, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [158.374718, 86.17261], "size": [0.25, 0.8], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [158.374718, 85.67261], "size": [0.25, 0.8], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [158.374718, 85.17261], "size": [0.25, 0.8], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [155.874718, 86.92261], "size": [3.5, 3.5], "angle": 270.0, "shape": "roundrect", "radius": 0.175, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [156.124718, 84.42261], "size": [0.25, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [155.624718, 84.42261], "size": [0.25, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [155.124718, 84.42261], "size": [0.25, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [154.624718, 84.42261], "size": [0.25, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [154.124718, 84.42261], "size": [0.25, 0.8], "angle": 0.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [153.374718, 85.17261], "size": [0.25, 0.8], "angle": 90.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "RST0", "bbox": {"pos": [147.5486, 81.34985], "relpos": [-0.85, -0.85], "size": [1.7, 1.7], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [147.5486, 81.34985], "size": [1.7, 1.7], "angle": 0.0, "shape": "roundrect", "radius": 0.85, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "U1", "bbox": {"pos": [168.6941, 98.30435], "relpos": [-1.7516, -1.9001], "size": [3.5032, 3.8002], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [169.6441, 97.00425], "size": [0.55, 1.2], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [168.6941, 97.00425], "size": [0.55, 1.2], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [167.7441, 97.00425], "size": [0.55, 1.2], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [167.7441, 99.60445], "size": [0.55, 1.2], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [169.6441, 99.60445], "size": [0.55, 1.2], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C6", "bbox": {"pos": [167.4241, 102.11435], "relpos": [-1.57, -0.75], "size": [3.14, 1.5], "angle": -90.0}, "pads": [{"layers": ["F"], "pos": [167.4241, 101.16435], "size": [1.24, 1.5], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [167.4241, 103.06435], "size": [1.24, 1.5], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "X6", "bbox": {"pos": [166.145075, 90.463035], "relpos": [-4.826, -4.12], "size": [9.646, 7.9808], "angle": 125.0}, "pads": [{"layers": ["F", "B"], "pos": [165.779405, 94.247118], "size": [0.65, 0.65], "angle": 125.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [0.65, 0.65], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [162.464134, 89.512419], "size": [0.65, 0.65], "angle": 125.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [0.65, 0.65], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [165.076626, 95.11765], "size": [0.575, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [164.617764, 94.462328], "size": [0.575, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [163.958152, 93.520304], "size": [0.275, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [163.384575, 92.701151], "size": [0.275, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [163.097787, 92.291575], "size": [0.275, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [162.52421, 91.472423], "size": [0.275, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [161.405736, 89.875077], "size": [0.575, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [161.864598, 90.530399], "size": [0.575, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [162.237422, 91.062847], "size": [0.275, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [162.810999, 91.881999], "size": [0.275, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [163.671363, 93.110728], "size": [0.275, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [164.24494, 93.92988], "size": [0.275, 1.15], "angle": 125.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [166.190044, 95.705294], "size": [2.0, 1.0], "angle": 215.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.6, 0.6], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [161.234343, 88.62782], "size": [2.0, 1.0], "angle": 215.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.6, 0.6], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [169.614099, 93.307744], "size": [2.0, 1.0], "angle": 215.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.6, 0.6], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [164.658399, 86.230271], "size": [2.0, 1.0], "angle": 215.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [0.6, 0.6], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "R9", "bbox": {"pos": [151.6126, 77.60335], "relpos": [-2.0016, -1.5016], "size": [4.0032, 3.0032], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [152.9126, 76.75335], "size": [0.45, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [152.0126, 76.75335], "size": [0.45, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [151.2126, 76.75335], "size": [0.45, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [150.3126, 76.75335], "size": [0.45, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [150.3126, 78.45335], "size": [0.45, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [151.2126, 78.45335], "size": [0.45, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [152.0126, 78.45335], "size": [0.45, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [152.9126, 78.45335], "size": [0.45, 0.9], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "LED5", "bbox": {"pos": [161.535003, 143.38251], "relpos": [-2.0762, -1.0762], "size": [4.1524, 2.4512], "angle": -90.0}, "pads": [{"layers": ["F"], "pos": [160.785003, 144.68251], "size": [1.25, 0.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [160.785003, 143.83251], "size": [1.25, 0.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [160.785003, 142.93251], "size": [1.25, 0.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [160.785003, 142.08251], "size": [1.25, 0.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "FID2", "bbox": {"pos": [154.0891, 72.39635], "relpos": [-1.0, -1.0], "size": [2.0, 2.0], "angle": 0.0}, "pads": [{"layers": ["F"], "pos": [154.0891, 72.39635], "size": [1.0, 1.0], "angle": 0.0, "shape": "roundrect", "radius": 0.5, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "C9", "bbox": {"pos": [160.8201, 138.69035], "relpos": [-1.57, -0.75], "size": [3.14, 1.5], "angle": -90.0}, "pads": [{"layers": ["F"], "pos": [160.8201, 137.74035], "size": [1.24, 1.5], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [160.8201, 139.64035], "size": [1.24, 1.5], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "C5", "bbox": {"pos": [161.5186, 102.24135], "relpos": [-1.57, -0.75], "size": [3.14, 1.5], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [162.4686, 102.24135], "size": [1.24, 1.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [160.5686, 102.24135], "size": [1.24, 1.5], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "LED3", "bbox": {"pos": [127.55295, 112.58085], "relpos": [-2.0762, -1.0762], "size": [4.1524, 2.4512], "angle": 105.0}, "pads": [{"layers": ["F"], "pos": [127.94093, 111.131032], "size": [1.25, 0.5], "angle": 15.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [128.160926, 111.952069], "size": [1.25, 0.5], "angle": 15.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [128.393863, 112.821402], "size": [1.25, 0.5], "angle": 15.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [128.613859, 113.642439], "size": [1.25, 0.5], "angle": 15.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "R2", "bbox": {"pos": [154.0256, 91.25585], "relpos": [-1.4984, -0.7544], "size": [2.9968, 1.5088], "angle": 180.0}, "pads": [{"layers": ["F"], "pos": [154.8756, 91.25585], "size": [1.075, 1.0], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [153.1756, 91.25585], "size": [1.075, 1.0], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "LED6", "bbox": {"pos": [165.371346, 112.613335], "relpos": [-2.0762, -1.0762], "size": [4.1524, 2.4512], "angle": -125.0}, "pads": [{"layers": ["F"], "pos": [164.011333, 113.24805], "size": [1.25, 0.5], "angle": 145.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [164.498873, 112.551771], "size": [1.25, 0.5], "angle": 145.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [165.015091, 111.814534], "size": [1.25, 0.5], "angle": 145.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["F"], "pos": [165.502631, 111.118255], "size": [1.25, 0.5], "angle": 145.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "R4", "bbox": {"pos": [171.2341, 101.03485], "relpos": [-1.4984, -0.7544], "size": [2.9968, 1.5088], "angle": -90.0}, "pads": [{"layers": ["F"], "pos": [171.2341, 100.18485], "size": [1.075, 1.0], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F"], "pos": [171.2341, 101.88485], "size": [1.075, 1.0], "angle": 270.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "U$1", "bbox": {"pos": [176.3141, 148.97735], "relpos": [-0.25, -0.2924], "size": [4.195524, 2.0124], "angle": 180.0}, "pads": [], "drawings": [], "layer": "B"}], "metadata": {"title": "working", "revision": "", "company": "", "date": "2023-09-13 13:55:23"}, "bom": {"both": [[["C1", 2], ["C2", 6], ["C4", 23], ["C5", 41], ["C6", 35], ["C7", 1], ["C8", 9], ["C9", 40]], [["C3", 20]], [["R2", 43], ["R4", 45]], [["R5", 27], ["R6", 29]], [["R3", 28]], [["R7", 15]], [["R9", 37]], [["L0", 22]], [["L1", 7]], [["U1", 34]], [["U2", 26]], [["X6", 36]], [["SW1", 4]], [["LED2", 30], ["LED3", 42], ["LED4", 25], ["LED5", 38], ["LED6", 44], ["LED7", 18]], [["TP1", 31], ["TP2", 19], ["TP3", 16], ["TP4", 13]], [["RST0", 33], ["SWC0", 10], ["SWD0", 11]], [["FID1", 3], ["FID2", 39]], [["BATT1", 21]], [["CONN1", 17]], [["IC1", 5]], [["IC2", 12]], [["IC3", 32]], [["PWR0", 14]], [["Q2", 8]], [["U$1", 46]], [["U$33", 0]], [["U$40", 24]]], "skipped": [], "fields": {"0": ["MOUNTINGHOLE3.0THIN", "MOUNTINGHOLE_3.0_PLATEDTHIN"], "1": ["10uF", "0805-NO"], "2": ["10uF", "0805-NO"], "3": ["FIDUCIAL_1MM", "FIDUCIAL_1MM"], "4": ["", "EG1390"], "5": ["TPS61023", "SOT563"], "6": ["10uF", "0805-NO"], "7": ["1uH", "INDUCTOR_5X5MM_TDK_VLC5045"], "8": ["reset", "BTN_KMR2_4.6X2.8"], "9": ["10uF", "0805-NO"], "10": ["TPTP17R", "TP17R"], "11": ["TPTP17R", "TP17R"], "12": ["MIC_PDM", "SPK0415HM4H"], "13": ["SEWTAPPCB_ALLIGATOR", "PCB_ALLI"], "14": ["green", "CHIPLED_0603_NOOUTLINE"], "15": ["100K", "0603-NO"], "16": ["SEWTAPPCB_ALLIGATOR", "PCB_ALLI"], "17": ["STEMMA_I2C_QT", "JST_SH4"], "18": ["WS2812B_4020", "WS2812B_4020"], "19": ["SEWTAPPCB_ALLIGATOR", "PCB_ALLI"], "20": ["1uF", "0603-NO"], "21": ["BATTERYHOLDER_2XAAA", "2XAAA"], "22": ["red", "CHIPLED_0603_NOOUTLINE"], "23": ["10uF", "0805-NO"], "24": ["", "PCBFEAT-REV-040"], "25": ["WS2812B_4020", "WS2812B_4020"], "26": ["ALS-PT26-21C", "ALS-PT26-21C"], "27": ["5.1K", "0603-NO"], "28": ["450K", "0603-NO"], "29": ["5.1K", "0603-NO"], "30": ["WS2812B_4020", "WS2812B_4020"], "31": ["SEWTAPPCB_ALLIGATOR", "PCB_ALLI"], "32": ["ATSAMD21E", "QFN32_5MM"], "33": ["TPTP17R", "TP17R"], "34": ["AP2112K-3.3", "SOT23-5"], "35": ["10uF", "0805-NO"], "36": ["USB C", "USB_C_CUSB31-CFM2AX-01-X"], "37": ["10K", "RESPACK_4X0603"], "38": ["WS2812B_4020", "WS2812B_4020"], "39": ["FIDUCIAL_1MM", "FIDUCIAL_1MM"], "40": ["10uF", "0805-NO"], "41": ["10uF", "0805-NO"], "42": ["WS2812B_4020", "WS2812B_4020"], "43": ["10K", "0603-NO"], "44": ["WS2812B_4020", "WS2812B_4020"], "45": ["10K", "0603-NO"], "46": ["", "BLM_FRONT"]}, "F": [[["C1", 2], ["C2", 6], ["C4", 23], ["C5", 41], ["C6", 35], ["C7", 1], ["C8", 9], ["C9", 40]], [["C3", 20]], [["R2", 43], ["R4", 45]], [["R5", 27], ["R6", 29]], [["R3", 28]], [["R7", 15]], [["R9", 37]], [["L0", 22]], [["L1", 7]], [["U1", 34]], [["U2", 26]], [["X6", 36]], [["SW1", 4]], [["LED2", 30], ["LED3", 42], ["LED4", 25], ["LED5", 38], ["LED6", 44], ["LED7", 18]], [["TP1", 31], ["TP2", 19], ["TP3", 16], ["TP4", 13]], [["RST0", 33], ["SWC0", 10], ["SWD0", 11]], [["FID1", 3], ["FID2", 39]], [["BATT1", 21]], [["CONN1", 17]], [["IC1", 5]], [["IC2", 12]], [["IC3", 32]], [["PWR0", 14]], [["Q2", 8]], [["U$33", 0]], [["U$40", 24]]], "B": [[["U$1", 46]]]}, "font_data": {}, "ibom_version": "v2.6.0"}
///////////////////////////////////////////////

///////////////////////////////////////////////
/* Utility functions */

var storagePrefix = 'KiCad_HTML_BOM__' + pcbdata.metadata.title + '__' +
  pcbdata.metadata.revision + '__#';
var storage;

function initStorage(key) {
  try {
    window.localStorage.getItem("blank");
    storage = window.localStorage;
  } catch (e) {
    // localStorage not available
  }
  if (!storage) {
    try {
      window.sessionStorage.getItem("blank");
      storage = window.sessionStorage;
    } catch (e) {
      // sessionStorage also not available
    }
  }
}

function readStorage(key) {
  if (storage) {
    return storage.getItem(storagePrefix + key);
  } else {
    return null;
  }
}

function writeStorage(key, value) {
  if (storage) {
    storage.setItem(storagePrefix + key, value);
  }
}

function fancyDblClickHandler(el, onsingle, ondouble) {
  return function () {
    if (el.getAttribute("data-dblclick") == null) {
      el.setAttribute("data-dblclick", 1);
      setTimeout(function () {
        if (el.getAttribute("data-dblclick") == 1) {
          onsingle();
        }
        el.removeAttribute("data-dblclick");
      }, 200);
    } else {
      el.removeAttribute("data-dblclick");
      ondouble();
    }
  }
}

function smoothScrollToRow(rowid) {
  document.getElementById(rowid).scrollIntoView({
    behavior: "smooth",
    block: "center",
    inline: "nearest"
  });
}

function focusInputField(input) {
  input.scrollIntoView(false);
  input.focus();
  input.select();
}

function saveBomTable(output) {
  var text = '';
  for (var node of bomhead.childNodes[0].childNodes) {
    if (node.firstChild) {
      text += (output == 'csv' ? `"${node.firstChild.nodeValue}"` : node.firstChild.nodeValue);
    }
    if (node != bomhead.childNodes[0].lastChild) {
      text += (output == 'csv' ? ',' : '\t');
    }
  }
  text += '\n';
  for (var row of bombody.childNodes) {
    for (var cell of row.childNodes) {
      let val = '';
      for (var node of cell.childNodes) {
        if (node.nodeName == "INPUT") {
          if (node.checked) {
            val += '✓';
          }
        } else if ((node.nodeName == "MARK") || (node.nodeName == "A")) {
          val += node.firstChild.nodeValue;
        } else {
          val += node.nodeValue;
        }
      }
      if (output == 'csv') {
        val = val.replace(/\"/g, '\"\"'); // pair of double-quote characters
        if (isNumeric(val)) {
          val = +val;                     // use number
        } else {
          val = `"${val}"`;               // enclosed within double-quote
        }
      }
      text += val;
      if (cell != row.lastChild) {
        text += (output == 'csv' ? ',' : '\t');
      }
    }
    text += '\n';
  }

  if (output != 'clipboard') {
    // To file: csv or txt
    var blob = new Blob([text], {
      type: `text/${output}`
    });
    saveFile(`${pcbdata.metadata.title}.${output}`, blob);
  } else {
    // To clipboard
    var textArea = document.createElement("textarea");
    textArea.classList.add('clipboard-temp');
    textArea.value = text;

    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();

    try {
      if (document.execCommand('copy')) {
        console.log('Bom copied to clipboard.');
      }
    } catch (err) {
      console.log('Can not copy to clipboard.');
    }

    document.body.removeChild(textArea);
  }
}

function isNumeric(str) {
  /* https://stackoverflow.com/a/175787 */
  return (typeof str != "string" ? false : !isNaN(str) && !isNaN(parseFloat(str)));
}

function removeGutterNode(node) {
  for (var i = 0; i < node.childNodes.length; i++) {
    if (node.childNodes[i].classList &&
      node.childNodes[i].classList.contains("gutter")) {
      node.removeChild(node.childNodes[i]);
      break;
    }
  }
}

function cleanGutters() {
  removeGutterNode(document.getElementById("bot"));
  removeGutterNode(document.getElementById("canvasdiv"));
}

var units = {
  prefixes: {
    giga: ["G", "g", "giga", "Giga", "GIGA"],
    mega: ["M", "mega", "Mega", "MEGA"],
    kilo: ["K", "k", "kilo", "Kilo", "KILO"],
    milli: ["m", "milli", "Milli", "MILLI"],
    micro: ["U", "u", "micro", "Micro", "MICRO", "μ", "µ"], // different utf8 μ
    nano: ["N", "n", "nano", "Nano", "NANO"],
    pico: ["P", "p", "pico", "Pico", "PICO"],
  },
  unitsShort: ["R", "r", "Ω", "F", "f", "H", "h"],
  unitsLong: [
    "OHM", "Ohm", "ohm", "ohms",
    "FARAD", "Farad", "farad",
    "HENRY", "Henry", "henry"
  ],
  getMultiplier: function (s) {
    if (this.prefixes.giga.includes(s)) return 1e9;
    if (this.prefixes.mega.includes(s)) return 1e6;
    if (this.prefixes.kilo.includes(s)) return 1e3;
    if (this.prefixes.milli.includes(s)) return 1e-3;
    if (this.prefixes.micro.includes(s)) return 1e-6;
    if (this.prefixes.nano.includes(s)) return 1e-9;
    if (this.prefixes.pico.includes(s)) return 1e-12;
    return 1;
  },
  valueRegex: null,
}

function initUtils() {
  var allPrefixes = units.prefixes.giga
    .concat(units.prefixes.mega)
    .concat(units.prefixes.kilo)
    .concat(units.prefixes.milli)
    .concat(units.prefixes.micro)
    .concat(units.prefixes.nano)
    .concat(units.prefixes.pico);
  var allUnits = units.unitsShort.concat(units.unitsLong);
  units.valueRegex = new RegExp("^([0-9\.]+)" +
    "\\s*(" + allPrefixes.join("|") + ")?" +
    "(" + allUnits.join("|") + ")?" +
    "(\\b.*)?$", "");
  units.valueAltRegex = new RegExp("^([0-9]*)" +
    "(" + units.unitsShort.join("|") + ")?" +
    "([GgMmKkUuNnPp])?" +
    "([0-9]*)" +
    "(\\b.*)?$", "");
  if (config.fields.includes("Value")) {
    var index = config.fields.indexOf("Value");
    pcbdata.bom["parsedValues"] = {};
    for (var id in pcbdata.bom.fields) {
      pcbdata.bom.parsedValues[id] = parseValue(pcbdata.bom.fields[id][index])
    }
  }
}

function parseValue(val, ref) {
  var inferUnit = (unit, ref) => {
    if (unit) {
      unit = unit.toLowerCase();
      if (unit == 'Ω' || unit == "ohm" || unit == "ohms") {
        unit = 'r';
      }
      unit = unit[0];
    } else {
      ref = /^([a-z]+)\d+$/i.exec(ref);
      if (ref) {
        ref = ref[1].toLowerCase();
        if (ref == "c") unit = 'f';
        else if (ref == "l") unit = 'h';
        else if (ref == "r" || ref == "rv") unit = 'r';
        else unit = null;
      }
    }
    return unit;
  };
  val = val.replace(/,/g, "");
  var match = units.valueRegex.exec(val);
  var unit;
  if (match) {
    val = parseFloat(match[1]);
    if (match[2]) {
      val = val * units.getMultiplier(match[2]);
    }
    unit = inferUnit(match[3], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[4],
    }
  }
  match = units.valueAltRegex.exec(val);
  if (match && (match[1] || match[4])) {
    val = parseFloat(match[1] + "." + match[4]);
    if (match[3]) {
      val = val * units.getMultiplier(match[3]);
    }
    unit = inferUnit(match[2], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[5],
    }
  }
  return null;
}

function valueCompare(a, b, stra, strb) {
  if (a === null && b === null) {
    // Failed to parse both values, compare them as strings.
    if (stra != strb) return stra > strb ? 1 : -1;
    else return 0;
  } else if (a === null) {
    return 1;
  } else if (b === null) {
    return -1;
  } else {
    if (a.unit != b.unit) return a.unit > b.unit ? 1 : -1;
    else if (a.val != b.val) return a.val > b.val ? 1 : -1;
    else if (a.extra != b.extra) return a.extra > b.extra ? 1 : -1;
    else return 0;
  }
}

function validateSaveImgDimension(element) {
  var valid = false;
  var intValue = 0;
  if (/^[1-9]\d*$/.test(element.value)) {
    intValue = parseInt(element.value);
    if (intValue <= 16000) {
      valid = true;
    }
  }
  if (valid) {
    element.classList.remove("invalid");
  } else {
    element.classList.add("invalid");
  }
  return intValue;
}

function saveImage(layer) {
  var width = validateSaveImgDimension(document.getElementById("render-save-width"));
  var height = validateSaveImgDimension(document.getElementById("render-save-height"));
  var bgcolor = null;
  if (!document.getElementById("render-save-transparent").checked) {
    var style = getComputedStyle(topmostdiv);
    bgcolor = style.getPropertyValue("background-color");
  }
  if (!width || !height) return;

  // Prepare image
  var canvas = document.createElement("canvas");
  var layerdict = {
    transform: {
      x: 0,
      y: 0,
      s: 1,
      panx: 0,
      pany: 0,
      zoom: 1,
    },
    bg: canvas,
    fab: canvas,
    silk: canvas,
    highlight: canvas,
    layer: layer,
  }
  // Do the rendering
  recalcLayerScale(layerdict, width, height);
  prepareLayer(layerdict);
  clearCanvas(canvas, bgcolor);
  drawBackground(layerdict, false);
  drawHighlightsOnLayer(layerdict, false);

  // Save image
  var imgdata = canvas.toDataURL("image/png");

  var filename = pcbdata.metadata.title;
  if (pcbdata.metadata.revision) {
    filename += `.${pcbdata.metadata.revision}`;
  }
  filename += `.${layer}.png`;
  saveFile(filename, dataURLtoBlob(imgdata));
}

function saveSettings() {
  var data = {
    type: "InteractiveHtmlBom settings",
    version: 1,
    pcbmetadata: pcbdata.metadata,
    settings: settings,
  }
  var blob = new Blob([JSON.stringify(data, null, 4)], {
    type: "application/json"
  });
  saveFile(`${pcbdata.metadata.title}.settings.json`, blob);
}

function loadSettings() {
  var input = document.createElement("input");
  input.type = "file";
  input.accept = ".settings.json";
  input.onchange = function (e) {
    var file = e.target.files[0];
    var reader = new FileReader();
    reader.onload = readerEvent => {
      var content = readerEvent.target.result;
      var newSettings;
      try {
        newSettings = JSON.parse(content);
      } catch (e) {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      if (newSettings.type != "InteractiveHtmlBom settings") {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      var metadataMatches = newSettings.hasOwnProperty("pcbmetadata");
      if (metadataMatches) {
        for (var k in pcbdata.metadata) {
          if (!newSettings.pcbmetadata.hasOwnProperty(k) || newSettings.pcbmetadata[k] != pcbdata.metadata[k]) {
            metadataMatches = false;
          }
        }
      }
      if (!metadataMatches) {
        var currentMetadata = JSON.stringify(pcbdata.metadata, null, 4);
        var fileMetadata = JSON.stringify(newSettings.pcbmetadata, null, 4);
        if (!confirm(
          `Settins file metadata does not match current metadata.\n\n` +
          `Page metadata:\n${currentMetadata}\n\n` +
          `Settings file metadata:\n${fileMetadata}\n\n` +
          `Press OK if you would like to import settings anyway.`)) {
          return;
        }
      }
      overwriteSettings(newSettings.settings);
    }
    reader.readAsText(file, 'UTF-8');
  }
  input.click();
}

function resetSettings() {
  if (!confirm(
    `This will reset all checkbox states and other settings.\n\n` +
    `Press OK if you want to continue.`)) {
    return;
  }
  if (storage) {
    var keys = [];
    for (var i = 0; i < storage.length; i++) {
      var key = storage.key(i);
      if (key.startsWith(storagePrefix)) keys.push(key);
    }
    for (var key of keys) storage.removeItem(key);
  }
  location.reload();
}

function overwriteSettings(newSettings) {
  initDone = false;
  Object.assign(settings, newSettings);
  writeStorage("bomlayout", settings.bomlayout);
  writeStorage("bommode", settings.bommode);
  writeStorage("canvaslayout", settings.canvaslayout);
  writeStorage("bomCheckboxes", settings.checkboxes.join(","));
  document.getElementById("bomCheckboxes").value = settings.checkboxes.join(",");
  for (var checkbox of settings.checkboxes) {
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
  }
  writeStorage("markWhenChecked", settings.markWhenChecked);
  padsVisible(settings.renderPads);
  document.getElementById("padsCheckbox").checked = settings.renderPads;
  fabricationVisible(settings.renderFabrication);
  document.getElementById("fabricationCheckbox").checked = settings.renderFabrication;
  silkscreenVisible(settings.renderSilkscreen);
  document.getElementById("silkscreenCheckbox").checked = settings.renderSilkscreen;
  referencesVisible(settings.renderReferences);
  document.getElementById("referencesCheckbox").checked = settings.renderReferences;
  valuesVisible(settings.renderValues);
  document.getElementById("valuesCheckbox").checked = settings.renderValues;
  tracksVisible(settings.renderTracks);
  document.getElementById("tracksCheckbox").checked = settings.renderTracks;
  zonesVisible(settings.renderZones);
  document.getElementById("zonesCheckbox").checked = settings.renderZones;
  dnpOutline(settings.renderDnpOutline);
  document.getElementById("dnpOutlineCheckbox").checked = settings.renderDnpOutline;
  setRedrawOnDrag(settings.redrawOnDrag);
  document.getElementById("dragCheckbox").checked = settings.redrawOnDrag;
  setDarkMode(settings.darkMode);
  document.getElementById("darkmodeCheckbox").checked = settings.darkMode;
  setHighlightPin1(settings.highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = settings.highlightpin1;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  setOffsetBackRotation(settings.offsetBackRotation);
  document.getElementById("offsetBackRotationCheckbox").checked = settings.offsetBackRotation;
  initDone = true;
  prepCheckboxes();
  changeBomLayout(settings.bomlayout);
}

function saveFile(filename, blob) {
  var link = document.createElement("a");
  var objurl = URL.createObjectURL(blob);
  link.download = filename;
  link.href = objurl;
  link.click();
}

function dataURLtoBlob(dataurl) {
  var arr = dataurl.split(','),
    mime = arr[0].match(/:(.*?);/)[1],
    bstr = atob(arr[1]),
    n = bstr.length,
    u8arr = new Uint8Array(n);
  while (n--) {
    u8arr[n] = bstr.charCodeAt(n);
  }
  return new Blob([u8arr], {
    type: mime
  });
}

var settings = {
  canvaslayout: "FB",
  bomlayout: "left-right",
  bommode: "grouped",
  checkboxes: [],
  checkboxStoredRefs: {},
  darkMode: false,
  highlightpin1: "none",
  redrawOnDrag: true,
  boardRotation: 0,
  offsetBackRotation: false,
  renderPads: true,
  renderReferences: true,
  renderValues: true,
  renderSilkscreen: true,
  renderFabrication: true,
  renderDnpOutline: false,
  renderTracks: true,
  renderZones: true,
  columnOrder: [],
  hiddenColumns: [],
  netColors: {},
}

function initDefaults() {
  settings.bomlayout = readStorage("bomlayout");
  if (settings.bomlayout === null) {
    settings.bomlayout = config.bom_view;
  }
  if (!['bom-only', 'left-right', 'top-bottom'].includes(settings.bomlayout)) {
    settings.bomlayout = config.bom_view;
  }
  settings.bommode = readStorage("bommode");
  if (settings.bommode === null) {
    settings.bommode = "grouped";
  }
  if (settings.bommode == "netlist" && !pcbdata.nets) {
    settings.bommode = "grouped";
  }
  if (!["grouped", "ungrouped", "netlist"].includes(settings.bommode)) {
    settings.bommode = "grouped";
  }
  settings.canvaslayout = readStorage("canvaslayout");
  if (settings.canvaslayout === null) {
    settings.canvaslayout = config.layer_view;
  }
  var bomCheckboxes = readStorage("bomCheckboxes");
  if (bomCheckboxes === null) {
    bomCheckboxes = config.checkboxes;
  }
  settings.checkboxes = bomCheckboxes.split(",").filter((e) => e);
  document.getElementById("bomCheckboxes").value = bomCheckboxes;

  var highlightpin1 = readStorage("highlightpin1") || config.highlight_pin1;
  if (highlightpin1 === "false") highlightpin1 = "none";
  if (highlightpin1 === "true") highlightpin1 = "all";
  setHighlightPin1(highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = highlightpin1;

  settings.markWhenChecked = readStorage("markWhenChecked") || "";
  populateMarkWhenCheckedOptions();

  function initBooleanSetting(storageString, def, elementId, func) {
    var b = readStorage(storageString);
    if (b === null) {
      b = def;
    } else {
      b = (b == "true");
    }
    document.getElementById(elementId).checked = b;
    func(b);
  }

  initBooleanSetting("padsVisible", config.show_pads, "padsCheckbox", padsVisible);
  initBooleanSetting("fabricationVisible", config.show_fabrication, "fabricationCheckbox", fabricationVisible);
  initBooleanSetting("silkscreenVisible", config.show_silkscreen, "silkscreenCheckbox", silkscreenVisible);
  initBooleanSetting("referencesVisible", true, "referencesCheckbox", referencesVisible);
  initBooleanSetting("valuesVisible", true, "valuesCheckbox", valuesVisible);
  if ("tracks" in pcbdata) {
    initBooleanSetting("tracksVisible", true, "tracksCheckbox", tracksVisible);
    initBooleanSetting("zonesVisible", true, "zonesCheckbox", zonesVisible);
  } else {
    document.getElementById("tracksAndZonesCheckboxes").style.display = "none";
    tracksVisible(false);
    zonesVisible(false);
  }
  initBooleanSetting("dnpOutline", false, "dnpOutlineCheckbox", dnpOutline);
  initBooleanSetting("redrawOnDrag", config.redraw_on_drag, "dragCheckbox", setRedrawOnDrag);
  initBooleanSetting("darkmode", config.dark_mode, "darkmodeCheckbox", setDarkMode);

  var fields = ["checkboxes", "References"].concat(config.fields).concat(["Quantity"]);
  var hcols = JSON.parse(readStorage("hiddenColumns"));
  if (hcols === null) {
    hcols = [];
  }
  settings.hiddenColumns = hcols.filter(e => fields.includes(e));

  var cord = JSON.parse(readStorage("columnOrder"));
  if (cord === null) {
    cord = fields;
  } else {
    cord = cord.filter(e => fields.includes(e));
    if (cord.length != fields.length)
      cord = fields;
  }
  settings.columnOrder = cord;

  settings.boardRotation = readStorage("boardRotation");
  if (settings.boardRotation === null) {
    settings.boardRotation = config.board_rotation * 5;
  } else {
    settings.boardRotation = parseInt(settings.boardRotation);
  }
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  initBooleanSetting("offsetBackRotation", config.offset_back_rotation, "offsetBackRotationCheckbox", setOffsetBackRotation);

  settings.netColors = JSON.parse(readStorage("netColors")) || {};
}

// Helper classes for user js callbacks.

const IBOM_EVENT_TYPES = {
  ALL: "all",
  HIGHLIGHT_EVENT: "highlightEvent",
  CHECKBOX_CHANGE_EVENT: "checkboxChangeEvent",
  BOM_BODY_CHANGE_EVENT: "bomBodyChangeEvent",
}

const EventHandler = {
  callbacks: {},
  init: function () {
    for (eventType of Object.values(IBOM_EVENT_TYPES))
      this.callbacks[eventType] = [];
  },
  registerCallback: function (eventType, callback) {
    this.callbacks[eventType].push(callback);
  },
  emitEvent: function (eventType, eventArgs) {
    event = {
      eventType: eventType,
      args: eventArgs,
    }
    var callback;
    for (callback of this.callbacks[eventType])
      callback(event);
    for (callback of this.callbacks[IBOM_EVENT_TYPES.ALL])
      callback(event);
  }
}
EventHandler.init();

///////////////////////////////////////////////

///////////////////////////////////////////////
/* PCB rendering code */

var emptyContext2d = document.createElement("canvas").getContext("2d");

function deg2rad(deg) {
  return deg * Math.PI / 180;
}

function calcFontPoint(linepoint, text, offsetx, offsety, tilt) {
  var point = [
    linepoint[0] * text.width + offsetx,
    linepoint[1] * text.height + offsety
  ];
  // This approximates pcbnew behavior with how text tilts depending on horizontal justification
  point[0] -= (linepoint[1] + 0.5 * (1 + text.justify[0])) * text.height * tilt;
  return point;
}

function drawText(ctx, text, color) {
  if ("ref" in text && !settings.renderReferences) return;
  if ("val" in text && !settings.renderValues) return;
  ctx.save();
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  ctx.lineWidth = text.thickness;
  if ("svgpath" in text) {
    ctx.stroke(new Path2D(text.svgpath));
    ctx.restore();
    return;
  }
  if ("polygons" in text) {
    ctx.fill(getPolygonsPath(text));
    ctx.restore();
    return;
  }
  ctx.translate(...text.pos);
  ctx.translate(text.thickness * 0.5, 0);
  var angle = -text.angle;
  if (text.attr.includes("mirrored")) {
    ctx.scale(-1, 1);
    angle = -angle;
  }
  var tilt = 0;
  if (text.attr.includes("italic")) {
    tilt = 0.125;
  }
  var interline = text.height * 1.5 + text.thickness;
  var txt = text.text.split("\n");
  // KiCad ignores last empty line.
  if (txt[txt.length - 1] == '') txt.pop();
  ctx.rotate(deg2rad(angle));
  var offsety = (1 - text.justify[1]) / 2 * text.height; // One line offset
  offsety -= (txt.length - 1) * (text.justify[1] + 1) / 2 * interline; // Multiline offset
  for (var i in txt) {
    var lineWidth = text.thickness + interline / 2 * tilt;
    for (var j = 0; j < txt[i].length; j++) {
      if (txt[i][j] == '\t') {
        var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
        lineWidth += fourSpaces - lineWidth % fourSpaces;
      } else {
        if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
        }
        lineWidth += pcbdata.font_data[txt[i][j]].w * text.width;
      }
    }
    var offsetx = -lineWidth * (text.justify[0] + 1) / 2;
    var inOverbar = false;
    for (var j = 0; j < txt[i].length; j++) {
      if (config.kicad_text_formatting) {
        if (txt[i][j] == '\t') {
          var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
          offsetx += fourSpaces - offsetx % fourSpaces;
          continue;
        } else if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
          if (txt[i][j] != '~') {
            inOverbar = !inOverbar;
          }
        }
      }
      var glyph = pcbdata.font_data[txt[i][j]];
      if (inOverbar) {
        var overbarStart = [offsetx, -text.height * 1.4 + offsety];
        var overbarEnd = [offsetx + text.width * glyph.w, overbarStart[1]];

        if (!lastHadOverbar) {
          overbarStart[0] += text.height * 1.4 * tilt;
          lastHadOverbar = true;
        }
        ctx.beginPath();
        ctx.moveTo(...overbarStart);
        ctx.lineTo(...overbarEnd);
        ctx.stroke();
      } else {
        lastHadOverbar = false;
      }
      for (var line of glyph.l) {
        ctx.beginPath();
        ctx.moveTo(...calcFontPoint(line[0], text, offsetx, offsety, tilt));
        for (var k = 1; k < line.length; k++) {
          ctx.lineTo(...calcFontPoint(line[k], text, offsetx, offsety, tilt));
        }
        ctx.stroke();
      }
      offsetx += glyph.w * text.width;
    }
    offsety += interline;
  }
  ctx.restore();
}

function drawedge(ctx, scalefactor, edge, color) {
  ctx.strokeStyle = color;
  ctx.fillStyle = color;
  ctx.lineWidth = Math.max(1 / scalefactor, edge.width);
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  if ("svgpath" in edge) {
    ctx.stroke(new Path2D(edge.svgpath));
  } else {
    ctx.beginPath();
    if (edge.type == "segment") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(...edge.end);
    }
    if (edge.type == "rect") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(edge.start[0], edge.end[1]);
      ctx.lineTo(...edge.end);
      ctx.lineTo(edge.end[0], edge.start[1]);
      ctx.lineTo(...edge.start);
    }
    if (edge.type == "arc") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        deg2rad(edge.startangle),
        deg2rad(edge.endangle));
    }
    if (edge.type == "circle") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        0, 2 * Math.PI);
      ctx.closePath();
    }
    if (edge.type == "curve") {
      ctx.moveTo(...edge.start);
      ctx.bezierCurveTo(...edge.cpa, ...edge.cpb, ...edge.end);
    }
    if("filled" in edge && edge.filled)
      ctx.fill();
    else
      ctx.stroke();
  }
}

function getChamferedRectPath(size, radius, chamfpos, chamfratio) {
  // chamfpos is a bitmask, left = 1, right = 2, bottom left = 4, bottom right = 8
  var path = new Path2D();
  var width = size[0];
  var height = size[1];
  var x = width * -0.5;
  var y = height * -0.5;
  var chamfOffset = Math.min(width, height) * chamfratio;
  path.moveTo(x, 0);
  if (chamfpos & 4) {
    path.lineTo(x, y + height - chamfOffset);
    path.lineTo(x + chamfOffset, y + height);
    path.lineTo(0, y + height);
  } else {
    path.arcTo(x, y + height, x + width, y + height, radius);
  }
  if (chamfpos & 8) {
    path.lineTo(x + width - chamfOffset, y + height);
    path.lineTo(x + width, y + height - chamfOffset);
    path.lineTo(x + width, 0);
  } else {
    path.arcTo(x + width, y + height, x + width, y, radius);
  }
  if (chamfpos & 2) {
    path.lineTo(x + width, y + chamfOffset);
    path.lineTo(x + width - chamfOffset, y);
    path.lineTo(0, y);
  } else {
    path.arcTo(x + width, y, x, y, radius);
  }
  if (chamfpos & 1) {
    path.lineTo(x + chamfOffset, y);
    path.lineTo(x, y + chamfOffset);
    path.lineTo(x, 0);
  } else {
    path.arcTo(x, y, x, y + height, radius);
  }
  path.closePath();
  return path;
}

function getOblongPath(size) {
  return getChamferedRectPath(size, Math.min(size[0], size[1]) / 2, 0, 0);
}

function getPolygonsPath(shape) {
  if (shape.path2d) {
    return shape.path2d;
  }
  if ("svgpath" in shape) {
    shape.path2d = new Path2D(shape.svgpath);
  } else {
    var path = new Path2D();
    for (var polygon of shape.polygons) {
      path.moveTo(...polygon[0]);
      for (var i = 1; i < polygon.length; i++) {
        path.lineTo(...polygon[i]);
      }
      path.closePath();
    }
    shape.path2d = path;
  }
  return shape.path2d;
}

function drawPolygonShape(ctx, scalefactor, shape, color) {
  ctx.save();
  if (!("svgpath" in shape)) {
    ctx.translate(...shape.pos);
    ctx.rotate(deg2rad(-shape.angle));
  }
  if("filled" in shape && !shape.filled) {
    ctx.strokeStyle = color;
    ctx.lineWidth = Math.max(1 / scalefactor, shape.width);
    ctx.lineCap = "round";
    ctx.lineJoin = "round";
    ctx.stroke(getPolygonsPath(shape));
  } else {
    ctx.fillStyle = color;
    ctx.fill(getPolygonsPath(shape));
  }
  ctx.restore();
}

function drawDrawing(ctx, scalefactor, drawing, color) {
  if (["segment", "arc", "circle", "curve", "rect"].includes(drawing.type)) {
    drawedge(ctx, scalefactor, drawing, color);
  } else if (drawing.type == "polygon") {
    drawPolygonShape(ctx, scalefactor, drawing, color);
  } else {
    drawText(ctx, drawing, color);
  }
}

function getCirclePath(radius) {
  var path = new Path2D();
  path.arc(0, 0, radius, 0, 2 * Math.PI);
  path.closePath();
  return path;
}

function getCachedPadPath(pad) {
  if (!pad.path2d) {
    // if path2d is not set, build one and cache it on pad object
    if (pad.shape == "rect") {
      pad.path2d = new Path2D();
      pad.path2d.rect(...pad.size.map(c => -c * 0.5), ...pad.size);
    } else if (pad.shape == "oval") {
      pad.path2d = getOblongPath(pad.size);
    } else if (pad.shape == "circle") {
      pad.path2d = getCirclePath(pad.size[0] / 2);
    } else if (pad.shape == "roundrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, 0, 0);
    } else if (pad.shape == "chamfrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, pad.chamfpos, pad.chamfratio)
    } else if (pad.shape == "custom") {
      pad.path2d = getPolygonsPath(pad);
    }
  }
  return pad.path2d;
}

function drawPad(ctx, pad, color, outline) {
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  if (pad.offset) {
    ctx.translate(...pad.offset);
  }
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  var path = getCachedPadPath(pad);
  if (outline) {
    ctx.stroke(path);
  } else {
    ctx.fill(path);
  }
  ctx.restore();
}

function drawPadHole(ctx, pad, padHoleColor) {
  if (pad.type != "th") return;
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  ctx.fillStyle = padHoleColor;
  if (pad.drillshape == "oblong") {
    ctx.fill(getOblongPath(pad.drillsize));
  } else {
    ctx.fill(getCirclePath(pad.drillsize[0] / 2));
  }
  ctx.restore();
}

function drawFootprint(ctx, layer, scalefactor, footprint, colors, highlight, outline) {
  if (highlight) {
    // draw bounding box
    if (footprint.layer == layer) {
      ctx.save();
      ctx.globalAlpha = 0.2;
      ctx.translate(...footprint.bbox.pos);
      ctx.rotate(deg2rad(-footprint.bbox.angle));
      ctx.translate(...footprint.bbox.relpos);
      ctx.fillStyle = colors.pad;
      ctx.fillRect(0, 0, ...footprint.bbox.size);
      ctx.globalAlpha = 1;
      ctx.strokeStyle = colors.pad;
      ctx.lineWidth = 3 / scalefactor;
      ctx.strokeRect(0, 0, ...footprint.bbox.size);
      ctx.restore();
    }
  }
  // draw drawings
  for (var drawing of footprint.drawings) {
    if (drawing.layer == layer) {
      drawDrawing(ctx, scalefactor, drawing.drawing, colors.pad);
    }
  }
  ctx.lineWidth = 3 / scalefactor;
  // draw pads
  if (settings.renderPads) {
    for (var pad of footprint.pads) {
      if (pad.layers.includes(layer)) {
        drawPad(ctx, pad, colors.pad, outline);
        if (pad.pin1 &&
          (settings.highlightpin1 == "all" ||
            settings.highlightpin1 == "selected" && highlight)) {
          drawPad(ctx, pad, colors.outline, true);
        }
      }
    }
    for (var pad of footprint.pads) {
      drawPadHole(ctx, pad, colors.padHole);
    }
  }
}

function drawEdgeCuts(canvas, scalefactor) {
  var ctx = canvas.getContext("2d");
  var edgecolor = getComputedStyle(topmostdiv).getPropertyValue('--pcb-edge-color');
  for (var edge of pcbdata.edges) {
    drawDrawing(ctx, scalefactor, edge, edgecolor);
  }
}

function drawFootprints(canvas, layer, scalefactor, highlight) {
  var ctx = canvas.getContext("2d");
  ctx.lineWidth = 3 / scalefactor;
  var style = getComputedStyle(topmostdiv);

  var colors = {
    pad: style.getPropertyValue('--pad-color'),
    padHole: style.getPropertyValue('--pad-hole-color'),
    outline: style.getPropertyValue('--pin1-outline-color'),
  }

  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var mod = pcbdata.footprints[i];
    var outline = settings.renderDnpOutline && pcbdata.bom.skipped.includes(i);
    var h = highlightedFootprints.includes(i);
    var d = markedFootprints.has(i);
    if (highlight) {
      if(h && d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-both');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-both');
      } else if (h) {
        colors.pad = style.getPropertyValue('--pad-color-highlight');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight');
      } else if (d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-marked');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-marked');
      }
    }
    if( h || d || !highlight) {
      drawFootprint(ctx, layer, scalefactor, mod, colors, highlight, outline);
    }
  }
}

function drawBgLayer(layername, canvas, layer, scalefactor, edgeColor, polygonColor, textColor) {
  var ctx = canvas.getContext("2d");
  for (var d of pcbdata.drawings[layername][layer]) {
    if (["segment", "arc", "circle", "curve", "rect"].includes(d.type)) {
      drawedge(ctx, scalefactor, d, edgeColor);
    } else if (d.type == "polygon") {
      drawPolygonShape(ctx, scalefactor, d, polygonColor);
    } else {
      drawText(ctx, d, textColor);
    }
  }
}

function drawTracks(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineCap = "round";
  for (var track of pcbdata.tracks[layer]) {
    if (highlight && highlightedNet != track.net) continue;
    ctx.strokeStyle = highlight ? defaultColor : settings.netColors[track.net] || defaultColor;
    ctx.lineWidth = track.width;
    ctx.beginPath();
    if ('radius' in track) {
      ctx.arc(
        ...track.center,
        track.radius,
        deg2rad(track.startangle),
        deg2rad(track.endangle));
    } else {
      ctx.moveTo(...track.start);
      ctx.lineTo(...track.end);
    }
    ctx.stroke();
  }
}

function drawZones(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineJoin = "round";
  for (var zone of pcbdata.zones[layer]) {
    if (highlight && highlightedNet != zone.net) continue;
    ctx.strokeStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    ctx.fillStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    if (!zone.path2d) {
      zone.path2d = getPolygonsPath(zone);
    }
    ctx.fill(zone.path2d, zone.fillrule || "nonzero");
    if (zone.width > 0) {
      ctx.lineWidth = zone.width;
      ctx.stroke(zone.path2d);
    }
  }
}

function clearCanvas(canvas, color = null) {
  var ctx = canvas.getContext("2d");
  ctx.save();
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  if (color) {
    ctx.fillStyle = color;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  } else {
    if (!window.matchMedia("print").matches)
      ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
  ctx.restore();
}

function drawNets(canvas, layer, highlight) {
  var style = getComputedStyle(topmostdiv);
  if (settings.renderTracks) {
    var trackColor = style.getPropertyValue(highlight ? '--track-color-highlight' : '--track-color');
    drawTracks(canvas, layer, trackColor, highlight);
  }
  if (settings.renderZones) {
    var zoneColor = style.getPropertyValue(highlight ? '--zone-color-highlight' : '--zone-color');
    drawZones(canvas, layer, zoneColor, highlight);
  }
  if (highlight && settings.renderPads) {
    var padColor = style.getPropertyValue('--pad-color-highlight');
    var padHoleColor = style.getPropertyValue('--pad-hole-color');
    var ctx = canvas.getContext("2d");
    for (var footprint of pcbdata.footprints) {
      // draw pads
      var padDrawn = false;
      for (var pad of footprint.pads) {
        if (highlightedNet != pad.net) continue;
        if (pad.layers.includes(layer)) {
          drawPad(ctx, pad, padColor, false);
          padDrawn = true;
        }
      }
      if (padDrawn) {
        // redraw all pad holes because some pads may overlap
        for (var pad of footprint.pads) {
          drawPadHole(ctx, pad, padHoleColor);
        }
      }
    }
  }
}

function drawHighlightsOnLayer(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.highlight);
  }
  if (markedFootprints.size > 0 || highlightedFootprints.length > 0) {
    drawFootprints(canvasdict.highlight, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom, true);
  }
  if (highlightedNet !== null) {
    drawNets(canvasdict.highlight, canvasdict.layer, true);
  }
}

function drawHighlights() {
  drawHighlightsOnLayer(allcanvas.front);
  drawHighlightsOnLayer(allcanvas.back);
}

function drawBackground(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.bg);
    clearCanvas(canvasdict.fab);
    clearCanvas(canvasdict.silk);
  }

  drawNets(canvasdict.bg, canvasdict.layer, false);
  drawFootprints(canvasdict.bg, canvasdict.layer,
    canvasdict.transform.s * canvasdict.transform.zoom, false);

  drawEdgeCuts(canvasdict.bg, canvasdict.transform.s * canvasdict.transform.zoom);

  var style = getComputedStyle(topmostdiv);
  var edgeColor = style.getPropertyValue('--silkscreen-edge-color');
  var polygonColor = style.getPropertyValue('--silkscreen-polygon-color');
  var textColor = style.getPropertyValue('--silkscreen-text-color');
  if (settings.renderSilkscreen) {
    drawBgLayer(
      "silkscreen", canvasdict.silk, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
  edgeColor = style.getPropertyValue('--fabrication-edge-color');
  polygonColor = style.getPropertyValue('--fabrication-polygon-color');
  textColor = style.getPropertyValue('--fabrication-text-color');
  if (settings.renderFabrication) {
    drawBgLayer(
      "fabrication", canvasdict.fab, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
}

function prepareCanvas(canvas, flip, transform) {
  var ctx = canvas.getContext("2d");
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  ctx.scale(transform.zoom, transform.zoom);
  ctx.translate(transform.panx, transform.pany);
  if (flip) {
    ctx.scale(-1, 1);
  }
  ctx.translate(transform.x, transform.y);
  ctx.rotate(deg2rad(settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  ctx.scale(transform.s, transform.s);
}

function prepareLayer(canvasdict) {
  var flip = (canvasdict.layer === "B");
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    prepareCanvas(canvasdict[c], flip, canvasdict.transform);
  }
}

function rotateVector(v, angle) {
  angle = deg2rad(angle);
  return [
    v[0] * Math.cos(angle) - v[1] * Math.sin(angle),
    v[0] * Math.sin(angle) + v[1] * Math.cos(angle)
  ];
}

function applyRotation(bbox, flip) {
  var corners = [
    [bbox.minx, bbox.miny],
    [bbox.minx, bbox.maxy],
    [bbox.maxx, bbox.miny],
    [bbox.maxx, bbox.maxy],
  ];
  corners = corners.map((v) => rotateVector(v, settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  return {
    minx: corners.reduce((a, v) => Math.min(a, v[0]), Infinity),
    miny: corners.reduce((a, v) => Math.min(a, v[1]), Infinity),
    maxx: corners.reduce((a, v) => Math.max(a, v[0]), -Infinity),
    maxy: corners.reduce((a, v) => Math.max(a, v[1]), -Infinity),
  }
}

function recalcLayerScale(layerdict, width, height) {
  var flip = (layerdict.layer === "B");
  var bbox = applyRotation(pcbdata.edges_bbox, flip);
  var scalefactor = 0.98 * Math.min(
    width / (bbox.maxx - bbox.minx),
    height / (bbox.maxy - bbox.miny)
  );
  if (scalefactor < 0.1) {
    scalefactor = 1;
  }
  layerdict.transform.s = scalefactor;
  if (flip) {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor + width) * 0.5;
  } else {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor - width) * 0.5;
  }
  layerdict.transform.y = -((bbox.maxy + bbox.miny) * scalefactor - height) * 0.5;
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    canvas = layerdict[c];
    canvas.width = width;
    canvas.height = height;
    canvas.style.width = (width / devicePixelRatio) + "px";
    canvas.style.height = (height / devicePixelRatio) + "px";
  }
}

function redrawCanvas(layerdict) {
  prepareLayer(layerdict);
  drawBackground(layerdict);
  drawHighlightsOnLayer(layerdict);
}

function resizeCanvas(layerdict) {
  var canvasdivid = {
    "F": "frontcanvas",
    "B": "backcanvas"
  } [layerdict.layer];
  var width = document.getElementById(canvasdivid).clientWidth * devicePixelRatio;
  var height = document.getElementById(canvasdivid).clientHeight * devicePixelRatio;
  recalcLayerScale(layerdict, width, height);
  redrawCanvas(layerdict);
}

function resizeAll() {
  resizeCanvas(allcanvas.front);
  resizeCanvas(allcanvas.back);
}

function pointWithinDistanceToSegment(x, y, x1, y1, x2, y2, d) {
  var A = x - x1;
  var B = y - y1;
  var C = x2 - x1;
  var D = y2 - y1;

  var dot = A * C + B * D;
  var len_sq = C * C + D * D;
  var dx, dy;
  if (len_sq == 0) {
    // start and end of the segment coincide
    dx = x - x1;
    dy = y - y1;
  } else {
    var param = dot / len_sq;
    var xx, yy;
    if (param < 0) {
      xx = x1;
      yy = y1;
    } else if (param > 1) {
      xx = x2;
      yy = y2;
    } else {
      xx = x1 + param * C;
      yy = y1 + param * D;
    }
    dx = x - xx;
    dy = y - yy;
  }
  return dx * dx + dy * dy <= d * d;
}

function modulo(n, mod) {
  return ((n % mod) + mod) % mod;
}

function pointWithinDistanceToArc(x, y, xc, yc, radius, startangle, endangle, d) {
  var dx = x - xc;
  var dy = y - yc;
  var r_sq = dx * dx + dy * dy;
  var rmin = Math.max(0, radius - d);
  var rmax = radius + d;

  if (r_sq < rmin * rmin || r_sq > rmax * rmax)
    return false;

  var angle1 = modulo(deg2rad(startangle), 2 * Math.PI);
  var dx1 = xc + radius * Math.cos(angle1) - x;
  var dy1 = yc + radius * Math.sin(angle1) - y;
  if (dx1 * dx1 + dy1 * dy1 <= d * d)
    return true;

  var angle2 = modulo(deg2rad(endangle), 2 * Math.PI);
  var dx2 = xc + radius * Math.cos(angle2) - x;
  var dy2 = yc + radius * Math.sin(angle2) - y;
  if (dx2 * dx2 + dy2 * dy2 <= d * d)
    return true;

  var angle = modulo(Math.atan2(dy, dx), 2 * Math.PI);
  if (angle1 > angle2)
    return (angle >= angle2 || angle <= angle1);
  else
    return (angle >= angle1 && angle <= angle2);
}

function pointWithinPad(x, y, pad) {
  var v = [x - pad.pos[0], y - pad.pos[1]];
  v = rotateVector(v, pad.angle);
  if (pad.offset) {
    v[0] -= pad.offset[0];
    v[1] -= pad.offset[1];
  }
  return emptyContext2d.isPointInPath(getCachedPadPath(pad), ...v);
}

function netHitScan(layer, x, y) {
  // Check track segments
  if (settings.renderTracks && pcbdata.tracks) {
    for (var track of pcbdata.tracks[layer]) {
      if ('radius' in track) {
        if (pointWithinDistanceToArc(x, y, ...track.center, track.radius, track.startangle, track.endangle, track.width / 2)) {
          return track.net;
        }
      } else {
        if (pointWithinDistanceToSegment(x, y, ...track.start, ...track.end, track.width / 2)) {
          return track.net;
        }
      }
    }
  }
  // Check pads
  if (settings.renderPads) {
    for (var footprint of pcbdata.footprints) {
      for (var pad of footprint.pads) {
        if (pad.layers.includes(layer) && pointWithinPad(x, y, pad)) {
          return pad.net;
        }
      }
    }
  }
  return null;
}

function pointWithinFootprintBbox(x, y, bbox) {
  var v = [x - bbox.pos[0], y - bbox.pos[1]];
  v = rotateVector(v, bbox.angle);
  return bbox.relpos[0] <= v[0] && v[0] <= bbox.relpos[0] + bbox.size[0] &&
    bbox.relpos[1] <= v[1] && v[1] <= bbox.relpos[1] + bbox.size[1];
}

function bboxHitScan(layer, x, y) {
  var result = [];
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var footprint = pcbdata.footprints[i];
    if (footprint.layer == layer) {
      if (pointWithinFootprintBbox(x, y, footprint.bbox)) {
        result.push(i);
      }
    }
  }
  return result;
}

function handlePointerDown(e, layerdict) {
  if (e.button != 0 && e.button != 1) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  layerdict.pointerStates[e.pointerId] = {
    distanceTravelled: 0,
    lastX: e.offsetX,
    lastY: e.offsetY,
    downTime: Date.now(),
  };
}

function handleMouseClick(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var x = e.offsetX;
  var y = e.offsetY;
  var t = layerdict.transform;
  var flip = layerdict.layer === "B";
  if (flip) {
    x = (devicePixelRatio * x / t.zoom - t.panx + t.x) / -t.s;
  } else {
    x = (devicePixelRatio * x / t.zoom - t.panx - t.x) / t.s;
  }
  y = (devicePixelRatio * y / t.zoom - t.y - t.pany) / t.s;
  var v = rotateVector([x, y], -settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0));
  if ("nets" in pcbdata) {
    var net = netHitScan(layerdict.layer, ...v);
    if (net !== highlightedNet) {
      netClicked(net);
    }
  }
  if (highlightedNet === null) {
    var footprints = bboxHitScan(layerdict.layer, ...v);
    if (footprints.length > 0) {
      footprintsClicked(footprints);
    }
  }
}

function handlePointerLeave(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();

  if (!settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }

  delete layerdict.pointerStates[e.pointerId];
}

function resetTransform(layerdict) {
  layerdict.transform.panx = 0;
  layerdict.transform.pany = 0;
  layerdict.transform.zoom = 1;
  redrawCanvas(layerdict);
}

function handlePointerUp(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  e.preventDefault();
  e.stopPropagation();

  if (e.button == 2) {
    // Reset pan and zoom on right click.
    resetTransform(layerdict);
    layerdict.anotherPointerTapped = false;
    return;
  }

  // We haven't necessarily had a pointermove event since the interaction started, so make sure we update this now
  var ptr = layerdict.pointerStates[e.pointerId];
  ptr.distanceTravelled += Math.abs(e.offsetX - ptr.lastX) + Math.abs(e.offsetY - ptr.lastY);

  if (e.button == 0 && ptr.distanceTravelled < 10 && Date.now() - ptr.downTime <= 500) {
    if (Object.keys(layerdict.pointerStates).length == 1) {
      if (layerdict.anotherPointerTapped) {
        // This is the second pointer coming off of a two-finger tap
        resetTransform(layerdict);
      } else {
        // This is just a regular tap
        handleMouseClick(e, layerdict);
      }
      layerdict.anotherPointerTapped = false;
    } else {
      // This is the first finger coming off of what could become a two-finger tap
      layerdict.anotherPointerTapped = true;
    }
  } else {
    if (!settings.redrawOnDrag) {
      redrawCanvas(layerdict);
    }
    layerdict.anotherPointerTapped = false;
  }

  delete layerdict.pointerStates[e.pointerId];
}

function handlePointerMove(e, layerdict) {
  if (!layerdict.pointerStates.hasOwnProperty(e.pointerId)) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var thisPtr = layerdict.pointerStates[e.pointerId];

  var dx = e.offsetX - thisPtr.lastX;
  var dy = e.offsetY - thisPtr.lastY;

  // If this number is low on pointer up, we count the action as a click
  thisPtr.distanceTravelled += Math.abs(dx) + Math.abs(dy);

  if (Object.keys(layerdict.pointerStates).length == 1) {
    // This is a simple drag
    layerdict.transform.panx += devicePixelRatio * dx / layerdict.transform.zoom;
    layerdict.transform.pany += devicePixelRatio * dy / layerdict.transform.zoom;
  } else if (Object.keys(layerdict.pointerStates).length == 2) {
    var otherPtr = Object.values(layerdict.pointerStates).filter((ptr) => ptr != thisPtr)[0];

    var oldDist = Math.sqrt(Math.pow(thisPtr.lastX - otherPtr.lastX, 2) + Math.pow(thisPtr.lastY - otherPtr.lastY, 2));
    var newDist = Math.sqrt(Math.pow(e.offsetX - otherPtr.lastX, 2) + Math.pow(e.offsetY - otherPtr.lastY, 2));

    var scaleFactor = newDist / oldDist;

    if (scaleFactor != NaN) {
      layerdict.transform.zoom *= scaleFactor;

      var zoomd = (1 - scaleFactor) / layerdict.transform.zoom;
      layerdict.transform.panx += devicePixelRatio * otherPtr.lastX * zoomd;
      layerdict.transform.pany += devicePixelRatio * otherPtr.lastY * zoomd;
    }
  }

  thisPtr.lastX = e.offsetX;
  thisPtr.lastY = e.offsetY;

  if (settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }
}

function handleMouseWheel(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();
  var t = layerdict.transform;
  var wheeldelta = e.deltaY;
  if (e.deltaMode == 1) {
    // FF only, scroll by lines
    wheeldelta *= 30;
  } else if (e.deltaMode == 2) {
    wheeldelta *= 300;
  }
  var m = Math.pow(1.1, -wheeldelta / 40);
  // Limit amount of zoom per tick.
  if (m > 2) {
    m = 2;
  } else if (m < 0.5) {
    m = 0.5;
  }
  t.zoom *= m;
  var zoomd = (1 - m) / t.zoom;
  t.panx += devicePixelRatio * e.offsetX * zoomd;
  t.pany += devicePixelRatio * e.offsetY * zoomd;
  redrawCanvas(layerdict);
}

function addMouseHandlers(div, layerdict) {
  div.addEventListener("pointerdown", function(e) {
    handlePointerDown(e, layerdict);
  });
  div.addEventListener("pointermove", function(e) {
    handlePointerMove(e, layerdict);
  });
  div.addEventListener("pointerup", function(e) {
    handlePointerUp(e, layerdict);
  });
  var pointerleave = function(e) {
    handlePointerLeave(e, layerdict);
  }
  div.addEventListener("pointercancel", pointerleave);
  div.addEventListener("pointerleave", pointerleave);
  div.addEventListener("pointerout", pointerleave);

  div.onwheel = function(e) {
    handleMouseWheel(e, layerdict);
  }
  for (var element of [div, layerdict.bg, layerdict.fab, layerdict.silk, layerdict.highlight]) {
    element.addEventListener("contextmenu", function(e) {
      e.preventDefault();
    }, false);
  }
}

function setRedrawOnDrag(value) {
  settings.redrawOnDrag = value;
  writeStorage("redrawOnDrag", value);
}

function setBoardRotation(value) {
  settings.boardRotation = value * 5;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  resizeAll();
}

function setOffsetBackRotation(value) {
  settings.offsetBackRotation = value;
  writeStorage("offsetBackRotation", value);
  resizeAll();
}

function initRender() {
  allcanvas = {
    front: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("F_bg"),
      fab: document.getElementById("F_fab"),
      silk: document.getElementById("F_slk"),
      highlight: document.getElementById("F_hl"),
      layer: "F",
    },
    back: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("B_bg"),
      fab: document.getElementById("B_fab"),
      silk: document.getElementById("B_slk"),
      highlight: document.getElementById("B_hl"),
      layer: "B",
    }
  };
  addMouseHandlers(document.getElementById("frontcanvas"), allcanvas.front);
  addMouseHandlers(document.getElementById("backcanvas"), allcanvas.back);
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/*
 * Table reordering via Drag'n'Drop
 * Inspired by: https://htmldom.dev/drag-and-drop-table-column
 */

function setBomHandlers() {

  const bom = document.getElementById('bomtable');

  let dragName;
  let placeHolderElements;
  let draggingElement;
  let forcePopulation;
  let xOffset;
  let yOffset;
  let wasDragged;

  const mouseUpHandler = function(e) {
    // Delete dragging element
    draggingElement.remove();

    // Make BOM selectable again
    bom.style.removeProperty("userSelect");

    // Remove listeners
    document.removeEventListener('mousemove', mouseMoveHandler);
    document.removeEventListener('mouseup', mouseUpHandler);

    if (wasDragged) {
      // Redraw whole BOM
      populateBomTable();
    }
  }

  const mouseMoveHandler = function(e) {
    // Notice the dragging
    wasDragged = true;

    // Make the dragged element visible
    draggingElement.style.removeProperty("display");

    // Set elements position to mouse position
    draggingElement.style.left = `${e.screenX - xOffset}px`;
    draggingElement.style.top = `${e.screenY - yOffset}px`;

    // Forced redrawing of BOM table
    if (forcePopulation) {
      forcePopulation = false;
      // Copy array
      phe = Array.from(placeHolderElements);
      // populate BOM table again
      populateBomHeader(dragName, phe);
      populateBomBody(dragName, phe);
    }

    // Set up array of hidden columns
    var hiddenColumns = Array.from(settings.hiddenColumns);
    // In the ungrouped mode, quantity don't exist
    if (settings.bommode === "ungrouped")
      hiddenColumns.push("Quantity");
    // If no checkbox fields can be found, we consider them hidden
    if (settings.checkboxes.length == 0)
      hiddenColumns.push("checkboxes");

    // Get table headers and group them into checkboxes, extrafields and normal headers
    const bh = document.getElementById("bomhead");
    headers = Array.from(bh.querySelectorAll("th"))
    headers.shift() // numCol is not part of the columnOrder
    headerGroups = []
    lastCompoundClass = null;
    for (i = 0; i < settings.columnOrder.length; i++) {
      cElem = settings.columnOrder[i];
      if (hiddenColumns.includes(cElem)) {
        // Hidden columns appear as a dummy element
        headerGroups.push([]);
        continue;
      }
      elem = headers.filter(e => getColumnOrderName(e) === cElem)[0];
      if (elem.classList.contains("bom-checkbox")) {
        if (lastCompoundClass === "bom-checkbox") {
          cbGroup = headerGroups.pop();
          cbGroup.push(elem);
          headerGroups.push(cbGroup);
        } else {
          lastCompoundClass = "bom-checkbox";
          headerGroups.push([elem])
        }
      } else {
        headerGroups.push([elem])
      }
    }

    // Copy settings.columnOrder
    var columns = Array.from(settings.columnOrder)

    // Set up array with indices of hidden columns
    var hiddenIndices = hiddenColumns.map(e => settings.columnOrder.indexOf(e));
    var dragIndex = columns.indexOf(dragName);
    var swapIndex = dragIndex;
    var swapDone = false;

    // Check if the current dragged element is swapable with the left or right element
    if (dragIndex > 0) {
      // Get left headers boundingbox
      swapIndex = dragIndex - 1;
      while (hiddenIndices.includes(swapIndex) && swapIndex > 0)
        swapIndex--;
      if (!hiddenIndices.includes(swapIndex)) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX < box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }
    if ((!swapDone) && dragIndex < headerGroups.length - 1) {
      // Get right headers boundingbox
      swapIndex = dragIndex + 1;
      while (hiddenIndices.includes(swapIndex))
        swapIndex++;
      if (swapIndex < headerGroups.length) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX > box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }

    // Write back change to storage
    if (swapDone) {
      settings.columnOrder = columns
      writeStorage("columnOrder", JSON.stringify(columns));
    }

  }

  const mouseDownHandler = function(e) {
    var target = e.target;
    if (target.tagName.toLowerCase() != "td")
      target = target.parentElement;

    // Used to check if a dragging has ever happened
    wasDragged = false;

    // Create new element which will be displayed as the dragged column
    draggingElement = document.createElement("div")
    draggingElement.classList.add("dragging");
    draggingElement.style.display = "none";
    draggingElement.style.position = "absolute";
    draggingElement.style.overflow = "hidden";

    // Get bomhead and bombody elements
    const bh = document.getElementById("bomhead");
    const bb = document.getElementById("bombody");

    // Get all compound headers for the current column
    var compoundHeaders;
    if (target.classList.contains("bom-checkbox")) {
      compoundHeaders = Array.from(bh.querySelectorAll("th.bom-checkbox"));
    } else {
      compoundHeaders = [target];
    }

    // Create new table which will display the column
    var newTable = document.createElement("table");
    newTable.classList.add("bom");
    newTable.style.background = "white";
    draggingElement.append(newTable);

    // Create new header element
    var newHeader = document.createElement("thead");
    newTable.append(newHeader);

    // Set up array for storing all placeholder elements
    placeHolderElements = [];

    // Add all compound headers to the new thead element and placeholders
    compoundHeaders.forEach(function(h) {
      clone = cloneElementWithDimensions(h);
      newHeader.append(clone);
      placeHolderElements.push(clone);
    });

    // Create new body element
    var newBody = document.createElement("tbody");
    newTable.append(newBody);

    // Get indices for compound headers
    var idxs = compoundHeaders.map(e => getBomTableHeaderIndex(e));

    // For each row in the BOM body...
    var rows = bb.querySelectorAll("tr");
    rows.forEach(function(row) {
      // ..get the cells for the compound column
      const tds = row.querySelectorAll("td");
      var copytds = idxs.map(i => tds[i]);
      // Add them to the new element and the placeholders
      var newRow = document.createElement("tr");
      copytds.forEach(function(td) {
        clone = cloneElementWithDimensions(td);
        newRow.append(clone);
        placeHolderElements.push(clone);
      });
      newBody.append(newRow);
    });

    // Compute width for compound header
    var width = compoundHeaders.reduce((acc, x) => acc + x.clientWidth, 0);
    draggingElement.style.width = `${width}px`;

    // Insert the new dragging element and disable selection on BOM
    bom.insertBefore(draggingElement, null);
    bom.style.userSelect = "none";

    // Determine the mouse position offset
    xOffset = e.screenX - compoundHeaders.reduce((acc, x) => Math.min(acc, x.offsetLeft), compoundHeaders[0].offsetLeft);
    yOffset = e.screenY - compoundHeaders[0].offsetTop;

    // Get name for the column in settings.columnOrder
    dragName = getColumnOrderName(target);

    // Change text and class for placeholder elements
    placeHolderElements = placeHolderElements.map(function(e) {
      newElem = cloneElementWithDimensions(e);
      newElem.textContent = "";
      newElem.classList.add("placeholder");
      return newElem;
    });

    // On next mouse move, the whole BOM needs to be redrawn to show the placeholders
    forcePopulation = true;

    // Add listeners for move and up on mouse
    document.addEventListener('mousemove', mouseMoveHandler);
    document.addEventListener('mouseup', mouseUpHandler);
  }

  // In netlist mode, there is nothing to reorder
  if (settings.bommode === "netlist")
    return;

  // Add mouseDownHandler to every column except the numCol
  bom.querySelectorAll("th")
    .forEach(function(head) {
      if (!head.classList.contains("numCol")) {
        head.onmousedown = mouseDownHandler;
      }
    });

}

function getBoundingClientRectFromMultiple(elements) {
  var elems = Array.from(elements);

  if (elems.length == 0)
    return null;

  var box = elems.shift()
    .getBoundingClientRect();

  elems.forEach(function(elem) {
    var elembox = elem.getBoundingClientRect();
    box.left = Math.min(elembox.left, box.left);
    box.top = Math.min(elembox.top, box.top);
    box.width += elembox.width;
    box.height = Math.max(elembox.height, box.height);
  });

  return box;
}

function cloneElementWithDimensions(elem) {
  var newElem = elem.cloneNode(true);
  newElem.style.height = window.getComputedStyle(elem).height;
  newElem.style.width = window.getComputedStyle(elem).width;
  return newElem;
}

function getBomTableHeaderIndex(elem) {
  const bh = document.getElementById('bomhead');
  const ths = Array.from(bh.querySelectorAll("th"));
  return ths.indexOf(elem);
}

function getColumnOrderName(elem) {
  var cname = elem.getAttribute("col_name");
  if (cname === "bom-checkbox")
    return "checkboxes";
  else
    return cname;
}

function resizableGrid(tablehead) {
  var cols = tablehead.firstElementChild.children;
  var rowWidth = tablehead.offsetWidth;

  for (var i = 1; i < cols.length; i++) {
    if (cols[i].classList.contains("bom-checkbox"))
      continue;
    cols[i].style.width = ((cols[i].clientWidth - paddingDiff(cols[i])) * 100 / rowWidth) + '%';
  }

  for (var i = 1; i < cols.length - 1; i++) {
    var div = document.createElement('div');
    div.className = "column-width-handle";
    cols[i].appendChild(div);
    setListeners(div);
  }

  function setListeners(div) {
    var startX, curCol, nxtCol, curColWidth, nxtColWidth, rowWidth;

    div.addEventListener('mousedown', function(e) {
      e.preventDefault();
      e.stopPropagation();

      curCol = e.target.parentElement;
      nxtCol = curCol.nextElementSibling;
      startX = e.pageX;

      var padding = paddingDiff(curCol);

      rowWidth = curCol.parentElement.offsetWidth;
      curColWidth = curCol.clientWidth - padding;
      nxtColWidth = nxtCol.clientWidth - padding;
    });

    document.addEventListener('mousemove', function(e) {
      if (startX) {
        var diffX = e.pageX - startX;
        diffX = -Math.min(-diffX, curColWidth - 20);
        diffX = Math.min(diffX, nxtColWidth - 20);

        curCol.style.width = ((curColWidth + diffX) * 100 / rowWidth) + '%';
        nxtCol.style.width = ((nxtColWidth - diffX) * 100 / rowWidth) + '%';
        console.log(`${curColWidth + nxtColWidth} ${(curColWidth + diffX) * 100 / rowWidth + (nxtColWidth - diffX) * 100 / rowWidth}`);
      }
    });

    document.addEventListener('mouseup', function(e) {
      curCol = undefined;
      nxtCol = undefined;
      startX = undefined;
      nxtColWidth = undefined;
      curColWidth = undefined
    });
  }

  function paddingDiff(col) {

    if (getStyleVal(col, 'box-sizing') == 'border-box') {
      return 0;
    }

    var padLeft = getStyleVal(col, 'padding-left');
    var padRight = getStyleVal(col, 'padding-right');
    return (parseInt(padLeft) + parseInt(padRight));

  }

  function getStyleVal(elm, css) {
    return (window.getComputedStyle(elm, null).getPropertyValue(css))
  }
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/* DOM manipulation and misc code */

var bomsplit;
var canvassplit;
var initDone = false;
var bomSortFunction = null;
var currentSortColumn = null;
var currentSortOrder = null;
var currentHighlightedRowId;
var highlightHandlers = [];
var footprintIndexToHandler = {};
var netsToHandler = {};
var markedFootprints = new Set();
var highlightedFootprints = [];
var highlightedNet = null;
var lastClicked;

function dbg(html) {
  dbgdiv.innerHTML = html;
}

function redrawIfInitDone() {
  if (initDone) {
    redrawCanvas(allcanvas.front);
    redrawCanvas(allcanvas.back);
  }
}

function padsVisible(value) {
  writeStorage("padsVisible", value);
  settings.renderPads = value;
  redrawIfInitDone();
}

function referencesVisible(value) {
  writeStorage("referencesVisible", value);
  settings.renderReferences = value;
  redrawIfInitDone();
}

function valuesVisible(value) {
  writeStorage("valuesVisible", value);
  settings.renderValues = value;
  redrawIfInitDone();
}

function tracksVisible(value) {
  writeStorage("tracksVisible", value);
  settings.renderTracks = value;
  redrawIfInitDone();
}

function zonesVisible(value) {
  writeStorage("zonesVisible", value);
  settings.renderZones = value;
  redrawIfInitDone();
}

function dnpOutline(value) {
  writeStorage("dnpOutline", value);
  settings.renderDnpOutline = value;
  redrawIfInitDone();
}

function setDarkMode(value) {
  if (value) {
    topmostdiv.classList.add("dark");
  } else {
    topmostdiv.classList.remove("dark");
  }
  writeStorage("darkmode", value);
  settings.darkMode = value;
  redrawIfInitDone();
  if (initDone) {
    populateBomTable();
  }
}

function setShowBOMColumn(field, value) {
  if (field === "references") {
    var rl = document.getElementById("reflookup");
    rl.disabled = !value;
    if (!value) {
      rl.value = "";
      updateRefLookup("");
    }
  }

  var n = settings.hiddenColumns.indexOf(field);
  if (value) {
    if (n != -1) {
      settings.hiddenColumns.splice(n, 1);
    }
  } else {
    if (n == -1) {
      settings.hiddenColumns.push(field);
    }
  }

  writeStorage("hiddenColumns", JSON.stringify(settings.hiddenColumns));

  if (initDone) {
    populateBomTable();
  }

  redrawIfInitDone();
}


function setFullscreen(value) {
  if (value) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}

function fabricationVisible(value) {
  writeStorage("fabricationVisible", value);
  settings.renderFabrication = value;
  redrawIfInitDone();
}

function silkscreenVisible(value) {
  writeStorage("silkscreenVisible", value);
  settings.renderSilkscreen = value;
  redrawIfInitDone();
}

function setHighlightPin1(value) {
  writeStorage("highlightpin1", value);
  settings.highlightpin1 = value;
  redrawIfInitDone();
}

function getStoredCheckboxRefs(checkbox) {
  function convert(ref) {
    var intref = parseInt(ref);
    if (isNaN(intref)) {
      for (var i = 0; i < pcbdata.footprints.length; i++) {
        if (pcbdata.footprints[i].ref == ref) {
          return i;
        }
      }
      return -1;
    } else {
      return intref;
    }
  }
  if (!(checkbox in settings.checkboxStoredRefs)) {
    var val = readStorage("checkbox_" + checkbox);
    settings.checkboxStoredRefs[checkbox] = val ? val : "";
  }
  if (!settings.checkboxStoredRefs[checkbox]) {
    return new Set();
  } else {
    return new Set(settings.checkboxStoredRefs[checkbox].split(",").map(r => convert(r)).filter(a => a >= 0));
  }
}

function getCheckboxState(checkbox, references) {
  var storedRefsSet = getStoredCheckboxRefs(checkbox);
  var currentRefsSet = new Set(references.map(r => r[1]));
  // Get difference of current - stored
  var difference = new Set(currentRefsSet);
  for (ref of storedRefsSet) {
    difference.delete(ref);
  }
  if (difference.size == 0) {
    // All the current refs are stored
    return "checked";
  } else if (difference.size == currentRefsSet.size) {
    // None of the current refs are stored
    return "unchecked";
  } else {
    // Some of the refs are stored
    return "indeterminate";
  }
}

function setBomCheckboxState(checkbox, element, references) {
  var state = getCheckboxState(checkbox, references);
  element.checked = (state == "checked");
  element.indeterminate = (state == "indeterminate");
}

function createCheckboxChangeHandler(checkbox, references, row) {
  return function () {
    refsSet = getStoredCheckboxRefs(checkbox);
    var markWhenChecked = settings.markWhenChecked == checkbox;
    eventArgs = {
      checkbox: checkbox,
      refs: references,
    }
    if (this.checked) {
      // checkbox ticked
      for (var ref of references) {
        refsSet.add(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.add("checked");
        for (var ref of references) {
          markedFootprints.add(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'checked';
    } else {
      // checkbox unticked
      for (var ref of references) {
        refsSet.delete(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.remove("checked");
        for (var ref of references) {
          markedFootprints.delete(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'unchecked';
    }
    settings.checkboxStoredRefs[checkbox] = [...refsSet].join(",");
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
    updateCheckboxStats(checkbox);
    EventHandler.emitEvent(IBOM_EVENT_TYPES.CHECKBOX_CHANGE_EVENT, eventArgs);
  }
}

function clearHighlightedFootprints() {
  if (currentHighlightedRowId) {
    document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    currentHighlightedRowId = null;
    highlightedFootprints = [];
    highlightedNet = null;
  }
}

function createRowHighlightHandler(rowid, refs, net) {
  return function () {
    if (currentHighlightedRowId) {
      if (currentHighlightedRowId == rowid) {
        return;
      }
      document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    }
    document.getElementById(rowid).classList.add("highlighted");
    currentHighlightedRowId = rowid;
    highlightedFootprints = refs ? refs.map(r => r[1]) : [];
    highlightedNet = net;
    drawHighlights();
    EventHandler.emitEvent(
      IBOM_EVENT_TYPES.HIGHLIGHT_EVENT, {
      rowid: rowid,
      refs: refs,
      net: net
    });
  }
}

function updateNetColors() {
  writeStorage("netColors", JSON.stringify(settings.netColors));
  redrawIfInitDone();
}

function netColorChangeHandler(net) {
  return (event) => {
    settings.netColors[net] = event.target.value;
    updateNetColors();
  }
}

function netColorRightClick(net) {
  return (event) => {
    if(event.button == 2) {
      event.preventDefault();
      event.stopPropagation();

      var style = getComputedStyle(topmostdiv);
      var defaultNetColor = style.getPropertyValue('--track-color').trim();
      event.target.value = defaultNetColor;
      delete settings.netColors[net];
      updateNetColors();
    }
  }
}

function entryMatches(entry) {
  if (settings.bommode == "netlist") {
    // entry is just a net name
    return entry.toLowerCase().indexOf(filter) >= 0;
  }
  // check refs
  if (!settings.hiddenColumns.includes("references")) {
    for (var ref of entry) {
      if (ref[0].toLowerCase().indexOf(filter) >= 0) {
        return true;
      }
    }
  }
  // check fields
  for (var i in config.fields) {
    var f = config.fields[i];
    if (!settings.hiddenColumns.includes(f)) {
      for (var ref of entry) {
        if (String(pcbdata.bom.fields[ref[1]][i]).toLowerCase().indexOf(filter) >= 0) {
          return true;
        }
      }
    }
  }
  return false;
}

function findRefInEntry(entry) {
  return entry.filter(r => r[0].toLowerCase() == reflookup);
}

function highlightFilter(s) {
  if (!filter) {
    return s;
  }
  var parts = s.toLowerCase().split(filter);
  if (parts.length == 1) {
    return s;
  }
  var r = "";
  var pos = 0;
  for (var i in parts) {
    if (i > 0) {
      r += '<mark class="highlight">' +
        s.substring(pos, pos + filter.length) +
        '</mark>';
      pos += filter.length;
    }
    r += s.substring(pos, pos + parts[i].length);
    pos += parts[i].length;
  }
  return r;
}

function checkboxSetUnsetAllHandler(checkboxname) {
  return function () {
    var checkboxnum = 0;
    while (checkboxnum < settings.checkboxes.length &&
      settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
      checkboxnum++;
    }
    if (checkboxnum >= settings.checkboxes.length) {
      return;
    }
    var allset = true;
    var checkbox;
    var row;
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      if (!checkbox.checked || checkbox.indeterminate) {
        allset = false;
        break;
      }
    }
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      checkbox.checked = !allset;
      checkbox.indeterminate = false;
      checkbox.onchange();
    }
  }
}

function createColumnHeader(name, cls, comparator, is_checkbox = false) {
  var th = document.createElement("TH");
  th.innerHTML = name;
  th.classList.add(cls);
  if (is_checkbox)
    th.setAttribute("col_name", "bom-checkbox");
  else
    th.setAttribute("col_name", name);
  var span = document.createElement("SPAN");
  span.classList.add("sortmark");
  span.classList.add("none");
  th.appendChild(span);
  var spacer = document.createElement("div");
  spacer.className = "column-spacer";
  th.appendChild(spacer);
  spacer.onclick = function () {
    if (currentSortColumn && th !== currentSortColumn) {
      // Currently sorted by another column
      currentSortColumn.childNodes[1].classList.remove(currentSortOrder);
      currentSortColumn.childNodes[1].classList.add("none");
      currentSortColumn = null;
      currentSortOrder = null;
    }
    if (currentSortColumn && th === currentSortColumn) {
      // Already sorted by this column
      if (currentSortOrder == "asc") {
        // Sort by this column, descending order
        bomSortFunction = function (a, b) {
          return -comparator(a, b);
        }
        currentSortColumn.childNodes[1].classList.remove("asc");
        currentSortColumn.childNodes[1].classList.add("desc");
        currentSortOrder = "desc";
      } else {
        // Unsort
        bomSortFunction = null;
        currentSortColumn.childNodes[1].classList.remove("desc");
        currentSortColumn.childNodes[1].classList.add("none");
        currentSortColumn = null;
        currentSortOrder = null;
      }
    } else {
      // Sort by this column, ascending order
      bomSortFunction = comparator;
      currentSortColumn = th;
      currentSortColumn.childNodes[1].classList.remove("none");
      currentSortColumn.childNodes[1].classList.add("asc");
      currentSortOrder = "asc";
    }
    populateBomBody();
  }
  if (is_checkbox) {
    spacer.onclick = fancyDblClickHandler(
      spacer, spacer.onclick, checkboxSetUnsetAllHandler(name));
  }
  return th;
}

function populateBomHeader(placeHolderColumn = null, placeHolderElements = null) {
  while (bomhead.firstChild) {
    bomhead.removeChild(bomhead.firstChild);
  }
  var tr = document.createElement("TR");
  var th = document.createElement("TH");
  th.classList.add("numCol");

  var vismenu = document.createElement("div");
  vismenu.id = "vismenu";
  vismenu.classList.add("menu");

  var visbutton = document.createElement("div");
  visbutton.classList.add("visbtn");
  visbutton.classList.add("hideonprint");

  var viscontent = document.createElement("div");
  viscontent.classList.add("menu-content");
  viscontent.id = "vismenu-content";

  settings.columnOrder.forEach(column => {
    if (typeof column !== "string")
      return;

    // Skip empty columns
    if (column === "checkboxes" && settings.checkboxes.length == 0)
      return;
    else if (column === "Quantity" && settings.bommode == "ungrouped")
      return;

    var label = document.createElement("label");
    label.classList.add("menu-label");

    var input = document.createElement("input");
    input.classList.add("visibility_checkbox");
    input.type = "checkbox";
    input.onchange = function (e) {
      setShowBOMColumn(column, e.target.checked)
    };
    input.checked = !(settings.hiddenColumns.includes(column));

    label.appendChild(input);
    if (column.length > 0)
      label.append(column[0].toUpperCase() + column.slice(1));

    viscontent.appendChild(label);
  });

  viscontent.childNodes[0].classList.add("menu-label-top");

  vismenu.appendChild(visbutton);
  if (settings.bommode != "netlist") {
    vismenu.appendChild(viscontent);
    th.appendChild(vismenu);
  }
  tr.appendChild(th);

  var checkboxCompareClosure = function (checkbox) {
    return (a, b) => {
      var stateA = getCheckboxState(checkbox, a);
      var stateB = getCheckboxState(checkbox, b);
      if (stateA > stateB) return -1;
      if (stateA < stateB) return 1;
      return 0;
    }
  }
  var stringFieldCompareClosure = function (fieldIndex) {
    return (a, b) => {
      var fa = pcbdata.bom.fields[a[0][1]][fieldIndex];
      var fb = pcbdata.bom.fields[b[0][1]][fieldIndex];
      if (fa != fb) return fa > fb ? 1 : -1;
      else return 0;
    }
  }
  var referenceRegex = /(?<prefix>[^0-9]+)(?<number>[0-9]+)/;
  var compareRefs = (a, b) => {
    var ra = referenceRegex.exec(a);
    var rb = referenceRegex.exec(b);
    if (ra === null || rb === null) {
      if (a != b) return a > b ? 1 : -1;
      return 0;
    } else {
      if (ra.groups.prefix != rb.groups.prefix) {
        return ra.groups.prefix > rb.groups.prefix ? 1 : -1;
      }
      if (ra.groups.number != rb.groups.number) {
        return parseInt(ra.groups.number) > parseInt(rb.groups.number) ? 1 : -1;
      }
      return 0;
    }
  }
  if (settings.bommode == "netlist") {
    tr.appendChild(createColumnHeader("Net name", "bom-netname", (a, b) => {
      if (a > b) return -1;
      if (a < b) return 1;
      return 0;
    }));
    tr.appendChild(createColumnHeader("Color", "bom-color", (a, b) => {
      return 0;
    }));
  } else {
    // Filter hidden columns
    var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
    var valueIndex = config.fields.indexOf("Value");
    var footprintIndex = config.fields.indexOf("Footprint");
    columns.forEach((column) => {
      if (column === placeHolderColumn) {
        var n = 1;
        if (column === "checkboxes")
          n = settings.checkboxes.length;
        for (i = 0; i < n; i++) {
          td = placeHolderElements.shift();
          tr.appendChild(td);
        }
        return;
      } else if (column === "checkboxes") {
        for (var checkbox of settings.checkboxes) {
          th = createColumnHeader(
            checkbox, "bom-checkbox", checkboxCompareClosure(checkbox), true);
          tr.appendChild(th);
        }
      } else if (column === "References") {
        tr.appendChild(createColumnHeader("References", "references", (a, b) => {
          var i = 0;
          while (i < a.length && i < b.length) {
            if (a[i] != b[i]) return compareRefs(a[i][0], b[i][0]);
            i++;
          }
          return a.length - b.length;
        }));
      } else if (column === "Value") {
        tr.appendChild(createColumnHeader("Value", "value", (a, b) => {
          var ra = a[0][1], rb = b[0][1];
          return valueCompare(
            pcbdata.bom.parsedValues[ra], pcbdata.bom.parsedValues[rb],
            pcbdata.bom.fields[ra][valueIndex], pcbdata.bom.fields[rb][valueIndex]);
        }));
        return;
      } else if (column === "Footprint") {
        tr.appendChild(createColumnHeader(
          "Footprint", "footprint", stringFieldCompareClosure(footprintIndex)));
      } else if (column === "Quantity" && settings.bommode == "grouped") {
        tr.appendChild(createColumnHeader("Quantity", "quantity", (a, b) => {
          return a.length - b.length;
        }));
      } else {
        // Other fields
        var i = config.fields.indexOf(column);
        if (i < 0)
          return;
        tr.appendChild(createColumnHeader(
          column, `field${i + 1}`, stringFieldCompareClosure(i)));
      }
    });
  }
  bomhead.appendChild(tr);
}

function populateBomBody(placeholderColumn = null, placeHolderElements = null) {
  const urlRegex = /^(https?:\/\/[^\s\/$.?#][^\s]*|file:\/\/([a-zA-Z]:|\/)[^\x00]+)$/;
  while (bom.firstChild) {
    bom.removeChild(bom.firstChild);
  }
  highlightHandlers = [];
  footprintIndexToHandler = {};
  netsToHandler = {};
  currentHighlightedRowId = null;
  var first = true;
  var style = getComputedStyle(topmostdiv);
  var defaultNetColor = style.getPropertyValue('--track-color').trim();
  if (settings.bommode == "netlist") {
    bomtable = pcbdata.nets.slice();
  } else {
    switch (settings.canvaslayout) {
      case 'F':
        bomtable = pcbdata.bom.F.slice();
        break;
      case 'FB':
        bomtable = pcbdata.bom.both.slice();
        break;
      case 'B':
        bomtable = pcbdata.bom.B.slice();
        break;
    }
    if (settings.bommode == "ungrouped") {
      // expand bom table
      expandedTable = []
      for (var bomentry of bomtable) {
        for (var ref of bomentry) {
          expandedTable.push([ref]);
        }
      }
      bomtable = expandedTable;
    }
  }
  if (bomSortFunction) {
    bomtable = bomtable.sort(bomSortFunction);
  }
  for (var i in bomtable) {
    var bomentry = bomtable[i];
    if (filter && !entryMatches(bomentry)) {
      continue;
    }
    var references = null;
    var netname = null;
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    var rownum = +i + 1;
    tr.id = "bomrow" + rownum;
    td.textContent = rownum;
    tr.appendChild(td);
    if (settings.bommode == "netlist") {
      netname = bomentry;
      td = document.createElement("TD");
      td.innerHTML = highlightFilter(netname ? netname : "&lt;no net&gt;");
      tr.appendChild(td);
      var color = settings.netColors[netname] || defaultNetColor;
      td = document.createElement("TD");
      var colorBox = document.createElement("INPUT");
      colorBox.type = "color";
      colorBox.value = color;
      colorBox.onchange = netColorChangeHandler(netname);
      colorBox.onmouseup = netColorRightClick(netname);
      colorBox.oncontextmenu = (e) => e.preventDefault();
      td.appendChild(colorBox);
      td.classList.add("color-column");
      tr.appendChild(td);
    } else {
      if (reflookup) {
        references = findRefInEntry(bomentry);
        if (references.length == 0) {
          continue;
        }
      } else {
        references = bomentry;
      }
      // Filter hidden columns
      var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
      columns.forEach((column) => {
        if (column === placeholderColumn) {
          var n = 1;
          if (column === "checkboxes")
            n = settings.checkboxes.length;
          for (i = 0; i < n; i++) {
            td = placeHolderElements.shift();
            tr.appendChild(td);
          }
          return;
        } else if (column === "checkboxes") {
          for (var checkbox of settings.checkboxes) {
            if (checkbox) {
              td = document.createElement("TD");
              var input = document.createElement("input");
              input.type = "checkbox";
              input.onchange = createCheckboxChangeHandler(checkbox, references, tr);
              setBomCheckboxState(checkbox, input, references);
              if (input.checked && settings.markWhenChecked == checkbox) {
                tr.classList.add("checked");
              }
              td.appendChild(input);
              tr.appendChild(td);
            }
          }
        } else if (column === "References") {
          td = document.createElement("TD");
          td.innerHTML = highlightFilter(references.map(r => r[0]).join(", "));
          tr.appendChild(td);
        } else if (column === "Quantity" && settings.bommode == "grouped") {
          // Quantity
          td = document.createElement("TD");
          td.textContent = references.length;
          tr.appendChild(td);
        } else {
          // All the other fields
          var field_index = config.fields.indexOf(column)
          if (field_index < 0)
            return;
          var valueSet = new Set();
          references.map(r => r[1]).forEach((id) => valueSet.add(pcbdata.bom.fields[id][field_index]));
          td = document.createElement("TD");
          var output = new Array();
          for (let item of valueSet) {
            const visible = highlightFilter(String(item));
            if (typeof item === 'string' && item.match(urlRegex)) {
              output.push(`<a href="${item}" target="_blank">${visible}</a>`);
            } else {
              output.push(visible);
            }
          }
          td.innerHTML = output.join(", ");
          tr.appendChild(td);
        }
      });
    }
    bom.appendChild(tr);
    var handler = createRowHighlightHandler(tr.id, references, netname);
    tr.onmousemove = handler;
    highlightHandlers.push({
      id: tr.id,
      handler: handler,
    });
    if (references !== null) {
      for (var refIndex of references.map(r => r[1])) {
        footprintIndexToHandler[refIndex] = handler;
      }
    }
    if (netname !== null) {
      netsToHandler[netname] = handler;
    }
    if ((filter || reflookup) && first) {
      handler();
      first = false;
    }
  }
  EventHandler.emitEvent(
    IBOM_EVENT_TYPES.BOM_BODY_CHANGE_EVENT, {
    filter: filter,
    reflookup: reflookup,
    checkboxes: settings.checkboxes,
    bommode: settings.bommode,
  });
}

function highlightPreviousRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[highlightHandlers.length - 1].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[0].id == currentHighlightedRowId) {
      highlightHandlers[highlightHandlers.length - 1].handler();
    } else {
      for (var i = 0; i < highlightHandlers.length - 1; i++) {
        if (highlightHandlers[i + 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function highlightNextRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[0].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[highlightHandlers.length - 1].id == currentHighlightedRowId) {
      highlightHandlers[0].handler();
    } else {
      for (var i = 1; i < highlightHandlers.length; i++) {
        if (highlightHandlers[i - 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function populateBomTable() {
  populateBomHeader();
  populateBomBody();
  setBomHandlers();
  resizableGrid(bomhead);
}

function footprintsClicked(footprintIndexes) {
  var lastClickedIndex = footprintIndexes.indexOf(lastClicked);
  for (var i = 1; i <= footprintIndexes.length; i++) {
    var refIndex = footprintIndexes[(lastClickedIndex + i) % footprintIndexes.length];
    if (refIndex in footprintIndexToHandler) {
      lastClicked = refIndex;
      footprintIndexToHandler[refIndex]();
      smoothScrollToRow(currentHighlightedRowId);
      break;
    }
  }
}

function netClicked(net) {
  if (net in netsToHandler) {
    netsToHandler[net]();
    smoothScrollToRow(currentHighlightedRowId);
  } else {
    clearHighlightedFootprints();
    highlightedNet = net;
    drawHighlights();
  }
}

function updateFilter(input) {
  filter = input.toLowerCase();
  populateBomTable();
}

function updateRefLookup(input) {
  reflookup = input.toLowerCase();
  populateBomTable();
}

function changeCanvasLayout(layout) {
  document.getElementById("fl-btn").classList.remove("depressed");
  document.getElementById("fb-btn").classList.remove("depressed");
  document.getElementById("bl-btn").classList.remove("depressed");
  switch (layout) {
    case 'F':
      document.getElementById("fl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(1);
      }
      break;
    case 'B':
      document.getElementById("bl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(0);
      }
      break;
    default:
      document.getElementById("fb-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.setSizes([50, 50]);
      }
  }
  settings.canvaslayout = layout;
  writeStorage("canvaslayout", layout);
  resizeAll();
  changeBomMode(settings.bommode);
}

function populateMetadata() {
  document.getElementById("title").innerHTML = pcbdata.metadata.title;
  document.getElementById("revision").innerHTML = "Rev: " + pcbdata.metadata.revision;
  document.getElementById("company").innerHTML = pcbdata.metadata.company;
  document.getElementById("filedate").innerHTML = pcbdata.metadata.date;
  if (pcbdata.metadata.title != "") {
    document.title = pcbdata.metadata.title + " BOM";
  }
  // Calculate board stats
  var fp_f = 0,
    fp_b = 0,
    pads_f = 0,
    pads_b = 0,
    pads_th = 0;
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    if (pcbdata.bom.skipped.includes(i)) continue;
    var mod = pcbdata.footprints[i];
    if (mod.layer == "F") {
      fp_f++;
    } else {
      fp_b++;
    }
    for (var pad of mod.pads) {
      if (pad.type == "th") {
        pads_th++;
      } else {
        if (pad.layers.includes("F")) {
          pads_f++;
        }
        if (pad.layers.includes("B")) {
          pads_b++;
        }
      }
    }
  }
  document.getElementById("stats-components-front").innerHTML = fp_f;
  document.getElementById("stats-components-back").innerHTML = fp_b;
  document.getElementById("stats-components-total").innerHTML = fp_f + fp_b;
  document.getElementById("stats-groups-front").innerHTML = pcbdata.bom.F.length;
  document.getElementById("stats-groups-back").innerHTML = pcbdata.bom.B.length;
  document.getElementById("stats-groups-total").innerHTML = pcbdata.bom.both.length;
  document.getElementById("stats-smd-pads-front").innerHTML = pads_f;
  document.getElementById("stats-smd-pads-back").innerHTML = pads_b;
  document.getElementById("stats-smd-pads-total").innerHTML = pads_f + pads_b;
  document.getElementById("stats-th-pads").innerHTML = pads_th;
  // Update version string
  document.getElementById("github-link").innerHTML = "InteractiveHtmlBom&nbsp;" +
    /^v\d+\.\d+/.exec(pcbdata.ibom_version)[0];
}

function changeBomLayout(layout) {
  document.getElementById("bom-btn").classList.remove("depressed");
  document.getElementById("lr-btn").classList.remove("depressed");
  document.getElementById("tb-btn").classList.remove("depressed");
  switch (layout) {
    case 'bom-only':
      document.getElementById("bom-btn").classList.add("depressed");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      document.getElementById("frontcanvas").style.display = "none";
      document.getElementById("backcanvas").style.display = "none";
      document.getElementById("bot").style.height = "";
      break;
    case 'top-bottom':
      document.getElementById("tb-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.remove("split-horizontal");
      document.getElementById("canvasdiv").classList.remove("split-horizontal");
      document.getElementById("frontcanvas").classList.add("split-horizontal");
      document.getElementById("backcanvas").classList.add("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        direction: "vertical",
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        onDragEnd: resizeAll
      });
      break;
    case 'left-right':
      document.getElementById("lr-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.add("split-horizontal");
      document.getElementById("canvasdiv").classList.add("split-horizontal");
      document.getElementById("frontcanvas").classList.remove("split-horizontal");
      document.getElementById("backcanvas").classList.remove("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        direction: "vertical",
        onDragEnd: resizeAll
      });
  }
  settings.bomlayout = layout;
  writeStorage("bomlayout", layout);
  changeCanvasLayout(settings.canvaslayout);
}

function changeBomMode(mode) {
  document.getElementById("bom-grouped-btn").classList.remove("depressed");
  document.getElementById("bom-ungrouped-btn").classList.remove("depressed");
  document.getElementById("bom-netlist-btn").classList.remove("depressed");
  var chkbxs = document.getElementsByClassName("visibility_checkbox");

  switch (mode) {
    case 'grouped':
      document.getElementById("bom-grouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'ungrouped':
      document.getElementById("bom-ungrouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'netlist':
      document.getElementById("bom-netlist-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = true;
      }
  }

  writeStorage("bommode", mode);
  if (mode != settings.bommode) {
    settings.bommode = mode;
    bomSortFunction = null;
    currentSortColumn = null;
    currentSortOrder = null;
    clearHighlightedFootprints();
  }
  populateBomTable();
}

function focusFilterField() {
  focusInputField(document.getElementById("filter"));
}

function focusRefLookupField() {
  focusInputField(document.getElementById("reflookup"));
}

function toggleBomCheckbox(bomrowid, checkboxnum) {
  if (!bomrowid || checkboxnum > settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum].childNodes[0];
  checkbox.checked = !checkbox.checked;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function checkBomCheckbox(bomrowid, checkboxname) {
  var checkboxnum = 0;
  while (checkboxnum < settings.checkboxes.length &&
    settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
    checkboxnum++;
  }
  if (!bomrowid || checkboxnum >= settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum + 1].childNodes[0];
  checkbox.checked = true;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function setBomCheckboxes(value) {
  writeStorage("bomCheckboxes", value);
  settings.checkboxes = value.split(",").map((e) => e.trim()).filter((e) => e);
  prepCheckboxes();
  populateMarkWhenCheckedOptions();
  setMarkWhenChecked(settings.markWhenChecked);
}

function setMarkWhenChecked(value) {
  writeStorage("markWhenChecked", value);
  settings.markWhenChecked = value;
  markedFootprints.clear();
  for (var ref of (value ? getStoredCheckboxRefs(value) : [])) {
    markedFootprints.add(ref);
  }
  populateBomTable();
  drawHighlights();
}

function prepCheckboxes() {
  var table = document.getElementById("checkbox-stats");
  while (table.childElementCount > 1) {
    table.removeChild(table.lastChild);
  }
  if (settings.checkboxes.length) {
    table.style.display = "";
  } else {
    table.style.display = "none";
  }
  for (var checkbox of settings.checkboxes) {
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    td.innerHTML = checkbox;
    tr.appendChild(td);
    td = document.createElement("TD");
    td.id = "checkbox-stats-" + checkbox;
    var progressbar = document.createElement("div");
    progressbar.classList.add("bar");
    td.appendChild(progressbar);
    var text = document.createElement("div");
    text.classList.add("text");
    td.appendChild(text);
    tr.appendChild(td);
    table.appendChild(tr);
    updateCheckboxStats(checkbox);
  }
}

function populateMarkWhenCheckedOptions() {
  var container = document.getElementById("markWhenCheckedContainer");

  if (settings.checkboxes.length == 0) {
    container.parentElement.style.display = "none";
    return;
  }

  container.innerHTML = '';
  container.parentElement.style.display = "inline-block";

  function createOption(name, displayName) {
    var id = "markWhenChecked-" + name;

    var div = document.createElement("div");
    div.classList.add("radio-container");

    var input = document.createElement("input");
    input.type = "radio";
    input.name = "markWhenChecked";
    input.value = name;
    input.id = id;
    input.onchange = () => setMarkWhenChecked(name);
    div.appendChild(input);

    // Preserve the selected element when the checkboxes change
    if (name == settings.markWhenChecked) {
      input.checked = true;
    }

    var label = document.createElement("label");
    label.innerHTML = displayName;
    label.htmlFor = id;
    div.appendChild(label);

    container.appendChild(div);
  }
  createOption("", "None");
  for (var checkbox of settings.checkboxes) {
    createOption(checkbox, checkbox);
  }
}

function updateCheckboxStats(checkbox) {
  var checked = getStoredCheckboxRefs(checkbox).size;
  var total = pcbdata.footprints.length - pcbdata.bom.skipped.length;
  var percent = checked * 100.0 / total;
  var td = document.getElementById("checkbox-stats-" + checkbox);
  td.firstChild.style.width = percent + "%";
  td.lastChild.innerHTML = checked + "/" + total + " (" + Math.round(percent) + "%)";
}

function constrain(number, min, max){
  return Math.min(Math.max(parseInt(number), min), max);
}

document.onkeydown = function (e) {
  switch (e.key) {
    case "n":
      if (document.activeElement.type == "text") {
        return;
      }
      if (currentHighlightedRowId !== null) {
        checkBomCheckbox(currentHighlightedRowId, "placed");
        highlightNextRow();
        e.preventDefault();
      }
      break;
    case "ArrowUp":
      highlightPreviousRow();
      e.preventDefault();
      break;
    case "ArrowDown":
      highlightNextRow();
      e.preventDefault();
      break;
    case "ArrowLeft":
    case "ArrowRight":
      if (document.activeElement.type != "text"){
        e.preventDefault();
        let boardRotationElement = document.getElementById("boardRotation")
        settings.boardRotation = parseInt(boardRotationElement.value);  // degrees / 5
        if (e.key == "ArrowLeft"){
            settings.boardRotation += 3;  // 15 degrees
        }
        else{
            settings.boardRotation -= 3;
        }
        settings.boardRotation = constrain(settings.boardRotation, boardRotationElement.min, boardRotationElement.max);
        boardRotationElement.value = settings.boardRotation
        setBoardRotation(settings.boardRotation);
      }
      break;
    default:
      break;
  }
  if (e.altKey) {
    switch (e.key) {
      case "f":
        focusFilterField();
        e.preventDefault();
        break;
      case "r":
        focusRefLookupField();
        e.preventDefault();
        break;
      case "z":
        changeBomLayout("bom-only");
        e.preventDefault();
        break;
      case "x":
        changeBomLayout("left-right");
        e.preventDefault();
        break;
      case "c":
        changeBomLayout("top-bottom");
        e.preventDefault();
        break;
      case "v":
        changeCanvasLayout("F");
        e.preventDefault();
        break;
      case "b":
        changeCanvasLayout("FB");
        e.preventDefault();
        break;
      case "n":
        changeCanvasLayout("B");
        e.preventDefault();
        break;
      default:
        break;
    }
    if (e.key >= '1' && e.key <= '9') {
      toggleBomCheckbox(currentHighlightedRowId, parseInt(e.key));
      e.preventDefault();
    }
  }
}

function hideNetlistButton() {
  document.getElementById("bom-ungrouped-btn").classList.remove("middle-button");
  document.getElementById("bom-ungrouped-btn").classList.add("right-most-button");
  document.getElementById("bom-netlist-btn").style.display = "none";
}

window.onload = function (e) {
  initUtils();
  initRender();
  initStorage();
  initDefaults();
  cleanGutters();
  populateMetadata();
  dbgdiv = document.getElementById("dbg");
  bom = document.getElementById("bombody");
  bomhead = document.getElementById("bomhead");
  filter = "";
  reflookup = "";
  if (!("nets" in pcbdata)) {
    hideNetlistButton();
  }
  initDone = true;
  setBomCheckboxes(document.getElementById("bomCheckboxes").value);
  // Triggers render
  changeBomLayout(settings.bomlayout);

  // Users may leave fullscreen without touching the checkbox. Uncheck.
  document.addEventListener('fullscreenchange', () => {
    if (!document.fullscreenElement)
      document.getElementById('fullscreenCheckbox').checked = false;
  });
}

window.onresize = resizeAll;
window.matchMedia("print").addListener(resizeAll);

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////
  </script>
</head>

<body>

<div id="topmostdiv" class="topmostdiv">
  <div id="top">
    <div style="float: right; height: 100%;">
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="menubtn"></button>
        <div class="menu-content">
          <label class="menu-label menu-label-top" style="width: calc(50% - 18px)">
            <input id="darkmodeCheckbox" type="checkbox" onchange="setDarkMode(this.checked)">
            Dark mode
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label menu-label-top" style="width: calc(50% - 17px); border-left: 0;">
            <input id="fullscreenCheckbox" type="checkbox" onchange="setFullscreen(this.checked)">
            Full Screen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="fabricationCheckbox" type="checkbox" checked onchange="fabricationVisible(this.checked)">
            Fab layer
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="silkscreenCheckbox" type="checkbox" checked onchange="silkscreenVisible(this.checked)">
            Silkscreen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="referencesCheckbox" type="checkbox" checked onchange="referencesVisible(this.checked)">
            References
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="valuesCheckbox" type="checkbox" checked onchange="valuesVisible(this.checked)">
            Values
          </label>
          <div id="tracksAndZonesCheckboxes">
            <label class="menu-label" style="width: calc(50% - 18px)">
              <input id="tracksCheckbox" type="checkbox" checked onchange="tracksVisible(this.checked)">
              Tracks
            </label><!-- This comment eats space! All of it!
            --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
              <input id="zonesCheckbox" type="checkbox" checked onchange="zonesVisible(this.checked)">
              Zones
            </label>
          </div>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="padsCheckbox" type="checkbox" checked onchange="padsVisible(this.checked)">
            Pads
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="dnpOutlineCheckbox" type="checkbox" checked onchange="dnpOutline(this.checked)">
            DNP outlined
          </label>
          <label class="menu-label">
            <input id="dragCheckbox" type="checkbox" checked onchange="setRedrawOnDrag(this.checked)">
            Continuous redraw on drag
          </label>
          <label class="menu-label">
            Highlight first pin
            <form id="highlightpin1">
              <div class="flexbox">
                <label>
                  <input type="radio" name="highlightpin1" value="none" onchange="setHighlightPin1('none')">
                  None
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="all" onchange="setHighlightPin1('all')">
                  All
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="selected" onchange="setHighlightPin1('selected')">
                  Selected
                </label>
              </div>
            </form>
          </label>
          <label class="menu-label">
            <span>Board rotation</span>
            <span style="float: right"><span id="rotationDegree">0</span>&#176;</span>
            <input id="boardRotation" type="range" min="-36" max="36" value="0" class="slider" oninput="setBoardRotation(this.value)">
          </label>
          <label class="menu-label">
            <input id="offsetBackRotationCheckbox" type="checkbox" onchange="setOffsetBackRotation(this.checked)">
            Offset back rotation
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Bom checkboxes</div>
            <input id="bomCheckboxes" class="menu-textbox" type=text
                   oninput="setBomCheckboxes(this.value)">
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Mark when checked</div>
            <div id="markWhenCheckedContainer"></div>
          </label>
          <label class="menu-label">
            <span class="shameless-plug">
              <span>Created using</span>
              <a id="github-link" target="blank" href="https://github.com/openscopeproject/InteractiveHtmlBom">InteractiveHtmlBom</a>
              <a target="blank" title="Mouse and keyboard help" href="https://github.com/openscopeproject/InteractiveHtmlBom/wiki/Usage#bom-page-mouse-actions" style="text-decoration: none;"><label class="help-link">?</label></a>
            </span>
          </label>
        </div>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="fl-btn" class="left-most-button" onclick="changeCanvasLayout('F')"
                title="Front only">F
        </button>
        <button id="fb-btn" class="middle-button" onclick="changeCanvasLayout('FB')"
                title="Front and Back">FB
        </button>
        <button id="bl-btn" class="right-most-button" onclick="changeCanvasLayout('B')"
                title="Back only">B
        </button>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="bom-btn" class="left-most-button" onclick="changeBomLayout('bom-only')"
                title="BOM only"></button>
        <button id="lr-btn" class="middle-button" onclick="changeBomLayout('left-right')"
                title="BOM left, drawings right"></button>
        <button id="tb-btn" class="right-most-button" onclick="changeBomLayout('top-bottom')"
                title="BOM top, drawings bot"></button>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="bom-grouped-btn" class="left-most-button" onclick="changeBomMode('grouped')"
                title="Grouped BOM"></button>
        <button id="bom-ungrouped-btn" class="middle-button" onclick="changeBomMode('ungrouped')"
                title="Ungrouped BOM"></button>
        <button id="bom-netlist-btn" class="right-most-button" onclick="changeBomMode('netlist')"
                title="Netlist"></button>
      </div>
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="statsbtn"></button>
        <div class="menu-content">
          <table class="stats">
            <tbody>
              <tr>
                <td width="40%">Board stats</td>
                <td>Front</td>
                <td>Back</td>
                <td>Total</td>
              </tr>
              <tr>
                <td>Components</td>
                <td id="stats-components-front">~</td>
                <td id="stats-components-back">~</td>
                <td id="stats-components-total">~</td>
              </tr>
              <tr>
                <td>Groups</td>
                <td id="stats-groups-front">~</td>
                <td id="stats-groups-back">~</td>
                <td id="stats-groups-total">~</td>
              </tr>
              <tr>
                <td>SMD pads</td>
                <td id="stats-smd-pads-front">~</td>
                <td id="stats-smd-pads-back">~</td>
                <td id="stats-smd-pads-total">~</td>
              </tr>
              <tr>
                <td>TH pads</td>
                <td colspan=3 id="stats-th-pads">~</td>
              </tr>
            </tbody>
          </table>
          <table class="stats">
            <col width="40%"/><col />
            <tbody id="checkbox-stats">
              <tr>
                <td colspan=2 style="border-top: 0">Checkboxes</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="iobtn"></button>
        <div class="menu-content">
          <div class="menu-label menu-label-top">
            <div style="margin-left: 5px;">Save board image</div>
            <div class="flexbox">
              <input id="render-save-width" class="menu-textbox" type="text" value="1000" placeholder="Width"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
              <span>X</span>
              <input id="render-save-height" class="menu-textbox" type="text" value="1000" placeholder="Height"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
            </div>
            <label>
              <input id="render-save-transparent" type="checkbox">
              Transparent background
            </label>
            <div class="flexbox">
              <button class="savebtn" onclick="saveImage('F')">Front</button>
              <button class="savebtn" onclick="saveImage('B')">Back</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Config and checkbox state</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveSettings()">Export</button>
              <button class="savebtn" onclick="loadSettings()">Import</button>
              <button class="savebtn" onclick="resetSettings()">Reset</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Save bom table as</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveBomTable('csv')">csv</button>
              <button class="savebtn" onclick="saveBomTable('txt')">txt</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="fileinfodiv" style="overflow: auto;">
      <table class="fileinfo">
        <tbody>
          <tr>
            <td id="title" class="title" style="width: 70%">
              Title
            </td>
            <td id="revision" class="title" style="width: 30%">
              Revision
            </td>
          </tr>
          <tr>
            <td id="company">
              Company
            </td>
            <td id="filedate">
              Date
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div id="bot" class="split" style="height: calc(100% - 80px)">
    <div id="bomdiv" class="split split-horizontal">
      <div style="width: 100%">
        <input id="reflookup" class="textbox searchbox reflookup hideonprint" type="text" placeholder="Ref lookup"
               oninput="updateRefLookup(this.value)">
        <input id="filter" class="textbox searchbox filter hideonprint" type="text" placeholder="Filter"
               oninput="updateFilter(this.value)">
        <div class="button-container hideonprint" style="float: left; margin: 0;">
          <button id="copy" title="Copy bom table to clipboard"
               onclick="saveBomTable('clipboard')"></button>
        </div>
      </div>
      <div id="dbg"></div>
      <table class="bom" id="bomtable">
        <thead id="bomhead">
        </thead>
        <tbody id="bombody">
        </tbody>
      </table>
    </div>
    <div id="canvasdiv" class="split split-horizontal">
      <div id="frontcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="F_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="F_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="F_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="F_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
      <div id="backcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="B_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="B_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="B_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="B_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
