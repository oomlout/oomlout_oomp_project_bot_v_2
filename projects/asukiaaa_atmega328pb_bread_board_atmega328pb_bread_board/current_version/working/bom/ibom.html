<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive BOM for KiCAD</title>
  <style type="text/css">
:root {
  --pcb-edge-color: black;
  --pad-color: #878787;
  --pad-hole-color: #CCCCCC;
  --pad-color-highlight: #D04040;
  --pad-color-highlight-both: #D0D040;
  --pad-color-highlight-marked: #44a344;
  --pin1-outline-color: #ffb629;
  --pin1-outline-color-highlight: #ffb629;
  --pin1-outline-color-highlight-both: #fcbb39;
  --pin1-outline-color-highlight-marked: #fdbe41;
  --silkscreen-edge-color: #aa4;
  --silkscreen-polygon-color: #4aa;
  --silkscreen-text-color: #4aa;
  --fabrication-edge-color: #907651;
  --fabrication-polygon-color: #907651;
  --fabrication-text-color: #a27c24;
  --track-color: #def5f1;
  --track-color-highlight: #D04040;
  --zone-color: #def5f1;
  --zone-color-highlight: #d0404080;
}

html,
body {
  margin: 0px;
  height: 100%;
  font-family: Verdana, sans-serif;
}

.dark.topmostdiv {
  --pcb-edge-color: #eee;
  --pad-color: #808080;
  --pin1-outline-color: #ffa800;
  --pin1-outline-color-highlight: #ccff00;
  --track-color: #42524f;
  --zone-color: #42524f;
  background-color: #252c30;
  color: #eee;
}

button {
  background-color: #eee;
  border: 1px solid #888;
  color: black;
  height: 44px;
  width: 44px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  font-weight: bolder;
}

.dark button {
  /* This will be inverted */
  background-color: #c3b7b5;
}

button.depressed {
  background-color: #0a0;
  color: white;
}

.dark button.depressed {
  /* This will be inverted */
  background-color: #b3b;
}

button:focus {
  outline: 0;
}

button#tb-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.32 290.12h5.82M1.32 291.45h5.82' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 292.5v4.23M.26 292.63H8.2' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='1.35' y='295.73'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#lr-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' fill='none' stroke='%23000' stroke-width='.4' stroke-linejoin='round'/%3E%3Cpath d='M1.06 290.12H3.7m-2.64 1.33H3.7m-2.64 1.32H3.7m-2.64 1.3H3.7m-2.64 1.33H3.7' fill='none' stroke='%23000' stroke-width='.4'/%3E%3Cpath d='M4.37 288.8v7.94m0-4.11h3.96' fill='none' stroke='%23000' stroke-width='.3'/%3E%3Ctext font-weight='700' font-size='3.17' font-family='sans-serif'%3E%3Ctspan x='5.11' y='291.96'%3EF%3C/tspan%3E%3Ctspan x='5.03' y='295.68'%3EB%3C/tspan%3E%3C/text%3E%3C/g%3E%3C/svg%3E%0A");
}

button#bom-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8.47 8.47'%3E%3Crect transform='translate(0 -288.53)' ry='1.17' y='288.8' x='.27' height='7.94' width='7.94' fill='%23f9f9f9'/%3E%3Cg transform='translate(0 -288.53)' fill='none' stroke='%23000' stroke-width='.4'%3E%3Crect width='7.94' height='7.94' x='.27' y='288.8' ry='1.17' stroke-linejoin='round'/%3E%3Cpath d='M1.59 290.12h5.29M1.59 291.45h5.33M1.59 292.75h5.33M1.59 294.09h5.33M1.59 295.41h5.33'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-grouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m4 0h5m4 0h3M6.1 22h3m3.9 0h5m4 0h4m-16-8h4m4 0h4'/%3E%3Cpath stroke-linecap='null' d='M5 17.5h22M5 26.6h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-ungrouped-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg stroke='%23000' stroke-linejoin='round' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-linecap='square' stroke-width='2' d='M6 10h4m-4 8h3m-3 8h4'/%3E%3Cpath stroke-linecap='null' d='M5 13.5h22m-22 8h22M5 5.5h22'/%3E%3C/g%3E%3C/svg%3E");
}

button#bom-netlist-btn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cg fill='none' stroke='%23000' class='layer'%3E%3Crect width='29' height='29' x='1.5' y='1.5' stroke-width='2' fill='%23fff' rx='5' ry='5'/%3E%3Cpath stroke-width='2' d='M6 26l6-6v-8m13.8-6.3l-6 6v8'/%3E%3Ccircle cx='11.8' cy='9.5' r='2.8' stroke-width='2'/%3E%3Ccircle cx='19.8' cy='22.8' r='2.8' stroke-width='2'/%3E%3C/g%3E%3C/svg%3E");
}

button#copy {
  background-image: url("data:image/svg+xml,%3Csvg height='48' viewBox='0 0 48 48' width='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h48v48h-48z' fill='none'/%3E%3Cpath d='M32 2h-24c-2.21 0-4 1.79-4 4v28h4v-28h24v-4zm6 8h-22c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h22c2.21 0 4-1.79 4-4v-28c0-2.21-1.79-4-4-4zm0 32h-22v-28h22v28z'/%3E%3C/svg%3E");
  background-position: 6px 6px;
  background-repeat: no-repeat;
  background-size: 26px 26px;
  border-radius: 6px;
  height: 40px;
  width: 40px;
  margin: 10px 5px;
}

button#copy:active {
  box-shadow: inset 0px 0px 5px #6c6c6c;
}

textarea.clipboard-temp {
  position: fixed;
  top: 0;
  left: 0;
  width: 2em;
  height: 2em;
  padding: 0;
  border: None;
  outline: None;
  box-shadow: None;
  background: transparent;
}

.left-most-button {
  border-right: 0;
  border-top-left-radius: 6px;
  border-bottom-left-radius: 6px;
}

.middle-button {
  border-right: 0;
}

.right-most-button {
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
}

.button-container {
  font-size: 0;
  margin: 10px 10px 10px 0px;
}

.dark .button-container {
  filter: invert(1);
}

.button-container button {
  background-size: 32px 32px;
  background-position: 5px 5px;
  background-repeat: no-repeat;
}

@media print {
  .hideonprint {
    display: none;
  }
}

canvas {
  cursor: crosshair;
}

canvas:active {
  cursor: grabbing;
}

.fileinfo {
  width: 100%;
  max-width: 1000px;
  border: none;
  padding: 5px;
}

.fileinfo .title {
  font-size: 20pt;
  font-weight: bold;
}

.fileinfo td {
  overflow: hidden;
  white-space: nowrap;
  max-width: 1px;
  width: 50%;
  text-overflow: ellipsis;
}

.bom {
  border-collapse: collapse;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 10pt;
  table-layout: fixed;
  width: 100%;
  margin-top: 1px;
  position: relative;
}

.bom th,
.bom td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

.dark .bom th,
.dark .bom td {
  border: 1px solid #777;
}

.bom th {
  background-color: #CCCCCC;
  background-clip: padding-box;
}

.dark .bom th {
  background-color: #3b4749;
}

.bom tr.highlighted:nth-child(n) {
  background-color: #cfc;
}

.dark .bom tr.highlighted:nth-child(n) {
  background-color: #226022;
}

.bom tr:nth-child(even) {
  background-color: #f2f2f2;
}

.dark .bom tr:nth-child(even) {
  background-color: #313b40;
}

.bom tr.checked {
  color: #1cb53d;
}

.dark .bom tr.checked {
  color: #2cce54;
}

.bom tr {
  transition: background-color 0.2s;
}

.bom .numCol {
  width: 30px;
}

.bom .value {
  width: 15%;
}

.bom .quantity {
  width: 65px;
}

.bom th .sortmark {
  position: absolute;
  right: 1px;
  top: 1px;
  margin-top: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #221 transparent;
  transform-origin: 50% 85%;
  transition: opacity 0.2s, transform 0.4s;
}

.dark .bom th .sortmark {
  filter: invert(1);
}

.bom th .sortmark.none {
  opacity: 0;
}

.bom th .sortmark.desc {
  transform: rotate(180deg);
}

.bom th:hover .sortmark.none {
  opacity: 0.5;
}

.bom .bom-checkbox {
  width: 30px;
  position: relative;
  user-select: none;
  -moz-user-select: none;
}

.bom .bom-checkbox:before {
  content: "";
  position: absolute;
  border-width: 15px;
  border-style: solid;
  border-color: #51829f transparent transparent transparent;
  visibility: hidden;
  top: -15px;
}

.bom .bom-checkbox:after {
  content: "Double click to set/unset all";
  position: absolute;
  color: white;
  top: -35px;
  left: -26px;
  background: #51829f;
  padding: 5px 15px;
  border-radius: 8px;
  white-space: nowrap;
  visibility: hidden;
}

.bom .bom-checkbox:hover:before,
.bom .bom-checkbox:hover:after {
  visibility: visible;
  transition: visibility 0.2s linear 1s;
}

.split {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  overflow-y: auto;
  overflow-x: hidden;
  background-color: inherit;
}

.split.split-horizontal,
.gutter.gutter-horizontal {
  height: 100%;
  float: left;
}

.gutter {
  background-color: #ddd;
  background-repeat: no-repeat;
  background-position: 50%;
  transition: background-color 0.3s;
}

.dark .gutter {
  background-color: #777;
}

.gutter.gutter-horizontal {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');
  cursor: ew-resize;
  width: 5px;
}

.gutter.gutter-vertical {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=');
  cursor: ns-resize;
  height: 5px;
}

.searchbox {
  float: left;
  height: 40px;
  margin: 10px 5px;
  padding: 12px 32px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 18px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 6px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABNklEQVQ4T8XSMUvDQBQH8P/LElFa/AIZHcTBQSz0I/gFstTBRR2KUC4ldDxw7h0Bl3RRUATxi4iiODgoiLNrbQYp5J6cpJJqomkX33Z37/14d/dIa33MzDuYI4johOI4XhyNRteO46zNYjDzAxE1yBZprVeZ+QbAUhXEGJMA2Ox2u4+fQIa0mPmsCgCgJYQ4t7lfgF0opQYAdv9ABkKI/UnOFCClXKjX61cA1osQY8x9kiRNKeV7IWA3oyhaSdP0FkAtjxhj3hzH2RBCPOf3pzqYHCilfAAX+URm9oMguPzeWSGQvUcMYC8rOBJCHBRdqxTo9/vbRHRqi8bj8XKv1xvODbiuW2u32/bvf0SlDv4XYOY7z/Mavu+nM1+BmQ+NMc0wDF/LprP0DbTWW0T00ul0nn4b7Q87+X4Qmfiq2wAAAABJRU5ErkJggg==');
  background-position: 10px 10px;
  background-repeat: no-repeat;
}

.dark .searchbox {
  background-color: #111;
  color: #eee;
}

.searchbox::placeholder {
  color: #ccc;
}

.dark .searchbox::placeholder {
  color: #666;
}

.filter {
  width: calc(60% - 64px);
}

.reflookup {
  width: calc(40% - 10px);
}

input[type=text]:focus {
  background-color: white;
  border: 1px solid #333;
}

.dark input[type=text]:focus {
  background-color: #333;
  border: 1px solid #ccc;
}

mark.highlight {
  background-color: #5050ff;
  color: #fff;
  padding: 2px;
  border-radius: 6px;
}

.dark mark.highlight {
  background-color: #76a6da;
  color: #111;
}

.menubtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 20 20'%3E%3Cpath fill='none' d='M0 0h20v20H0V0z'/%3E%3Cpath d='M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z'/%3E%3C/svg%3E%0A");
  background-position: center;
  background-repeat: no-repeat;
}

.statsbtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg width='36' height='36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 6h28v24H4V6zm0 8h28v8H4m9-16v24h10V5.8' fill='none' stroke='%23000' stroke-width='2'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.iobtn {
  background-color: white;
  border: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36'%3E%3Cpath fill='none' stroke='%23000' stroke-width='2' d='M3 33v-7l6.8-7h16.5l6.7 7v7H3zM3.2 26H33M21 9l5-5.9 5 6h-2.5V15h-5V9H21zm-4.9 0l-5 6-5-6h2.5V3h5v6h2.5z'/%3E%3Cpath fill='none' stroke='%23000' d='M6.1 29.5H10'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

.visbtn {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath fill='none' stroke='%23333' d='M2.5 4.5h5v15h-5zM9.5 4.5h5v15h-5zM16.5 4.5h5v15h-5z'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
  padding: 15px;
}

#vismenu-content {
  left: 0px;
  font-family: Verdana, sans-serif;
}

.dark .statsbtn,
.dark .savebtn,
.dark .menubtn,
.dark .iobtn,
.dark .visbtn {
  filter: invert(1);
}

.flexbox {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.savebtn {
  background-color: #d6d6d6;
  width: auto;
  height: 30px;
  flex-grow: 1;
  margin: 5px;
  border-radius: 4px;
}

.savebtn:active {
  background-color: #0a0;
  color: white;
}

.dark .savebtn:active {
  /* This will be inverted */
  background-color: #b3b;
}

.stats {
  border-collapse: collapse;
  font-size: 12pt;
  table-layout: fixed;
  width: 100%;
  min-width: 450px;
}

.dark .stats td {
  border: 1px solid #bbb;
}

.stats td {
  border: 1px solid black;
  padding: 5px;
  word-wrap: break-word;
  text-align: center;
  position: relative;
}

#checkbox-stats div {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

#checkbox-stats .bar {
  background-color: rgba(28, 251, 0, 0.6);
}

.menu {
  position: relative;
  display: inline-block;
  margin: 10px 10px 10px 0px;
}

.menu-content {
  font-size: 12pt !important;
  text-align: left !important;
  font-weight: normal !important;
  display: none;
  position: absolute;
  background-color: white;
  right: 0;
  min-width: 300px;
  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
  z-index: 100;
  padding: 8px;
}

.dark .menu-content {
  background-color: #111;
}

.menu:hover .menu-content {
  display: block;
}

.menu:hover .menubtn,
.menu:hover .iobtn,
.menu:hover .statsbtn {
  background-color: #eee;
}

.menu-label {
  display: inline-block;
  padding: 8px;
  border: 1px solid #ccc;
  border-top: 0;
  width: calc(100% - 18px);
}

.menu-label-top {
  border-top: 1px solid #ccc;
}

.menu-textbox {
  float: left;
  height: 24px;
  margin: 10px 5px;
  padding: 5px 5px;
  font-family: Consolas, "DejaVu Sans Mono", Monaco, monospace;
  font-size: 14px;
  box-sizing: border-box;
  border: 1px solid #888;
  border-radius: 4px;
  outline: none;
  background-color: #eee;
  transition: background-color 0.2s, border 0.2s;
  width: calc(100% - 10px);
}

.menu-textbox.invalid,
.dark .menu-textbox.invalid {
  color: red;
}

.dark .menu-textbox {
  background-color: #222;
  color: #eee;
}

.radio-container {
  margin: 4px;
}

.topmostdiv {
  width: 100%;
  height: 100%;
  background-color: white;
  transition: background-color 0.3s;
}

#top {
  height: 78px;
  border-bottom: 2px solid black;
}

.dark #top {
  border-bottom: 2px solid #ccc;
}

#dbg {
  display: block;
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #aaa;
}

::-webkit-scrollbar-thumb {
  background: #666;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  margin: 3px 0;
  padding: 0;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
  border-radius: 3px;
}

.slider:hover {
  opacity: 1;
}

.slider:focus {
  outline: none;
}

.slider::-webkit-slider-runnable-track {
  -webkit-appearance: none;
  width: 100%;
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
  border: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin-top: -4px;
}

.dark .slider::-webkit-slider-thumb {
  background: #3d3;
}

.slider::-moz-range-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
}

.slider::-moz-range-track {
  height: 8px;
  background: #d3d3d3;
  border-radius: 3px;
}

.dark .slider::-moz-range-thumb {
  background: #3d3;
}

.slider::-ms-track {
  width: 100%;
  height: 8px;
  border-width: 3px 0;
  background: transparent;
  border-color: transparent;
  color: transparent;
  transition: opacity .2s;
}

.slider::-ms-fill-lower {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-fill-upper {
  background: #d3d3d3;
  border: none;
  border-radius: 3px;
}

.slider::-ms-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #0a0;
  cursor: pointer;
  margin: 0;
}

.shameless-plug {
  font-size: 0.8em;
  text-align: center;
  display: block;
}

a {
  color: #0278a4;
}

.dark a {
  color: #00b9fd;
}

#frontcanvas,
#backcanvas {
  touch-action: none;
}

.placeholder {
  border: 1px dashed #9f9fda !important;
  background-color: #edf2f7 !important;
}

.dragging {
  z-index: 999;
}

.dark .dragging>table>tbody>tr {
  background-color: #252c30;
}

.dark .placeholder {
  filter: invert(1);
}

.column-spacer {
  top: 0;
  left: 0;
  width: calc(100% - 4px);
  position: absolute;
  cursor: pointer;
  user-select: none;
  height: 100%;
}

.column-width-handle {
  top: 0;
  right: 0;
  width: 4px;
  position: absolute;
  cursor: col-resize;
  user-select: none;
  height: 100%;
}

.column-width-handle:hover {
  background-color: #4f99bd;
}

.help-link {
  border: 1px solid #0278a4;
  padding-inline: 0.3rem;
  border-radius: 3px;
  cursor: pointer;
}

.dark .help-link {
  border: 1px solid #00b9fd;
}

.bom-color {
  width: 20%;
}

.color-column input {
  width: 1.6rem;
  height: 1rem;
  border: 1px solid black;
  cursor: pointer;
  padding: 0;
}

/* removes default styling from input color element */
::-webkit-color-swatch {
  border: none;
}

::-webkit-color-swatch-wrapper {
  padding: 0;
}

::-moz-color-swatch,
::-moz-focus-inner {
  border: none;
}

::-moz-focus-inner {
  padding: 0;
}

  </style>
  <script type="text/javascript" >
///////////////////////////////////////////////
/*
  Split.js - v1.3.5
  MIT License
  https://github.com/nathancahill/Split.js
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Split=t()}(this,function(){"use strict";var e=window,t=e.document,n="addEventListener",i="removeEventListener",r="getBoundingClientRect",s=function(){return!1},o=e.attachEvent&&!e[n],a=["","-webkit-","-moz-","-o-"].filter(function(e){var n=t.createElement("div");return n.style.cssText="width:"+e+"calc(9px)",!!n.style.length}).shift()+"calc",l=function(e){return"string"==typeof e||e instanceof String?t.querySelector(e):e};return function(u,c){function z(e,t,n){var i=A(y,t,n);Object.keys(i).forEach(function(t){return e.style[t]=i[t]})}function h(e,t){var n=B(y,t);Object.keys(n).forEach(function(t){return e.style[t]=n[t]})}function f(e){var t=E[this.a],n=E[this.b],i=t.size+n.size;t.size=e/this.size*i,n.size=i-e/this.size*i,z(t.element,t.size,this.aGutterSize),z(n.element,n.size,this.bGutterSize)}function m(e){var t;this.dragging&&((t="touches"in e?e.touches[0][b]-this.start:e[b]-this.start)<=E[this.a].minSize+M+this.aGutterSize?t=E[this.a].minSize+this.aGutterSize:t>=this.size-(E[this.b].minSize+M+this.bGutterSize)&&(t=this.size-(E[this.b].minSize+this.bGutterSize)),f.call(this,t),c.onDrag&&c.onDrag())}function g(){var e=E[this.a].element,t=E[this.b].element;this.size=e[r]()[y]+t[r]()[y]+this.aGutterSize+this.bGutterSize,this.start=e[r]()[G]}function d(){var t=this,n=E[t.a].element,r=E[t.b].element;t.dragging&&c.onDragEnd&&c.onDragEnd(),t.dragging=!1,e[i]("mouseup",t.stop),e[i]("touchend",t.stop),e[i]("touchcancel",t.stop),t.parent[i]("mousemove",t.move),t.parent[i]("touchmove",t.move),delete t.stop,delete t.move,n[i]("selectstart",s),n[i]("dragstart",s),r[i]("selectstart",s),r[i]("dragstart",s),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",t.gutter.style.cursor="",t.parent.style.cursor=""}function S(t){var i=this,r=E[i.a].element,o=E[i.b].element;!i.dragging&&c.onDragStart&&c.onDragStart(),t.preventDefault(),i.dragging=!0,i.move=m.bind(i),i.stop=d.bind(i),e[n]("mouseup",i.stop),e[n]("touchend",i.stop),e[n]("touchcancel",i.stop),i.parent[n]("mousemove",i.move),i.parent[n]("touchmove",i.move),r[n]("selectstart",s),r[n]("dragstart",s),o[n]("selectstart",s),o[n]("dragstart",s),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",i.gutter.style.cursor=j,i.parent.style.cursor=j,g.call(i)}function v(e){e.forEach(function(t,n){if(n>0){var i=F[n-1],r=E[i.a],s=E[i.b];r.size=e[n-1],s.size=t,z(r.element,r.size,i.aGutterSize),z(s.element,s.size,i.bGutterSize)}})}function p(){F.forEach(function(e){e.parent.removeChild(e.gutter),E[e.a].element.style[y]="",E[e.b].element.style[y]=""})}void 0===c&&(c={});var y,b,G,E,w=l(u[0]).parentNode,D=e.getComputedStyle(w).flexDirection,U=c.sizes||u.map(function(){return 100/u.length}),k=void 0!==c.minSize?c.minSize:100,x=Array.isArray(k)?k:u.map(function(){return k}),L=void 0!==c.gutterSize?c.gutterSize:10,M=void 0!==c.snapOffset?c.snapOffset:30,O=c.direction||"horizontal",j=c.cursor||("horizontal"===O?"ew-resize":"ns-resize"),C=c.gutter||function(e,n){var i=t.createElement("div");return i.className="gutter gutter-"+n,i},A=c.elementStyle||function(e,t,n){var i={};return"string"==typeof t||t instanceof String?i[e]=t:i[e]=o?t+"%":a+"("+t+"% - "+n+"px)",i},B=c.gutterStyle||function(e,t){return n={},n[e]=t+"px",n;var n};"horizontal"===O?(y="width","clientWidth",b="clientX",G="left","paddingLeft"):"vertical"===O&&(y="height","clientHeight",b="clientY",G="top","paddingTop");var F=[];return E=u.map(function(e,t){var i,s={element:l(e),size:U[t],minSize:x[t]};if(t>0&&(i={a:t-1,b:t,dragging:!1,isFirst:1===t,isLast:t===u.length-1,direction:O,parent:w},i.aGutterSize=L,i.bGutterSize=L,i.isFirst&&(i.aGutterSize=L/2),i.isLast&&(i.bGutterSize=L/2),"row-reverse"===D||"column-reverse"===D)){var a=i.a;i.a=i.b,i.b=a}if(!o&&t>0){var c=C(t,O);h(c,L),c[n]("mousedown",S.bind(i)),c[n]("touchstart",S.bind(i)),w.insertBefore(c,s.element),i.gutter=c}0===t||t===u.length-1?z(s.element,s.size,L/2):z(s.element,s.size,L);var f=s.element[r]()[y];return f<s.minSize&&(s.minSize=f),t>0&&F.push(i),s}),o?{setSizes:v,destroy:p}:{setSizes:v,getSizes:function(){return E.map(function(e){return e.size})},collapse:function(e){if(e===F.length){var t=F[e-1];g.call(t),o||f.call(t,t.size-t.bGutterSize)}else{var n=F[e];g.call(n),o||f.call(n,n.aGutterSize)}},destroy:p}}});

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////
/*!
 * PEP v0.4.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.PointerEventsPolyfill=b()}(this,function(){"use strict";function a(a,b){b=b||Object.create(null);var c=document.createEvent("Event");c.initEvent(a,b.bubbles||!1,b.cancelable||!1);
for(var d,e=2;e<m.length;e++)d=m[e],c[d]=b[d]||n[e];c.buttons=b.buttons||0;
var f=0;return f=b.pressure&&c.buttons?b.pressure:c.buttons?.5:0,c.x=c.clientX,c.y=c.clientY,c.pointerId=b.pointerId||0,c.width=b.width||0,c.height=b.height||0,c.pressure=f,c.tiltX=b.tiltX||0,c.tiltY=b.tiltY||0,c.twist=b.twist||0,c.tangentialPressure=b.tangentialPressure||0,c.pointerType=b.pointerType||"",c.hwTimestamp=b.hwTimestamp||0,c.isPrimary=b.isPrimary||!1,c}function b(){this.array=[],this.size=0}function c(a,b,c,d){this.addCallback=a.bind(d),this.removeCallback=b.bind(d),this.changedCallback=c.bind(d),A&&(this.observer=new A(this.mutationWatcher.bind(this)))}function d(a){return"body /shadow-deep/ "+e(a)}function e(a){return'[touch-action="'+a+'"]'}function f(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+"; }"}function g(){if(F){D.forEach(function(a){String(a)===a?(E+=e(a)+f(a)+"\n",G&&(E+=d(a)+f(a)+"\n")):(E+=a.selectors.map(e)+f(a.rule)+"\n",G&&(E+=a.selectors.map(d)+f(a.rule)+"\n"))});var a=document.createElement("style");a.textContent=E,document.head.appendChild(a)}}function h(){if(!window.PointerEvent){if(window.PointerEvent=a,window.navigator.msPointerEnabled){var b=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:b,enumerable:!0}),u.registerSource("ms",_)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",N),void 0!==window.ontouchstart&&u.registerSource("touch",V);u.register(document)}}function i(a){if(!u.pointermap.has(a)){var b=new Error("InvalidPointerId");throw b.name="InvalidPointerId",b}}function j(a){for(var b=a.parentNode;b&&b!==a.ownerDocument;)b=b.parentNode;if(!b){var c=new Error("InvalidStateError");throw c.name="InvalidStateError",c}}function k(a){var b=u.pointermap.get(a);return 0!==b.buttons}function l(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:W},releasePointerCapture:{value:X},hasPointerCapture:{value:Y}})}
var m=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],n=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],o=window.Map&&window.Map.prototype.forEach,p=o?Map:b;b.prototype={set:function(a,b){return void 0===b?this["delete"](a):(this.has(a)||this.size++,void(this.array[a]=b))},has:function(a){return void 0!==this.array[a]},"delete":function(a){this.has(a)&&(delete this.array[a],this.size--)},get:function(a){return this.array[a]},clear:function(){this.array.length=0,this.size=0},forEach:function(a,b){return this.array.forEach(function(c,d){a.call(b,c,d,this)},this)}};var q=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],r=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},t="undefined"!=typeof SVGElementInstance,u={pointermap:new p,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(a,b){var c=b,d=c.events;d&&(d.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},register:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.register.call(b,a)},unregister:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)
b.unregister.call(b,a)},contains:function(a,b){try{return a.contains(b)}catch(c){return!1}},down:function(a){a.bubbles=!0,this.fireEvent("pointerdown",a)},move:function(a){a.bubbles=!0,this.fireEvent("pointermove",a)},up:function(a){a.bubbles=!0,this.fireEvent("pointerup",a)},enter:function(a){a.bubbles=!1,this.fireEvent("pointerenter",a)},leave:function(a){a.bubbles=!1,this.fireEvent("pointerleave",a)},over:function(a){a.bubbles=!0,this.fireEvent("pointerover",a)},out:function(a){a.bubbles=!0,this.fireEvent("pointerout",a)},cancel:function(a){a.bubbles=!0,this.fireEvent("pointercancel",a)},leaveOut:function(a){this.out(a),this.propagate(a,this.leave,!1)},enterOver:function(a){this.over(a),this.propagate(a,this.enter,!0)},eventHandler:function(a){if(!a._handledByPE){var b=a.type,c=this.eventMap&&this.eventMap[b];c&&c(a),a._handledByPE=!0}},listen:function(a,b){b.forEach(function(b){this.addEvent(a,b)},this)},unlisten:function(a,b){b.forEach(function(b){this.removeEvent(a,b)},this)},addEvent:function(a,b){a.addEventListener(b,this.boundHandler)},removeEvent:function(a,b){a.removeEventListener(b,this.boundHandler)},makeEvent:function(b,c){this.captureInfo[c.pointerId]&&(c.relatedTarget=null);var d=new a(b,c);return c.preventDefault&&(d.preventDefault=c.preventDefault),d._target=d._target||c.target,d},fireEvent:function(a,b){var c=this.makeEvent(a,b);return this.dispatchEvent(c)},cloneEvent:function(a){for(var b,c=Object.create(null),d=0;d<q.length;d++)b=q[d],c[b]=a[b]||r[d],!t||"target"!==b&&"relatedTarget"!==b||c[b]instanceof SVGElementInstance&&(c[b]=c[b].correspondingUseElement);return a.preventDefault&&(c.preventDefault=function(){a.preventDefault()}),c},getTarget:function(a){var b=this.captureInfo[a.pointerId];return b?a._target!==b&&a.type in s?void 0:b:a._target},propagate:function(a,b,c){for(var d=a.target,e=[];d!==document&&!d.contains(a.relatedTarget);) if(e.push(d),d=d.parentNode,!d)return;c&&e.reverse(),e.forEach(function(c){a.target=c,b.call(this,a)},this)},setCapture:function(b,c,d){this.captureInfo[b]&&this.releaseCapture(b,d),this.captureInfo[b]=c,this.implicitRelease=this.releaseCapture.bind(this,b,d),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var e=new a("gotpointercapture");e.pointerId=b,e._target=c,d||this.asyncDispatchEvent(e)},releaseCapture:function(b,c){var d=this.captureInfo[b];if(d){this.captureInfo[b]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var e=new a("lostpointercapture");e.pointerId=b,e._target=d,c||this.asyncDispatchEvent(e)}},dispatchEvent:/*scope.external.dispatchEvent || */function(a){var b=this.getTarget(a);if(b)return b.dispatchEvent(a)},asyncDispatchEvent:function(a){requestAnimationFrame(this.dispatchEvent.bind(this,a))}};u.boundHandler=u.eventHandler.bind(u);var v={shadow:function(a){if(a)return a.shadowRoot||a.webkitShadowRoot},canTarget:function(a){return a&&Boolean(a.elementFromPoint)},targetingShadow:function(a){var b=this.shadow(a);if(this.canTarget(b))return b},olderShadow:function(a){var b=a.olderShadowRoot;if(!b){var c=a.querySelector("shadow");c&&(b=c.olderShadowRoot)}return b},allShadows:function(a){for(var b=[],c=this.shadow(a);c;)b.push(c),c=this.olderShadow(c);return b},searchRoot:function(a,b,c){if(a){var d,e,f=a.elementFromPoint(b,c);for(e=this.targetingShadow(f);e;){if(d=e.elementFromPoint(b,c)){var g=this.targetingShadow(d);return this.searchRoot(g,b,c)||d} e=this.olderShadow(e)} return f}},owner:function(a){
for(var b=a;b.parentNode;)b=b.parentNode;
return b.nodeType!==Node.DOCUMENT_NODE&&b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(b=document),b},findTarget:function(a){var b=a.clientX,c=a.clientY,d=this.owner(a.target);
return d.elementFromPoint(b,c)||(d=document),this.searchRoot(d,b,c)}},w=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Array.prototype.map.call.bind(Array.prototype.map),y=Array.prototype.slice.call.bind(Array.prototype.slice),z=Array.prototype.filter.call.bind(Array.prototype.filter),A=window.MutationObserver||window.WebKitMutationObserver,B="[touch-action]",C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};c.prototype={watchSubtree:function(a){
//
this.observer&&v.canTarget(a)&&this.observer.observe(a,C)},enableOnSubtree:function(a){this.watchSubtree(a),a===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(a)},installNewSubtree:function(a){w(this.findElements(a),this.addElement,this)},findElements:function(a){return a.querySelectorAll?a.querySelectorAll(B):[]},removeElement:function(a){this.removeCallback(a)},addElement:function(a){this.addCallback(a)},elementChanged:function(a,b){this.changedCallback(a,b)},concatLists:function(a,b){return a.concat(y(b))},
installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(a){return a.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(a){
var b=x(a,this.findElements,this);
return b.push(z(a,this.isElement)),b.reduce(this.concatLists,[])},mutationWatcher:function(a){a.forEach(this.mutationHandler,this)},mutationHandler:function(a){if("childList"===a.type){var b=this.flattenMutationTree(a.addedNodes);b.forEach(this.addElement,this);var c=this.flattenMutationTree(a.removedNodes);c.forEach(this.removeElement,this)}else"attributes"===a.type&&this.elementChanged(a.target,a.oldValue)}};var D=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],E="",F=window.PointerEvent||window.MSPointerEvent,G=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,H=u.pointermap,I=25,J=[1,4,2,8,16],K=!1;try{K=1===new MouseEvent("test",{buttons:1}).buttons}catch(L){}
var M,N={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},lastTouches:[],
isEventSimulatedFromTouch:function(a){for(var b,c=this.lastTouches,d=a.clientX,e=a.clientY,f=0,g=c.length;f<g&&(b=c[f]);f++){
var h=Math.abs(d-b.x),i=Math.abs(e-b.y);if(h<=I&&i<=I)return!0}},prepareEvent:function(a){var b=u.cloneEvent(a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=this.POINTER_ID,b.isPrimary=!0,b.pointerType=this.POINTER_TYPE,b},prepareButtonsForMove:function(a,b){var c=H.get(this.POINTER_ID);
0!==b.which&&c?a.buttons=c.buttons:a.buttons=0,b.buttons=a.buttons},mousedown:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);K||(c.buttons=J[c.button],b&&(c.buttons|=b.buttons),a.buttons=c.buttons),H.set(this.POINTER_ID,a),b&&0!==b.buttons?u.move(c):u.down(c)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.move(b)}},mouseup:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);if(!K){var d=J[c.button];
c.buttons=b?b.buttons&~d:0,a.buttons=c.buttons}H.set(this.POINTER_ID,a),
c.buttons&=~J[c.button],0===c.buttons?u.up(c):u.move(c)}},mouseover:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.enterOver(b)}},mouseout:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,u.leaveOut(b)}},cancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.deactivateMouse()},deactivateMouse:function(){H["delete"](this.POINTER_ID)}},O=u.captureInfo,P=v.findTarget.bind(v),Q=v.allShadows.bind(v),R=u.pointermap,S=2500,T=200,U="touch-action",V={events:["touchstart","touchmove","touchend","touchcancel"],register:function(a){M.enableOnSubtree(a)},unregister:function(){},elementAdded:function(a){var b=a.getAttribute(U),c=this.touchActionToScrollType(b);c&&(a._scrollType=c,u.listen(a,this.events),
Q(a).forEach(function(a){a._scrollType=c,u.listen(a,this.events)},this))},elementRemoved:function(a){a._scrollType=void 0,u.unlisten(a,this.events),
Q(a).forEach(function(a){a._scrollType=void 0,u.unlisten(a,this.events)},this)},elementChanged:function(a,b){var c=a.getAttribute(U),d=this.touchActionToScrollType(c),e=this.touchActionToScrollType(b);
d&&e?(a._scrollType=d,Q(a).forEach(function(a){a._scrollType=d},this)):e?this.elementRemoved(a):d&&this.elementAdded(a)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(a){var b=a,c=this.scrollTypes;return"none"===b?"none":b===c.XSCROLLER?"X":b===c.YSCROLLER?"Y":c.SCROLLER.exec(b)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){
(0===R.size||1===R.size&&R.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(a,T)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var b=0;return"touchstart"!==a&&"touchmove"!==a||(b=1),b},touchToPointer:function(a){var b=this.currentTouchEvent,c=u.cloneEvent(a),d=c.pointerId=a.identifier+2;c.target=O[d]||P(c),c.bubbles=!0,c.cancelable=!0,c.detail=this.clickCount,c.button=0,c.buttons=this.typeToButtons(b.type),c.width=2*(a.radiusX||a.webkitRadiusX||0),c.height=2*(a.radiusY||a.webkitRadiusY||0),c.pressure=a.force||a.webkitForce||.5,c.isPrimary=this.isPrimaryTouch(a),c.pointerType=this.POINTER_TYPE,
c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey;
var e=this;return c.preventDefault=function(){e.scrolling=!1,e.firstXY=null,b.preventDefault()},c},processTouches:function(a,b){var c=a.changedTouches;this.currentTouchEvent=a;for(var d,e=0;e<c.length;e++)d=c[e],b.call(this,this.touchToPointer(d))},
shouldScroll:function(a){if(this.firstXY){var b,c=a.currentTarget._scrollType;if("none"===c)
b=!1;else if("XY"===c)
b=!0;else{var d=a.changedTouches[0],e=c,f="Y"===c?"X":"Y",g=Math.abs(d["client"+e]-this.firstXY[e]),h=Math.abs(d["client"+f]-this.firstXY[f]);
b=g>=h}return this.firstXY=null,b}},findTouch:function(a,b){for(var c,d=0,e=a.length;d<e&&(c=a[d]);d++)if(c.identifier===b)return!0},
vacuumTouches:function(a){var b=a.touches;
if(R.size>=b.length){var c=[];R.forEach(function(a,d){
if(1!==d&&!this.findTouch(b,d-2)){var e=a.out;c.push(e)}},this),c.forEach(this.cancelOut,this)}},touchstart:function(a){this.vacuumTouches(a),this.setPrimaryTouch(a.changedTouches[0]),this.dedupSynthMouse(a),this.scrolling||(this.clickCount++,this.processTouches(a,this.overDown))},overDown:function(a){R.set(a.pointerId,{target:a.target,out:a,outTarget:a.target}),u.enterOver(a),u.down(a)},touchmove:function(a){this.scrolling||(this.shouldScroll(a)?(this.scrolling=!0,this.touchcancel(a)):(a.preventDefault(),this.processTouches(a,this.moveOverOut)))},moveOverOut:function(a){var b=a,c=R.get(b.pointerId);
if(c){var d=c.out,e=c.outTarget;u.move(b),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,
d.target=e,b.target?(u.leaveOut(d),u.enterOver(b)):(
b.target=e,b.relatedTarget=null,this.cancelOut(b))),c.out=b,c.outTarget=b.target}},touchend:function(a){this.dedupSynthMouse(a),this.processTouches(a,this.upOut)},upOut:function(a){this.scrolling||(u.up(a),u.leaveOut(a)),this.cleanUpPointer(a)},touchcancel:function(a){this.processTouches(a,this.cancelOut)},cancelOut:function(a){u.cancel(a),u.leaveOut(a),this.cleanUpPointer(a)},cleanUpPointer:function(a){R["delete"](a.pointerId),this.removePrimaryPointer(a)},
dedupSynthMouse:function(a){var b=N.lastTouches,c=a.changedTouches[0];
if(this.isPrimaryTouch(c)){
var d={x:c.clientX,y:c.clientY};b.push(d);var e=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}.bind(null,b,d);setTimeout(e,S)}}};M=new c(V.elementAdded,V.elementRemoved,V.elementChanged,V);var W,X,Y,Z=u.pointermap,$=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,_={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var b=a;return $&&(b=u.cloneEvent(a),b.pointerType=this.POINTER_TYPES[a.pointerType]),b},cleanup:function(a){Z["delete"](a)},MSPointerDown:function(a){Z.set(a.pointerId,a);var b=this.prepareEvent(a);u.down(b)},MSPointerMove:function(a){var b=this.prepareEvent(a);u.move(b)},MSPointerUp:function(a){var b=this.prepareEvent(a);u.up(b),this.cleanup(a.pointerId)},MSPointerOut:function(a){var b=this.prepareEvent(a);u.leaveOut(b)},MSPointerOver:function(a){var b=this.prepareEvent(a);u.enterOver(b)},MSPointerCancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.cleanup(a.pointerId)},MSLostPointerCapture:function(a){var b=u.makeEvent("lostpointercapture",a);u.dispatchEvent(b)},MSGotPointerCapture:function(a){var b=u.makeEvent("gotpointercapture",a);u.dispatchEvent(b)}},aa=window.navigator;aa.msPointerEnabled?(W=function(a){i(a),j(this),k(a)&&(u.setCapture(a,this,!0),this.msSetPointerCapture(a))},X=function(a){i(a),u.releaseCapture(a,!0),this.msReleasePointerCapture(a)}):(W=function(a){i(a),j(this),k(a)&&u.setCapture(a,this)},X=function(a){i(a),u.releaseCapture(a)}),Y=function(a){return!!u.captureInfo[a]},g(),h(),l();var ba={dispatcher:u,Installer:c,PointerEvent:a,PointerMap:p,targetFinding:v};return ba});

///////////////////////////////////////////////

///////////////////////////////////////////////
var config = {"dark_mode": false, "show_pads": true, "show_fabrication": false, "show_silkscreen": true, "highlight_pin1": "none", "redraw_on_drag": true, "board_rotation": 0, "checkboxes": "Sourced,Placed", "bom_view": "left-right", "layer_view": "FB", "offset_back_rotation": false, "kicad_text_formatting": true, "fields": ["Value", "Footprint"]}
///////////////////////////////////////////////

///////////////////////////////////////////////
var pcbdata = {"edges_bbox": {"minx": 99.975, "miny": 49.975, "maxx": 160.025, "maxy": 110.025}, "edges": [{"type": "arc", "start": [103.0, 107.0], "radius": 3.0, "startangle": 90.0, "endangle": 180.0, "width": 0.05}, {"type": "segment", "start": [103.0, 110.0], "end": [157.0, 110.0], "width": 0.05}, {"type": "arc", "start": [103.0, 53.0], "radius": 3.0, "startangle": -180.0, "endangle": -90.0, "width": 0.05}, {"type": "arc", "start": [157.0, 107.0], "radius": 3.0, "startangle": 0.0, "endangle": 90.0, "width": 0.05}, {"type": "segment", "start": [160.0, 107.0], "end": [160.0, 53.0], "width": 0.05}, {"type": "arc", "start": [157.0, 53.0], "radius": 3.0, "startangle": -90.0, "endangle": 0.0, "width": 0.05}, {"type": "segment", "start": [157.0, 50.0], "end": [103.0, 50.0], "width": 0.05}, {"type": "segment", "start": [100.0, 53.0], "end": [100.0, 107.0], "width": 0.05}], "drawings": {"silkscreen": {"F": [{"thickness": 0.15, "svgpath": "M150.8,77.574271L150.971428,77.4457L151.142857,77.574271M151.442857,78.388557L151.442857,77.488557L151.657143,77.488557L151.785714,77.531414L151.871429,77.617128L151.914286,77.702842L151.957143,77.874271L151.957143,78.002842L151.914286,78.174271L151.871429,78.259985L151.785714,78.3457L151.657143,78.388557L151.442857,78.388557M152.257143,77.488557L152.814286,77.488557L152.514286,77.831414L152.642857,77.831414L152.728572,77.874271L152.771429,77.917128L152.814286,78.002842L152.814286,78.217128L152.771429,78.302842L152.728572,78.3457L152.642857,78.388557L152.385714,78.388557L152.3,78.3457L152.257143,78.302842"}, {"thickness": 0.15, "svgpath": "M107.164286,99.931414L107.078572,99.888557L106.95,99.888557L106.821429,99.931414L106.735714,100.017128L106.692857,100.102842L106.65,100.274271L106.65,100.402842L106.692857,100.574271L106.735714,100.659985L106.821429,100.7457L106.95,100.788557L107.035714,100.788557L107.164286,100.7457L107.207143,100.702842L107.207143,100.402842L107.035714,100.402842M107.592857,100.788557L107.592857,99.888557L108.107143,100.788557L108.107143,99.888557M108.535714,100.788557L108.535714,99.888557L108.75,99.888557L108.878571,99.931414L108.964286,100.017128L109.007143,100.102842L109.05,100.274271L109.05,100.402842L109.007143,100.574271L108.964286,100.659985L108.878571,100.7457L108.75,100.788557L108.535714,100.788557"}, {"thickness": 0.15, "svgpath": "M150.971428,60.088557L150.971428,59.188557L151.185714,59.188557L151.314285,59.231414L151.4,59.317128L151.442857,59.402842L151.485714,59.574271L151.485714,59.702842L151.442857,59.874271L151.4,59.959985L151.314285,60.0457L151.185714,60.088557L150.971428,60.088557M151.742857,59.188557L152.257143,59.188557M152,60.088557L152,59.188557M153.071428,60.088557L152.771428,59.659985M152.557142,60.088557L152.557142,59.188557L152.899999,59.188557L152.985714,59.231414L153.028571,59.274271L153.071428,59.359985L153.071428,59.488557L153.028571,59.574271L152.985714,59.617128L152.899999,59.659985L152.557142,59.659985"}, {"thickness": 0.15, "svgpath": "M106.835714,77.438557L106.835714,76.538557L107.178571,76.538557L107.264286,76.581414L107.307143,76.624271L107.35,76.709985L107.35,76.838557L107.307143,76.924271L107.264286,76.967128L107.178571,77.009985L106.835714,77.009985M108.035714,76.967128L108.164286,77.009985L108.207143,77.052842L108.25,77.138557L108.25,77.267128L108.207143,77.352842L108.164286,77.3957L108.078571,77.438557L107.735714,77.438557L107.735714,76.538557L108.035714,76.538557L108.121429,76.581414L108.164286,76.624271L108.207143,76.709985L108.207143,76.7957L108.164286,76.881414L108.121429,76.924271L108.035714,76.967128L107.735714,76.967128M109.021429,76.538557L108.85,76.538557L108.764286,76.581414L108.721429,76.624271L108.635714,76.752842L108.592857,76.924271L108.592857,77.267128L108.635714,77.352842L108.678571,77.3957L108.764286,77.438557L108.935714,77.438557L109.021429,77.3957L109.064286,77.352842L109.107143,77.267128L109.107143,77.052842L109.064286,76.967128L109.021429,76.924271L108.935714,76.881414L108.764286,76.881414L108.678571,76.924271L108.635714,76.967128L108.592857,77.052842"}, {"thickness": 0.15, "svgpath": "M150.885714,91.088557L150.885714,90.188557L151.1,90.188557L151.228571,90.231414L151.314286,90.317128L151.357143,90.402842L151.4,90.574271L151.4,90.702842L151.357143,90.874271L151.314286,90.959985L151.228571,91.0457L151.1,91.088557L150.885714,91.088557M151.914286,90.574271L151.828571,90.531414L151.785714,90.488557L151.742857,90.402842L151.742857,90.359985L151.785714,90.274271L151.828571,90.231414L151.914286,90.188557L152.085714,90.188557L152.171429,90.231414L152.214286,90.274271L152.257143,90.359985L152.257143,90.402842L152.214286,90.488557L152.171429,90.531414L152.085714,90.574271L151.914286,90.574271L151.828571,90.617128L151.785714,90.659985L151.742857,90.7457L151.742857,90.917128L151.785714,91.002842L151.828571,91.0457L151.914286,91.088557L152.085714,91.088557L152.171429,91.0457L152.214286,91.002842L152.257143,90.917128L152.257143,90.7457L152.214286,90.659985L152.171429,90.617128L152.085714,90.574271"}, {"thickness": 0.15, "svgpath": "M106.835714,59.638557L106.835714,58.738557L107.178571,58.738557L107.264286,58.781414L107.307143,58.824271L107.35,58.909985L107.35,59.038557L107.307143,59.124271L107.264286,59.167128L107.178571,59.209985L106.835714,59.209985M108.035714,59.167128L108.164286,59.209985L108.207143,59.252842L108.25,59.338557L108.25,59.467128L108.207143,59.552842L108.164286,59.5957L108.078571,59.638557L107.735714,59.638557L107.735714,58.738557L108.035714,58.738557L108.121429,58.781414L108.164286,58.824271L108.207143,58.909985L108.207143,58.9957L108.164286,59.081414L108.121429,59.124271L108.035714,59.167128L107.735714,59.167128M109.064286,58.738557L108.635714,58.738557L108.592857,59.167128L108.635714,59.124271L108.721429,59.081414L108.935714,59.081414L109.021429,59.124271L109.064286,59.167128L109.107143,59.252842L109.107143,59.467128L109.064286,59.552842L109.021429,59.5957L108.935714,59.638557L108.721429,59.638557L108.635714,59.5957L108.592857,59.552842"}, {"thickness": 0.15, "svgpath": "M106.835714,67.338557L106.835714,66.438557L107.178571,66.438557L107.264286,66.481414L107.307143,66.524271L107.35,66.609985L107.35,66.738557L107.307143,66.824271L107.264286,66.867128L107.178571,66.909985L106.835714,66.909985M108.25,67.252842L108.207143,67.2957L108.078571,67.338557L107.992857,67.338557L107.864286,67.2957L107.778571,67.209985L107.735714,67.124271L107.692857,66.952842L107.692857,66.824271L107.735714,66.652842L107.778571,66.567128L107.864286,66.481414L107.992857,66.438557L108.078571,66.438557L108.207143,66.481414L108.25,66.524271M108.592857,66.524271L108.635714,66.481414L108.721429,66.438557L108.935714,66.438557L109.021429,66.481414L109.064286,66.524271L109.107143,66.609985L109.107143,66.6957L109.064286,66.824271L108.55,67.338557L109.107143,67.338557"}, {"thickness": 0.15, "svgpath": "M150.835714,82.288557L150.835714,81.388557L151.178571,81.388557L151.264286,81.431414L151.307143,81.474271L151.35,81.559985L151.35,81.688557L151.307143,81.774271L151.264286,81.817128L151.178571,81.859985L150.835714,81.859985M151.735714,82.288557L151.735714,81.388557L151.95,81.388557L152.078571,81.431414L152.164286,81.517128L152.207143,81.602842L152.25,81.774271L152.25,81.902842L152.207143,82.074271L152.164286,82.159985L152.078571,82.2457L151.95,82.288557L151.735714,82.288557M153.064286,81.388557L152.635714,81.388557L152.592857,81.817128L152.635714,81.774271L152.721429,81.731414L152.935714,81.731414L153.021429,81.774271L153.064286,81.817128L153.107143,81.902842L153.107143,82.117128L153.064286,82.202842L153.021429,82.2457L152.935714,82.288557L152.721429,82.288557L152.635714,82.2457L152.592857,82.202842"}, {"thickness": 0.15, "svgpath": "M150.8,92.974271L150.971428,92.8457L151.142857,92.974271M151.442857,93.788557L151.442857,92.888557L151.657143,92.888557L151.785714,92.931414L151.871429,93.017128L151.914286,93.102842L151.957143,93.274271L151.957143,93.402842L151.914286,93.574271L151.871429,93.659985L151.785714,93.7457L151.657143,93.788557L151.442857,93.788557M152.385714,93.788557L152.557143,93.788557L152.642857,93.7457L152.685714,93.702842L152.771429,93.574271L152.814286,93.402842L152.814286,93.059985L152.771429,92.974271L152.728572,92.931414L152.642857,92.888557L152.471429,92.888557L152.385714,92.931414L152.342857,92.974271L152.3,93.059985L152.3,93.274271L152.342857,93.359985L152.385714,93.402842L152.471429,93.4457L152.642857,93.4457L152.728572,93.402842L152.771429,93.359985L152.814286,93.274271"}, {"thickness": 0.15, "svgpath": "M101.014285,91.188557L101.014285,90.288557L101.228571,90.288557L101.357142,90.331414L101.442857,90.417128L101.485714,90.502842L101.528571,90.674271L101.528571,90.802842L101.485714,90.974271L101.442857,91.059985L101.357142,91.1457L101.228571,91.188557L101.014285,91.188557M101.871428,90.374271L101.914285,90.331414L102,90.288557L102.214285,90.288557L102.3,90.331414L102.342857,90.374271L102.385714,90.459985L102.385714,90.5457L102.342857,90.674271L101.828571,91.188557L102.385714,91.188557M103.2,90.288557L102.771428,90.288557L102.728571,90.717128L102.771428,90.674271L102.857143,90.631414L103.071428,90.631414L103.157143,90.674271L103.2,90.717128L103.242857,90.802842L103.242857,91.017128L103.2,91.102842L103.157143,91.1457L103.071428,91.188557L102.857143,91.188557L102.771428,91.1457L102.728571,91.102842M104.271428,90.2457L103.5,91.402842M104.528571,90.931414L104.957143,90.931414M104.442857,91.188557L104.742857,90.288557L105.042857,91.188557M105.728572,90.288557L105.557143,90.288557L105.471429,90.331414L105.428572,90.374271L105.342857,90.502842L105.3,90.674271L105.3,91.017128L105.342857,91.102842L105.385714,91.1457L105.471429,91.188557L105.642857,91.188557L105.728572,91.1457L105.771429,91.102842L105.814286,91.017128L105.814286,90.802842L105.771429,90.717128L105.728572,90.674271L105.642857,90.631414L105.471429,90.631414L105.385714,90.674271L105.342857,90.717128L105.3,90.802842M106.842857,90.2457L106.071429,91.402842M107.1,91.1457L107.228572,91.188557L107.442857,91.188557L107.528572,91.1457L107.571429,91.102842L107.614286,91.017128L107.614286,90.931414L107.571429,90.8457L107.528572,90.802842L107.442857,90.759985L107.271429,90.717128L107.185714,90.674271L107.142857,90.631414L107.1,90.5457L107.1,90.459985L107.142857,90.374271L107.185714,90.331414L107.271429,90.288557L107.485714,90.288557L107.614286,90.331414M107.957143,91.1457L108.085715,91.188557L108.3,91.188557L108.385715,91.1457L108.428572,91.102842L108.471429,91.017128L108.471429,90.931414L108.428572,90.8457L108.385715,90.802842L108.3,90.759985L108.128572,90.717128L108.042857,90.674271L108,90.631414L107.957143,90.5457L107.957143,90.459985L108,90.374271L108.042857,90.331414L108.128572,90.288557L108.342857,90.288557L108.471429,90.331414M109.328572,91.188557L108.814286,91.188557M109.071429,91.188557L109.071429,90.288557L108.985715,90.417128L108.9,90.502842L108.814286,90.5457"}, {"thickness": 0.15, "svgpath": "M101.459524,93.642295L101.459524,92.842295L101.65,92.842295L101.764286,92.88039L101.840476,92.95658L101.878571,93.032771L101.916667,93.185152L101.916667,93.299438L101.878571,93.451819L101.840476,93.528009L101.764286,93.6042L101.65,93.642295L101.459524,93.642295M102.221428,92.918485L102.259524,92.88039L102.335714,92.842295L102.52619,92.842295L102.602381,92.88039L102.640476,92.918485L102.678571,92.994676L102.678571,93.070866L102.640476,93.185152L102.183333,93.642295L102.678571,93.642295M103.364286,92.842295L103.211905,92.842295L103.135714,92.88039L103.097619,92.918485L103.021429,93.032771L102.983333,93.185152L102.983333,93.489914L103.021429,93.566104L103.059524,93.6042L103.135714,93.642295L103.288095,93.642295L103.364286,93.6042L103.402381,93.566104L103.440476,93.489914L103.440476,93.299438L103.402381,93.223247L103.364286,93.185152L103.288095,93.147057L103.135714,93.147057L103.059524,93.185152L103.021429,93.223247L102.983333,93.299438M104.354762,92.8042L103.669048,93.832771M104.583333,93.413723L104.964286,93.413723M104.507143,93.642295L104.77381,92.842295L105.040476,93.642295M105.230952,92.842295L105.764286,92.842295L105.421428,93.642295M106.640476,92.8042L105.954762,93.832771M106.907143,93.642295L106.907143,92.842295L107.173809,93.413723L107.440476,92.842295L107.440476,93.642295M107.97381,92.842295L108.126191,92.842295L108.202381,92.88039L108.278572,92.95658L108.316667,93.108961L108.316667,93.375628L108.278572,93.528009L108.202381,93.6042L108.126191,93.642295L107.97381,93.642295L107.897619,93.6042L107.821429,93.528009L107.783333,93.375628L107.783333,93.108961L107.821429,92.95658L107.897619,92.88039L107.97381,92.842295M109.078571,93.642295L108.621428,93.642295M108.85,93.642295L108.85,92.842295L108.773809,92.95658L108.697619,93.032771L108.621428,93.070866"}, {"thickness": 0.15, "svgpath": "M106.835714,74.838557L106.835714,73.938557L107.178571,73.938557L107.264286,73.981414L107.307143,74.024271L107.35,74.109985L107.35,74.238557L107.307143,74.324271L107.264286,74.367128L107.178571,74.409985L106.835714,74.409985M108.25,74.752842L108.207143,74.7957L108.078571,74.838557L107.992857,74.838557L107.864286,74.7957L107.778571,74.709985L107.735714,74.624271L107.692857,74.452842L107.692857,74.324271L107.735714,74.152842L107.778571,74.067128L107.864286,73.981414L107.992857,73.938557L108.078571,73.938557L108.207143,73.981414L108.25,74.024271M109.064286,73.938557L108.635714,73.938557L108.592857,74.367128L108.635714,74.324271L108.721429,74.281414L108.935714,74.281414L109.021429,74.324271L109.064286,74.367128L109.107143,74.452842L109.107143,74.667128L109.064286,74.752842L109.021429,74.7957L108.935714,74.838557L108.721429,74.838557L108.635714,74.7957L108.592857,74.752842"}, {"thickness": 0.15, "svgpath": "M150.835714,87.488557L150.835714,86.588557L151.178571,86.588557L151.264286,86.631414L151.307143,86.674271L151.35,86.759985L151.35,86.888557L151.307143,86.974271L151.264286,87.017128L151.178571,87.059985L150.835714,87.059985M151.735714,87.488557L151.735714,86.588557L151.95,86.588557L152.078571,86.631414L152.164286,86.717128L152.207143,86.802842L152.25,86.974271L152.25,87.102842L152.207143,87.274271L152.164286,87.359985L152.078571,87.4457L151.95,87.488557L151.735714,87.488557M152.55,86.588557L153.15,86.588557L152.764286,87.488557"}, {"thickness": 0.15, "svgpath": "M150.835714,89.888557L150.835714,88.988557L151.178571,88.988557L151.264286,89.031414L151.307143,89.074271L151.35,89.159985L151.35,89.288557L151.307143,89.374271L151.264286,89.417128L151.178571,89.459985L150.835714,89.459985M152.035714,89.417128L152.164286,89.459985L152.207143,89.502842L152.25,89.588557L152.25,89.717128L152.207143,89.802842L152.164286,89.8457L152.078571,89.888557L151.735714,89.888557L151.735714,88.988557L152.035714,88.988557L152.121429,89.031414L152.164286,89.074271L152.207143,89.159985L152.207143,89.2457L152.164286,89.331414L152.121429,89.374271L152.035714,89.417128L151.735714,89.417128M152.807143,88.988557L152.892857,88.988557L152.978571,89.031414L153.021429,89.074271L153.064286,89.159985L153.107143,89.331414L153.107143,89.5457L153.064286,89.717128L153.021429,89.802842L152.978571,89.8457L152.892857,89.888557L152.807143,89.888557L152.721429,89.8457L152.678571,89.802842L152.635714,89.717128L152.592857,89.5457L152.592857,89.331414L152.635714,89.159985L152.678571,89.074271L152.721429,89.031414L152.807143,88.988557"}, {"thickness": 0.15, "svgpath": "M106.835714,72.338557L106.835714,71.438557L107.178571,71.438557L107.264286,71.481414L107.307143,71.524271L107.35,71.609985L107.35,71.738557L107.307143,71.824271L107.264286,71.867128L107.178571,71.909985L106.835714,71.909985M108.25,72.252842L108.207143,72.2957L108.078571,72.338557L107.992857,72.338557L107.864286,72.2957L107.778571,72.209985L107.735714,72.124271L107.692857,71.952842L107.692857,71.824271L107.735714,71.652842L107.778571,71.567128L107.864286,71.481414L107.992857,71.438557L108.078571,71.438557L108.207143,71.481414L108.25,71.524271M109.021429,71.738557L109.021429,72.338557M108.807143,71.3957L108.592857,72.038557L109.15,72.038557"}, {"thickness": 0.15, "svgpath": "M150.8,85.274271L150.971428,85.1457L151.142857,85.274271M151.442857,86.088557L151.442857,85.188557L151.657143,85.188557L151.785714,85.231414L151.871429,85.317128L151.914286,85.402842L151.957143,85.574271L151.957143,85.702842L151.914286,85.874271L151.871429,85.959985L151.785714,86.0457L151.657143,86.088557L151.442857,86.088557M152.728572,85.188557L152.557143,85.188557L152.471429,85.231414L152.428572,85.274271L152.342857,85.402842L152.3,85.574271L152.3,85.917128L152.342857,86.002842L152.385714,86.0457L152.471429,86.088557L152.642857,86.088557L152.728572,86.0457L152.771429,86.002842L152.814286,85.917128L152.814286,85.702842L152.771429,85.617128L152.728572,85.574271L152.642857,85.531414L152.471429,85.531414L152.385714,85.574271L152.342857,85.617128L152.3,85.702842"}, {"thickness": 0.15, "svgpath": "M104.271428,70.938557L104.271428,70.038557L104.485714,70.038557L104.614285,70.081414L104.7,70.167128L104.742857,70.252842L104.785714,70.424271L104.785714,70.552842L104.742857,70.724271L104.7,70.809985L104.614285,70.8957L104.485714,70.938557L104.271428,70.938557M105.642857,70.938557L105.128571,70.938557M105.385714,70.938557L105.385714,70.038557L105.3,70.167128L105.214285,70.252842L105.128571,70.2957M105.942857,70.038557L106.542857,70.038557L106.157143,70.938557M107.528571,69.9957L106.757143,71.152842M107.785714,70.681414L108.214286,70.681414M107.7,70.938557L108,70.038557L108.3,70.938557M108.514286,70.038557L109.071429,70.038557L108.771429,70.381414L108.9,70.381414L108.985715,70.424271L109.028572,70.467128L109.071429,70.552842L109.071429,70.767128L109.028572,70.852842L108.985715,70.8957L108.9,70.938557L108.642857,70.938557L108.557143,70.8957L108.514286,70.852842"}, {"thickness": 0.15, "svgpath": "M150.935714,62.238557L150.935714,61.338557L151.278571,61.338557L151.364286,61.381414L151.407143,61.424271L151.45,61.509985L151.45,61.638557L151.407143,61.724271L151.364286,61.767128L151.278571,61.809985L150.935714,61.809985M151.835714,62.238557L151.835714,61.338557L152.05,61.338557L152.178571,61.381414L152.264286,61.467128L152.307143,61.552842L152.35,61.724271L152.35,61.852842L152.307143,62.024271L152.264286,62.109985L152.178571,62.1957L152.05,62.238557L151.835714,62.238557M153.207143,62.238557L152.692857,62.238557M152.95,62.238557L152.95,61.338557L152.864286,61.467128L152.778571,61.552842L152.692857,61.5957"}, {"thickness": 0.15, "svgpath": "M150.814285,95.474271L150.985713,95.3457L151.157142,95.474271M151.457142,96.288557L151.457142,95.388557L151.671428,95.388557L151.799999,95.431414L151.885714,95.517128L151.928571,95.602842L151.971428,95.774271L151.971428,95.902842L151.928571,96.074271L151.885714,96.159985L151.799999,96.2457L151.671428,96.288557L151.457142,96.288557M152.828571,96.288557L152.314285,96.288557M152.571428,96.288557L152.571428,95.388557L152.485714,95.517128L152.399999,95.602842L152.314285,95.6457M153.385714,95.388557L153.471428,95.388557L153.557142,95.431414L153.6,95.474271L153.642857,95.559985L153.685714,95.731414L153.685714,95.9457L153.642857,96.117128L153.6,96.202842L153.557142,96.2457L153.471428,96.288557L153.385714,96.288557L153.3,96.2457L153.257142,96.202842L153.214285,96.117128L153.171428,95.9457L153.171428,95.731414L153.214285,95.559985L153.257142,95.474271L153.3,95.431414L153.385714,95.388557M154.714285,95.3457L153.942857,96.502842M154.971428,96.2457L155.1,96.288557L155.314285,96.288557L155.4,96.2457L155.442857,96.202842L155.485714,96.117128L155.485714,96.031414L155.442857,95.9457L155.4,95.902842L155.314285,95.859985L155.142857,95.817128L155.057142,95.774271L155.014285,95.731414L154.971428,95.6457L154.971428,95.559985L155.014285,95.474271L155.057142,95.431414L155.142857,95.388557L155.357142,95.388557L155.485714,95.431414M155.828571,96.2457L155.957143,96.288557L156.171428,96.288557L156.257143,96.2457L156.3,96.202842L156.342857,96.117128L156.342857,96.031414L156.3,95.9457L156.257143,95.902842L156.171428,95.859985L156,95.817128L155.914285,95.774271L155.871428,95.731414L155.828571,95.6457L155.828571,95.559985L155.871428,95.474271L155.914285,95.431414L156,95.388557L156.214285,95.388557L156.342857,95.431414M156.9,95.388557L156.985714,95.388557L157.071428,95.431414L157.114286,95.474271L157.157143,95.559985L157.2,95.731414L157.2,95.9457L157.157143,96.117128L157.114286,96.202842L157.071428,96.2457L156.985714,96.288557L156.9,96.288557L156.814286,96.2457L156.771428,96.202842L156.728571,96.117128L156.685714,95.9457L156.685714,95.731414L156.728571,95.559985L156.771428,95.474271L156.814286,95.431414L156.9,95.388557"}, {"thickness": 0.15, "svgpath": "M150.835714,97.688557L150.835714,96.788557L151.178571,96.788557L151.264286,96.831414L151.307143,96.874271L151.35,96.959985L151.35,97.088557L151.307143,97.174271L151.264286,97.217128L151.178571,97.259985L150.835714,97.259985M152.035714,97.217128L152.164286,97.259985L152.207143,97.302842L152.25,97.388557L152.25,97.517128L152.207143,97.602842L152.164286,97.6457L152.078571,97.688557L151.735714,97.688557L151.735714,96.788557L152.035714,96.788557L152.121429,96.831414L152.164286,96.874271L152.207143,96.959985L152.207143,97.0457L152.164286,97.131414L152.121429,97.174271L152.035714,97.217128L151.735714,97.217128M152.55,96.788557L153.107143,96.788557L152.807143,97.131414L152.935714,97.131414L153.021429,97.174271L153.064286,97.217128L153.107143,97.302842L153.107143,97.517128L153.064286,97.602842L153.021429,97.6457L152.935714,97.688557L152.678571,97.688557L152.592857,97.6457L152.55,97.602842"}, {"thickness": 0.15, "svgpath": "M106.192856,95.431414L106.621428,95.431414M106.107142,95.688557L106.407142,94.788557L106.707142,95.688557M107.521428,95.688557L107.221428,95.259985M107.007142,95.688557L107.007142,94.788557L107.349999,94.788557L107.435714,94.831414L107.478571,94.874271L107.521428,94.959985L107.521428,95.088557L107.478571,95.174271L107.435714,95.217128L107.349999,95.259985L107.007142,95.259985M107.907142,95.217128L108.207142,95.217128M108.335714,95.688557L107.907142,95.688557L107.907142,94.788557L108.335714,94.788557M109.021428,95.217128L108.721428,95.217128M108.721428,95.688557L108.721428,94.788557L109.15,94.788557"}, {"thickness": 0.15, "svgpath": "M103.314285,83.708557L103.314285,82.808557L103.528571,82.808557L103.657142,82.851414L103.742857,82.937128L103.785714,83.022842L103.828571,83.194271L103.828571,83.322842L103.785714,83.494271L103.742857,83.579985L103.657142,83.6657L103.528571,83.708557L103.314285,83.708557M104.171428,82.894271L104.214285,82.851414L104.3,82.808557L104.514285,82.808557L104.6,82.851414L104.642857,82.894271L104.685714,82.979985L104.685714,83.0657L104.642857,83.194271L104.128571,83.708557L104.685714,83.708557M105.028571,82.894271L105.071428,82.851414L105.157143,82.808557L105.371428,82.808557L105.457143,82.851414L105.5,82.894271L105.542857,82.979985L105.542857,83.0657L105.5,83.194271L104.985714,83.708557L105.542857,83.708557M106.571428,82.7657L105.8,83.922842M107.385714,83.708557L107.085714,83.279985M106.871428,83.708557L106.871428,82.808557L107.214285,82.808557L107.3,82.851414L107.342857,82.894271L107.385714,82.979985L107.385714,83.108557L107.342857,83.194271L107.3,83.237128L107.214285,83.279985L106.871428,83.279985M107.728571,83.6657L107.857143,83.708557L108.071428,83.708557L108.157143,83.6657L108.2,83.622842L108.242857,83.537128L108.242857,83.451414L108.2,83.3657L108.157143,83.322842L108.071428,83.279985L107.9,83.237128L107.814285,83.194271L107.771428,83.151414L107.728571,83.0657L107.728571,82.979985L107.771428,82.894271L107.814285,82.851414L107.9,82.808557L108.114285,82.808557L108.242857,82.851414M108.5,82.808557L109.014286,82.808557M108.757143,83.708557L108.757143,82.808557"}, {"thickness": 0.15, "svgpath": "M106.878571,89.988557L106.878571,89.088557L107.221428,89.088557L107.307143,89.131414L107.35,89.174271L107.392857,89.259985L107.392857,89.388557L107.35,89.474271L107.307143,89.517128L107.221428,89.559985L106.878571,89.559985M107.778571,89.517128L108.078571,89.517128M108.207143,89.988557L107.778571,89.988557L107.778571,89.088557L108.207143,89.088557M108.55,89.174271L108.592857,89.131414L108.678572,89.088557L108.892857,89.088557L108.978572,89.131414L109.021429,89.174271L109.064286,89.259985L109.064286,89.3457L109.021429,89.474271L108.507143,89.988557L109.064286,89.988557"}, {"thickness": 0.15, "svgpath": "M150.828571,62.524271L150.999999,62.3957L151.171428,62.524271M151.471428,63.338557L151.471428,62.438557L151.685714,62.438557L151.814285,62.481414L151.9,62.567128L151.942857,62.652842L151.985714,62.824271L151.985714,62.952842L151.942857,63.124271L151.9,63.209985L151.814285,63.2957L151.685714,63.338557L151.471428,63.338557M152.842857,63.338557L152.328571,63.338557M152.585714,63.338557L152.585714,62.438557L152.5,62.567128L152.414285,62.652842L152.328571,62.6957M153.871428,62.3957L153.1,63.552842M154.042857,62.438557L154.557143,62.438557M154.3,63.338557L154.3,62.438557M154.771428,62.438557L155.371428,63.338557M155.371428,62.438557L154.771428,63.338557M155.885714,62.438557L155.971428,62.438557L156.057142,62.481414L156.1,62.524271L156.142857,62.609985L156.185714,62.781414L156.185714,62.9957L156.142857,63.167128L156.1,63.252842L156.057142,63.2957L155.971428,63.338557L155.885714,63.338557L155.8,63.2957L155.757142,63.252842L155.714285,63.167128L155.671428,62.9957L155.671428,62.781414L155.714285,62.609985L155.757142,62.524271L155.8,62.481414L155.885714,62.438557"}, {"thickness": 0.15, "svgpath": "M106.049999,97.331414L106.478571,97.331414M105.964285,97.588557L106.264285,96.688557L106.564285,97.588557M106.735714,96.688557L107.035714,97.588557L107.335714,96.688557M108.15,97.502842L108.107143,97.5457L107.978571,97.588557L107.892857,97.588557L107.764286,97.5457L107.678571,97.459985L107.635714,97.374271L107.592857,97.202842L107.592857,97.074271L107.635714,96.902842L107.678571,96.817128L107.764286,96.731414L107.892857,96.688557L107.978571,96.688557L108.107143,96.731414L108.15,96.774271M109.05,97.502842L109.007143,97.5457L108.878571,97.588557L108.792857,97.588557L108.664286,97.5457L108.578571,97.459985L108.535714,97.374271L108.492857,97.202842L108.492857,97.074271L108.535714,96.902842L108.578571,96.817128L108.664286,96.731414L108.792857,96.688557L108.878571,96.688557L109.007143,96.731414L109.05,96.774271"}, {"thickness": 0.15, "svgpath": "M154.978572,70.530057L155.169048,70.3872L155.359524,70.530057M155.692858,71.33958L155.740477,71.3872L155.692858,71.434819L155.645239,71.3872L155.692858,71.33958L155.692858,71.434819M155.692858,70.815771L155.740477,70.86339L155.692858,70.911009L155.645239,70.86339L155.692858,70.815771L155.692858,70.911009M156.169048,71.434819L156.169048,70.434819L156.55,70.434819L156.645238,70.482438L156.692857,70.530057L156.740476,70.625295L156.740476,70.768152L156.692857,70.86339L156.645238,70.911009L156.55,70.958628L156.169048,70.958628M157.07381,70.434819L157.311905,71.434819L157.502381,70.720533L157.692857,71.434819L157.930953,70.434819M158.311905,71.434819L158.311905,70.434819L158.645238,71.149104L158.978571,70.434819L158.978571,71.434819"}, {"thickness": 0.15, "svgpath": "M106.878571,92.488557L106.878571,91.588557L107.221428,91.588557L107.307143,91.631414L107.35,91.674271L107.392857,91.759985L107.392857,91.888557L107.35,91.974271L107.307143,92.017128L107.221428,92.059985L106.878571,92.059985M107.778571,92.017128L108.078571,92.017128M108.207143,92.488557L107.778571,92.488557L107.778571,91.588557L108.207143,91.588557M108.507143,91.588557L109.064286,91.588557L108.764286,91.931414L108.892857,91.931414L108.978572,91.974271L109.021429,92.017128L109.064286,92.102842L109.064286,92.317128L109.021429,92.402842L108.978572,92.4457L108.892857,92.488557L108.635714,92.488557L108.55,92.4457L108.507143,92.402842"}, {"thickness": 0.15, "svgpath": "M106.835714,69.838557L106.835714,68.938557L107.178571,68.938557L107.264286,68.981414L107.307143,69.024271L107.35,69.109985L107.35,69.238557L107.307143,69.324271L107.264286,69.367128L107.178571,69.409985L106.835714,69.409985M108.25,69.752842L108.207143,69.7957L108.078571,69.838557L107.992857,69.838557L107.864286,69.7957L107.778571,69.709985L107.735714,69.624271L107.692857,69.452842L107.692857,69.324271L107.735714,69.152842L107.778571,69.067128L107.864286,68.981414L107.992857,68.938557L108.078571,68.938557L108.207143,68.981414L108.25,69.024271M108.55,68.938557L109.107143,68.938557L108.807143,69.281414L108.935714,69.281414L109.021429,69.324271L109.064286,69.367128L109.107143,69.452842L109.107143,69.667128L109.064286,69.752842L109.021429,69.7957L108.935714,69.838557L108.678571,69.838557L108.592857,69.7957L108.55,69.752842"}, {"thickness": 0.15, "svgpath": "M150.933333,98.0627L151.066667,97.9627L151.2,98.0627M151.433333,98.696033L151.433333,97.996033L151.6,97.996033L151.7,98.029366L151.766667,98.096033L151.8,98.1627L151.833333,98.296033L151.833333,98.396033L151.8,98.529366L151.766667,98.596033L151.7,98.6627L151.6,98.696033L151.433333,98.696033M152.5,98.696033L152.1,98.696033M152.3,98.696033L152.3,97.996033L152.233333,98.096033L152.166667,98.1627L152.1,98.196033M153.166667,98.696033L152.766667,98.696033M152.966667,98.696033L152.966667,97.996033L152.9,98.096033L152.833334,98.1627L152.766667,98.196033M153.966667,97.9627L153.366667,98.8627M154.1,97.996033L154.5,97.996033M154.3,98.696033L154.3,97.996033M154.666667,97.996033L155.133333,98.696033M155.133333,97.996033L154.666667,98.696033M155.766667,98.696033L155.366667,98.696033M155.566667,98.696033L155.566667,97.996033L155.5,98.096033L155.433334,98.1627L155.366667,98.196033M156.566667,97.9627L155.966667,98.8627M156.8,98.696033L156.8,97.996033L157.033334,98.496033L157.266667,97.996033L157.266667,98.696033M157.733334,97.996033L157.866667,97.996033L157.933334,98.029366L158,98.096033L158.033334,98.229366L158.033334,98.4627L158,98.596033L157.933334,98.6627L157.866667,98.696033L157.733334,98.696033L157.666667,98.6627L157.6,98.596033L157.566667,98.4627L157.566667,98.229366L157.6,98.096033L157.666667,98.029366L157.733334,97.996033M158.466667,97.996033L158.533333,97.996033L158.6,98.029366L158.633333,98.0627L158.666667,98.129366L158.7,98.2627L158.7,98.429366L158.666667,98.5627L158.633333,98.629366L158.6,98.6627L158.533333,98.696033L158.466667,98.696033L158.4,98.6627L158.366667,98.629366L158.333333,98.5627L158.3,98.429366L158.3,98.2627L158.333333,98.129366L158.366667,98.0627L158.4,98.029366L158.466667,97.996033"}, {"thickness": 0.15, "svgpath": "M150.885714,80.888557L150.885714,79.988557L151.1,79.988557L151.228571,80.031414L151.314286,80.117128L151.357143,80.202842L151.4,80.374271L151.4,80.502842L151.357143,80.674271L151.314286,80.759985L151.228571,80.8457L151.1,80.888557L150.885714,80.888557M152.171429,80.288557L152.171429,80.888557M151.957143,79.9457L151.742857,80.588557L152.3,80.588557"}, {"thickness": 0.15, "svgpath": "M150.935714,74.788557L150.935714,73.888557L151.278571,73.888557L151.364286,73.931414L151.407143,73.974271L151.45,74.059985L151.45,74.188557L151.407143,74.274271L151.364286,74.317128L151.278571,74.359985L150.935714,74.359985M151.835714,74.788557L151.835714,73.888557L152.05,73.888557L152.178571,73.931414L152.264286,74.017128L152.307143,74.102842L152.35,74.274271L152.35,74.402842L152.307143,74.574271L152.264286,74.659985L152.178571,74.7457L152.05,74.788557L151.835714,74.788557M152.692857,73.974271L152.735714,73.931414L152.821429,73.888557L153.035714,73.888557L153.121429,73.931414L153.164286,73.974271L153.207143,74.059985L153.207143,74.1457L153.164286,74.274271L152.65,74.788557L153.207143,74.788557"}, {"thickness": 0.15, "svgpath": "M150.785714,88.588557L150.785714,87.688557L151,87.688557L151.128571,87.731414L151.214286,87.817128L151.257143,87.902842L151.3,88.074271L151.3,88.202842L151.257143,88.374271L151.214286,88.459985L151.128571,88.5457L151,88.588557L150.785714,88.588557M151.6,87.688557L152.2,87.688557L151.814286,88.588557"}, {"thickness": 0.15, "svgpath": "M150.8,82.674271L150.971428,82.5457L151.142857,82.674271M151.442857,83.488557L151.442857,82.588557L151.657143,82.588557L151.785714,82.631414L151.871429,82.717128L151.914286,82.802842L151.957143,82.974271L151.957143,83.102842L151.914286,83.274271L151.871429,83.359985L151.785714,83.4457L151.657143,83.488557L151.442857,83.488557M152.771429,82.588557L152.342857,82.588557L152.3,83.017128L152.342857,82.974271L152.428572,82.931414L152.642857,82.931414L152.728572,82.974271L152.771429,83.017128L152.814286,83.102842L152.814286,83.317128L152.771429,83.402842L152.728572,83.4457L152.642857,83.488557L152.428572,83.488557L152.342857,83.4457L152.3,83.402842"}, {"thickness": 0.15, "svgpath": "M142.373809,108.934819L142.373809,108.268152M142.373809,108.458628L142.421428,108.36339L142.469047,108.315771L142.564285,108.268152L142.659523,108.268152M143.373809,108.8872L143.278571,108.934819L143.088095,108.934819L142.992857,108.8872L142.945238,108.791961L142.945238,108.411009L142.992857,108.315771L143.088095,108.268152L143.278571,108.268152L143.373809,108.315771L143.421428,108.411009L143.421428,108.506247L142.945238,108.601485M143.754762,108.268152L143.992857,108.934819L144.230952,108.268152M144.564286,108.030057L144.611905,107.982438L144.707143,107.934819L144.945238,107.934819L145.040476,107.982438L145.088095,108.030057L145.135714,108.125295L145.135714,108.220533L145.088095,108.36339L144.516667,108.934819L145.135714,108.934819M145.754762,107.934819L145.85,107.934819L145.945238,107.982438L145.992857,108.030057L146.040476,108.125295L146.088095,108.315771L146.088095,108.553866L146.040476,108.744342L145.992857,108.83958L145.945238,108.8872L145.85,108.934819L145.754762,108.934819L145.659524,108.8872L145.611905,108.83958L145.564286,108.744342L145.516667,108.553866L145.516667,108.315771L145.564286,108.125295L145.611905,108.030057L145.659524,107.982438L145.754762,107.934819M146.469048,108.030057L146.516667,107.982438L146.611905,107.934819L146.85,107.934819L146.945238,107.982438L146.992857,108.030057L147.040476,108.125295L147.040476,108.220533L146.992857,108.36339L146.421429,108.934819L147.040476,108.934819M147.992857,108.934819L147.421429,108.934819M147.707143,108.934819L147.707143,107.934819L147.611905,108.077676L147.516667,108.172914L147.421429,108.220533M148.421429,108.83958L148.469048,108.8872L148.421429,108.934819L148.37381,108.8872L148.421429,108.83958L148.421429,108.934819M149.088095,107.934819L149.183333,107.934819L149.278571,107.982438L149.32619,108.030057L149.373809,108.125295L149.421428,108.315771L149.421428,108.553866L149.373809,108.744342L149.32619,108.83958L149.278571,108.8872L149.183333,108.934819L149.088095,108.934819L148.992857,108.8872L148.945238,108.83958L148.897619,108.744342L148.85,108.553866L148.85,108.315771L148.897619,108.125295L148.945238,108.030057L148.992857,107.982438L149.088095,107.934819M150.278571,108.268152L150.278571,108.934819M150.040476,107.8872L149.802381,108.601485L150.421428,108.601485"}, {"thickness": 0.15, "svgpath": "M151.364286,71.931414L151.278572,71.888557L151.15,71.888557L151.021429,71.931414L150.935714,72.017128L150.892857,72.102842L150.85,72.274271L150.85,72.402842L150.892857,72.574271L150.935714,72.659985L151.021429,72.7457L151.15,72.788557L151.235714,72.788557L151.364286,72.7457L151.407143,72.702842L151.407143,72.402842L151.235714,72.402842M151.792857,72.788557L151.792857,71.888557L152.307143,72.788557L152.307143,71.888557M152.735714,72.788557L152.735714,71.888557L152.95,71.888557L153.078571,71.931414L153.164286,72.017128L153.207143,72.102842L153.25,72.274271L153.25,72.402842L153.207143,72.574271L153.164286,72.659985L153.078571,72.7457L152.95,72.788557L152.735714,72.788557"}, {"thickness": 0.15, "svgpath": "M102.035714,78.538557L102.035714,77.638557L102.25,77.638557L102.378571,77.681414L102.464286,77.767128L102.507143,77.852842L102.55,78.024271L102.55,78.152842L102.507143,78.324271L102.464286,78.409985L102.378571,78.4957L102.25,78.538557L102.035714,78.538557M102.892857,77.724271L102.935714,77.681414L103.021429,77.638557L103.235714,77.638557L103.321429,77.681414L103.364286,77.724271L103.407143,77.809985L103.407143,77.8957L103.364286,78.024271L102.85,78.538557L103.407143,78.538557M103.964286,77.638557L104.05,77.638557L104.135714,77.681414L104.178572,77.724271L104.221429,77.809985L104.264286,77.981414L104.264286,78.1957L104.221429,78.367128L104.178572,78.452842L104.135714,78.4957L104.05,78.538557L103.964286,78.538557L103.878572,78.4957L103.835714,78.452842L103.792857,78.367128L103.75,78.1957L103.75,77.981414L103.792857,77.809985L103.835714,77.724271L103.878572,77.681414L103.964286,77.638557M105.292857,77.5957L104.521429,78.752842M105.507143,77.638557L106.107143,78.538557M106.107143,77.638557L105.507143,78.538557M106.321429,77.638557L106.835715,77.638557M106.578572,78.538557L106.578572,77.638557M107.092857,78.281414L107.521429,78.281414M107.007143,78.538557L107.307143,77.638557L107.607143,78.538557M108.335715,78.538557L107.907143,78.538557L107.907143,77.638557M109.107143,78.538557L108.592857,78.538557M108.85,78.538557L108.85,77.638557L108.764286,77.767128L108.678571,77.852842L108.592857,77.8957"}, {"thickness": 0.15, "svgpath": "M102.428571,60.738557L102.428571,59.838557L102.642857,59.838557L102.771428,59.881414L102.857143,59.967128L102.9,60.052842L102.942857,60.224271L102.942857,60.352842L102.9,60.524271L102.857143,60.609985L102.771428,60.6957L102.642857,60.738557L102.428571,60.738557M103.8,60.738557L103.285714,60.738557M103.542857,60.738557L103.542857,59.838557L103.457143,59.967128L103.371428,60.052842L103.285714,60.0957M104.1,59.838557L104.657143,59.838557L104.357143,60.181414L104.485714,60.181414L104.571429,60.224271L104.614286,60.267128L104.657143,60.352842L104.657143,60.567128L104.614286,60.652842L104.571429,60.6957L104.485714,60.738557L104.228571,60.738557L104.142857,60.6957L104.1,60.652842M105.685714,59.7957L104.914286,60.952842M105.942857,60.6957L106.071429,60.738557L106.285714,60.738557L106.371429,60.6957L106.414286,60.652842L106.457143,60.567128L106.457143,60.481414L106.414286,60.3957L106.371429,60.352842L106.285714,60.309985L106.114286,60.267128L106.028571,60.224271L105.985714,60.181414L105.942857,60.0957L105.942857,60.009985L105.985714,59.924271L106.028571,59.881414L106.114286,59.838557L106.328571,59.838557L106.457143,59.881414M107.357143,60.652842L107.314286,60.6957L107.185714,60.738557L107.1,60.738557L106.971429,60.6957L106.885714,60.609985L106.842857,60.524271L106.8,60.352842L106.8,60.224271L106.842857,60.052842L106.885714,59.967128L106.971429,59.881414L107.1,59.838557L107.185714,59.838557L107.314286,59.881414L107.357143,59.924271M107.742857,60.738557L107.742857,59.838557M108.257143,60.738557L107.871429,60.224271M108.257143,59.838557L107.742857,60.352842M108.814286,59.838557L108.9,59.838557L108.985714,59.881414L109.028572,59.924271L109.071429,60.009985L109.114286,60.181414L109.114286,60.3957L109.071429,60.567128L109.028572,60.652842L108.985714,60.6957L108.9,60.738557L108.814286,60.738557L108.728572,60.6957L108.685714,60.652842L108.642857,60.567128L108.6,60.3957L108.6,60.181414L108.642857,60.009985L108.685714,59.924271L108.728572,59.881414L108.814286,59.838557"}, {"thickness": 0.15, "svgpath": "M150.835714,77.288557L150.835714,76.388557L151.178571,76.388557L151.264286,76.431414L151.307143,76.474271L151.35,76.559985L151.35,76.688557L151.307143,76.774271L151.264286,76.817128L151.178571,76.859985L150.835714,76.859985M151.735714,77.288557L151.735714,76.388557L151.95,76.388557L152.078571,76.431414L152.164286,76.517128L152.207143,76.602842L152.25,76.774271L152.25,76.902842L152.207143,77.074271L152.164286,77.159985L152.078571,77.2457L151.95,77.288557L151.735714,77.288557M152.55,76.388557L153.107143,76.388557L152.807143,76.731414L152.935714,76.731414L153.021429,76.774271L153.064286,76.817128L153.107143,76.902842L153.107143,77.117128L153.064286,77.202842L153.021429,77.2457L152.935714,77.288557L152.678571,77.288557L152.592857,77.2457L152.55,77.202842"}, {"thickness": 0.15, "svgpath": "M150.835714,95.188557L150.835714,94.288557L151.178571,94.288557L151.264286,94.331414L151.307143,94.374271L151.35,94.459985L151.35,94.588557L151.307143,94.674271L151.264286,94.717128L151.178571,94.759985L150.835714,94.759985M152.035714,94.717128L152.164286,94.759985L152.207143,94.802842L152.25,94.888557L152.25,95.017128L152.207143,95.102842L152.164286,95.1457L152.078571,95.188557L151.735714,95.188557L151.735714,94.288557L152.035714,94.288557L152.121429,94.331414L152.164286,94.374271L152.207143,94.459985L152.207143,94.5457L152.164286,94.631414L152.121429,94.674271L152.035714,94.717128L151.735714,94.717128M152.592857,94.374271L152.635714,94.331414L152.721429,94.288557L152.935714,94.288557L153.021429,94.331414L153.064286,94.374271L153.107143,94.459985L153.107143,94.5457L153.064286,94.674271L152.55,95.188557L153.107143,95.188557"}, {"thickness": 0.15, "svgpath": "M150.85,101.342295L150.85,100.542295L151.040476,100.542295L151.154762,100.58039L151.230952,100.65658L151.269047,100.732771L151.307143,100.885152L151.307143,100.999438L151.269047,101.151819L151.230952,101.228009L151.154762,101.3042L151.040476,101.342295L150.85,101.342295M152.069047,101.342295L151.611904,101.342295M151.840476,101.342295L151.840476,100.542295L151.764285,100.65658L151.688095,100.732771L151.611904,100.770866M152.373809,100.618485L152.411905,100.58039L152.488095,100.542295L152.678571,100.542295L152.754762,100.58039L152.792857,100.618485L152.830952,100.694676L152.830952,100.770866L152.792857,100.885152L152.335714,101.342295L152.830952,101.342295M153.745238,100.5042L153.059524,101.532771M154.469048,101.342295L154.202381,100.961342M154.011905,101.342295L154.011905,100.542295L154.316667,100.542295L154.392857,100.58039L154.430952,100.618485L154.469048,100.694676L154.469048,100.808961L154.430952,100.885152L154.392857,100.923247L154.316667,100.961342L154.011905,100.961342M154.735714,100.542295L155.269048,101.342295M155.269048,100.542295L154.735714,101.342295M155.992857,101.342295L155.535714,101.342295M155.764286,101.342295L155.764286,100.542295L155.688095,100.65658L155.611905,100.732771L155.535714,100.770866M156.907143,100.5042L156.221429,101.532771M157.17381,101.342295L157.17381,100.542295L157.440476,101.113723L157.707143,100.542295L157.707143,101.342295M158.088096,101.342295L158.088096,100.542295M158.621429,100.542295L158.697619,100.542295L158.77381,100.58039L158.811905,100.618485L158.85,100.694676L158.888095,100.847057L158.888095,101.037533L158.85,101.189914L158.811905,101.266104L158.77381,101.3042L158.697619,101.342295L158.621429,101.342295L158.545238,101.3042L158.507143,101.266104L158.469048,101.189914L158.430952,101.037533L158.430952,100.847057L158.469048,100.694676L158.507143,100.618485L158.545238,100.58039L158.621429,100.542295"}, {"thickness": 0.15, "svgpath": "M151.364286,69.331414L151.278572,69.288557L151.15,69.288557L151.021429,69.331414L150.935714,69.417128L150.892857,69.502842L150.85,69.674271L150.85,69.802842L150.892857,69.974271L150.935714,70.059985L151.021429,70.1457L151.15,70.188557L151.235714,70.188557L151.364286,70.1457L151.407143,70.102842L151.407143,69.802842L151.235714,69.802842M151.792857,70.188557L151.792857,69.288557L152.307143,70.188557L152.307143,69.288557M152.735714,70.188557L152.735714,69.288557L152.95,69.288557L153.078571,69.331414L153.164286,69.417128L153.207143,69.502842L153.25,69.674271L153.25,69.802842L153.207143,69.974271L153.164286,70.059985L153.078571,70.1457L152.95,70.188557L152.735714,70.188557"}, {"thickness": 0.15, "svgpath": "M104.371428,68.438557L104.371428,67.538557L104.585714,67.538557L104.714285,67.581414L104.8,67.667128L104.842857,67.752842L104.885714,67.924271L104.885714,68.052842L104.842857,68.224271L104.8,68.309985L104.714285,68.3957L104.585714,68.438557L104.371428,68.438557M105.742857,68.438557L105.228571,68.438557M105.485714,68.438557L105.485714,67.538557L105.4,67.667128L105.314285,67.752842L105.228571,67.7957M106.514286,67.538557L106.342857,67.538557L106.257143,67.581414L106.214286,67.624271L106.128571,67.752842L106.085714,67.924271L106.085714,68.267128L106.128571,68.352842L106.171428,68.3957L106.257143,68.438557L106.428571,68.438557L106.514286,68.3957L106.557143,68.352842L106.6,68.267128L106.6,68.052842L106.557143,67.967128L106.514286,67.924271L106.428571,67.881414L106.257143,67.881414L106.171428,67.924271L106.128571,67.967128L106.085714,68.052842M107.628571,67.4957L106.857143,68.652842M107.885714,68.181414L108.314286,68.181414M107.8,68.438557L108.1,67.538557L108.4,68.438557M108.657143,67.624271L108.7,67.581414L108.785715,67.538557L109,67.538557L109.085715,67.581414L109.128572,67.624271L109.171429,67.709985L109.171429,67.7957L109.128572,67.924271L108.614286,68.438557L109.171429,68.438557"}, {"thickness": 0.15, "svgpath": "M150.935714,64.688557L150.935714,63.788557L151.278571,63.788557L151.364286,63.831414L151.407143,63.874271L151.45,63.959985L151.45,64.088557L151.407143,64.174271L151.364286,64.217128L151.278571,64.259985L150.935714,64.259985M151.835714,64.688557L151.835714,63.788557L152.05,63.788557L152.178571,63.831414L152.264286,63.917128L152.307143,64.002842L152.35,64.174271L152.35,64.302842L152.307143,64.474271L152.264286,64.559985L152.178571,64.6457L152.05,64.688557L151.835714,64.688557M152.907143,63.788557L152.992857,63.788557L153.078571,63.831414L153.121429,63.874271L153.164286,63.959985L153.207143,64.131414L153.207143,64.3457L153.164286,64.517128L153.121429,64.602842L153.078571,64.6457L152.992857,64.688557L152.907143,64.688557L152.821429,64.6457L152.778571,64.602842L152.735714,64.517128L152.692857,64.3457L152.692857,64.131414L152.735714,63.959985L152.778571,63.874271L152.821429,63.831414L152.907143,63.788557"}, {"thickness": 0.15, "svgpath": "M101.688095,63.192295L101.688095,62.392295L101.878571,62.392295L101.992857,62.43039L102.069047,62.50658L102.107142,62.582771L102.145238,62.735152L102.145238,62.849438L102.107142,63.001819L102.069047,63.078009L101.992857,63.1542L101.878571,63.192295L101.688095,63.192295M102.907142,63.192295L102.449999,63.192295M102.678571,63.192295L102.678571,62.392295L102.60238,62.50658L102.52619,62.582771L102.449999,62.620866M103.592857,62.658961L103.592857,63.192295M103.402381,62.3542L103.211904,62.925628L103.707143,62.925628M104.583333,62.3542L103.897619,63.382771M104.811904,62.963723L105.192857,62.963723M104.735714,63.192295L105.002381,62.392295L105.269047,63.192295M105.688095,62.392295L105.764285,62.392295L105.840476,62.43039L105.878571,62.468485L105.916666,62.544676L105.954761,62.697057L105.954761,62.887533L105.916666,63.039914L105.878571,63.116104L105.840476,63.1542L105.764285,63.192295L105.688095,63.192295L105.611904,63.1542L105.573809,63.116104L105.535714,63.039914L105.497618,62.887533L105.497618,62.697057L105.535714,62.544676L105.573809,62.468485L105.611904,62.43039L105.688095,62.392295M106.869047,62.3542L106.183333,63.382771M107.135714,63.192295L107.135714,62.392295L107.40238,62.963723L107.669047,62.392295L107.669047,63.192295M108.05,63.192295L108.05,62.392295M108.849999,63.192295L108.392856,63.192295M108.621428,63.192295L108.621428,62.392295L108.545237,62.50658L108.469047,62.582771L108.392856,62.620866"}, {"thickness": 0.15, "svgpath": "M106.878571,87.488557L106.878571,86.588557L107.221428,86.588557L107.307143,86.631414L107.35,86.674271L107.392857,86.759985L107.392857,86.888557L107.35,86.974271L107.307143,87.017128L107.221428,87.059985L106.878571,87.059985M107.778571,87.017128L108.078571,87.017128M108.207143,87.488557L107.778571,87.488557L107.778571,86.588557L108.207143,86.588557M109.064286,87.488557L108.55,87.488557M108.807143,87.488557L108.807143,86.588557L108.721429,86.717128L108.635714,86.802842L108.55,86.8457"}, {"thickness": 0.15, "svgpath": "M150.921428,65.074271L151.092856,64.9457L151.264285,65.074271M151.564285,65.888557L151.564285,64.988557L151.778571,64.988557L151.907142,65.031414L151.992857,65.117128L152.035714,65.202842L152.078571,65.374271L152.078571,65.502842L152.035714,65.674271L151.992857,65.759985L151.907142,65.8457L151.778571,65.888557L151.564285,65.888557M152.635714,64.988557L152.721428,64.988557L152.807142,65.031414L152.85,65.074271L152.892857,65.159985L152.935714,65.331414L152.935714,65.5457L152.892857,65.717128L152.85,65.802842L152.807142,65.8457L152.721428,65.888557L152.635714,65.888557L152.55,65.8457L152.507142,65.802842L152.464285,65.717128L152.421428,65.5457L152.421428,65.331414L152.464285,65.159985L152.507142,65.074271L152.55,65.031414L152.635714,64.988557M153.964285,64.9457L153.192857,66.102842M154.778571,65.888557L154.478571,65.459985M154.264285,65.888557L154.264285,64.988557L154.607142,64.988557L154.692857,65.031414L154.735714,65.074271L154.778571,65.159985L154.778571,65.288557L154.735714,65.374271L154.692857,65.417128L154.607142,65.459985L154.264285,65.459985M155.078571,64.988557L155.678571,65.888557M155.678571,64.988557L155.078571,65.888557M156.192857,64.988557L156.278571,64.988557L156.364285,65.031414L156.407143,65.074271L156.45,65.159985L156.492857,65.331414L156.492857,65.5457L156.45,65.717128L156.407143,65.802842L156.364285,65.8457L156.278571,65.888557L156.192857,65.888557L156.107143,65.8457L156.064285,65.802842L156.021428,65.717128L155.978571,65.5457L155.978571,65.331414L156.021428,65.159985L156.064285,65.074271L156.107143,65.031414L156.192857,64.988557"}, {"thickness": 0.15, "svgpath": "M102.133332,75.846033L102.133332,75.146033L102.299999,75.146033L102.399999,75.179366L102.466666,75.246033L102.499999,75.3127L102.533332,75.446033L102.533332,75.546033L102.499999,75.679366L102.466666,75.746033L102.399999,75.8127L102.299999,75.846033L102.133332,75.846033M103.199999,75.846033L102.799999,75.846033M102.999999,75.846033L102.999999,75.146033L102.933332,75.246033L102.866666,75.3127L102.799999,75.346033M103.533333,75.846033L103.666666,75.846033L103.733333,75.8127L103.766666,75.779366L103.833333,75.679366L103.866666,75.546033L103.866666,75.279366L103.833333,75.2127L103.799999,75.179366L103.733333,75.146033L103.599999,75.146033L103.533333,75.179366L103.499999,75.2127L103.466666,75.279366L103.466666,75.446033L103.499999,75.5127L103.533333,75.546033L103.599999,75.579366L103.733333,75.579366L103.799999,75.546033L103.833333,75.5127L103.866666,75.446033M104.666666,75.1127L104.066666,76.0127M104.866666,75.646033L105.199999,75.646033M104.799999,75.846033L105.033333,75.146033L105.266666,75.846033M105.833333,75.146033L105.499999,75.146033L105.466666,75.479366L105.499999,75.446033L105.566666,75.4127L105.733333,75.4127L105.799999,75.446033L105.833333,75.479366L105.866666,75.546033L105.866666,75.7127L105.833333,75.779366L105.799999,75.8127L105.733333,75.846033L105.566666,75.846033L105.499999,75.8127L105.466666,75.779366M106.666666,75.1127L106.066666,76.0127M106.866666,75.8127L106.966666,75.846033L107.133333,75.846033L107.199999,75.8127L107.233333,75.779366L107.266666,75.7127L107.266666,75.646033L107.233333,75.579366L107.199999,75.546033L107.133333,75.5127L106.999999,75.479366L106.933333,75.446033L106.899999,75.4127L106.866666,75.346033L106.866666,75.279366L106.899999,75.2127L106.933333,75.179366L106.999999,75.146033L107.166666,75.146033L107.266666,75.179366M107.966666,75.779366L107.933333,75.8127L107.833333,75.846033L107.766666,75.846033L107.666666,75.8127L107.6,75.746033L107.566666,75.679366L107.533333,75.546033L107.533333,75.446033L107.566666,75.3127L107.6,75.246033L107.666666,75.179366L107.766666,75.146033L107.833333,75.146033L107.933333,75.179366L107.966666,75.2127M108.6,75.846033L108.266666,75.846033L108.266666,75.146033M108.966667,75.146033L109.033333,75.146033L109.1,75.179366L109.133333,75.2127L109.166667,75.279366L109.2,75.4127L109.2,75.579366L109.166667,75.7127L109.133333,75.779366L109.1,75.8127L109.033333,75.846033L108.966667,75.846033L108.9,75.8127L108.866667,75.779366L108.833333,75.7127L108.8,75.579366L108.8,75.4127L108.833333,75.279366L108.866667,75.2127L108.9,75.179366L108.966667,75.146033"}, {"thickness": 0.15, "svgpath": "M106.835714,79.938557L106.835714,79.038557L107.178571,79.038557L107.264286,79.081414L107.307143,79.124271L107.35,79.209985L107.35,79.338557L107.307143,79.424271L107.264286,79.467128L107.178571,79.509985L106.835714,79.509985M108.035714,79.467128L108.164286,79.509985L108.207143,79.552842L108.25,79.638557L108.25,79.767128L108.207143,79.852842L108.164286,79.8957L108.078571,79.938557L107.735714,79.938557L107.735714,79.038557L108.035714,79.038557L108.121429,79.081414L108.164286,79.124271L108.207143,79.209985L108.207143,79.2957L108.164286,79.381414L108.121429,79.424271L108.035714,79.467128L107.735714,79.467128M108.55,79.038557L109.15,79.038557L108.764286,79.938557"}, {"thickness": 0.15, "svgpath": "M150.835714,84.988557L150.835714,84.088557L151.178571,84.088557L151.264286,84.131414L151.307143,84.174271L151.35,84.259985L151.35,84.388557L151.307143,84.474271L151.264286,84.517128L151.178571,84.559985L150.835714,84.559985M151.735714,84.988557L151.735714,84.088557L151.95,84.088557L152.078571,84.131414L152.164286,84.217128L152.207143,84.302842L152.25,84.474271L152.25,84.602842L152.207143,84.774271L152.164286,84.859985L152.078571,84.9457L151.95,84.988557L151.735714,84.988557M153.021429,84.088557L152.85,84.088557L152.764286,84.131414L152.721429,84.174271L152.635714,84.302842L152.592857,84.474271L152.592857,84.817128L152.635714,84.902842L152.678571,84.9457L152.764286,84.988557L152.935714,84.988557L153.021429,84.9457L153.064286,84.902842L153.107143,84.817128L153.107143,84.602842L153.064286,84.517128L153.021429,84.474271L152.935714,84.431414L152.764286,84.431414L152.678571,84.474271L152.635714,84.517128L152.592857,84.602842"}, {"thickness": 0.375, "svgpath": "M110.000001,108.425857L110.714287,108.425857M109.857144,108.854428L110.357144,107.354428L110.857144,108.854428M111.142858,107.354428L112.000001,107.354428M111.571429,108.854428L111.571429,107.354428M112.5,108.854428L112.5,107.854428M112.5,107.997285L112.571429,107.925857L112.714286,107.854428L112.928572,107.854428L113.071429,107.925857L113.142858,108.068714L113.142858,108.854428M113.142858,108.068714L113.214286,107.925857L113.357143,107.854428L113.571429,107.854428L113.714286,107.925857L113.785715,108.068714L113.785715,108.854428M115.071429,108.783L114.928572,108.854428L114.642858,108.854428L114.5,108.783L114.428572,108.640142L114.428572,108.068714L114.5,107.925857L114.642858,107.854428L114.928572,107.854428L115.071429,107.925857L115.142858,108.068714L115.142858,108.211571L114.428572,108.354428M116.428572,107.854428L116.428572,109.068714L116.357143,109.211571L116.285714,109.283L116.142857,109.354428L115.928572,109.354428L115.785714,109.283M116.428572,108.783L116.285714,108.854428L116,108.854428L115.857143,108.783L115.785714,108.711571L115.714286,108.568714L115.714286,108.140142L115.785714,107.997285L115.857143,107.925857L116,107.854428L116.285714,107.854428L116.428572,107.925857M117.785715,108.854428L117.785715,108.068714L117.714286,107.925857L117.571429,107.854428L117.285715,107.854428L117.142857,107.925857M117.785715,108.783L117.642857,108.854428L117.285715,108.854428L117.142857,108.783L117.071429,108.640142L117.071429,108.497285L117.142857,108.354428L117.285715,108.283L117.642857,108.283L117.785715,108.211571M118.357143,107.354428L119.285715,107.354428L118.785715,107.925857L119,107.925857L119.142858,107.997285L119.214286,108.068714L119.285715,108.211571L119.285715,108.568714L119.214286,108.711571L119.142858,108.783L119,108.854428L118.571429,108.854428L118.428572,108.783L118.357143,108.711571M119.857143,107.497285L119.928571,107.425857L120.071429,107.354428L120.428571,107.354428L120.571429,107.425857L120.642857,107.497285L120.714286,107.640142L120.714286,107.783L120.642857,107.997285L119.785714,108.854428L120.714286,108.854428M121.571428,107.997285L121.428571,107.925857L121.357142,107.854428L121.285714,107.711571L121.285714,107.640142L121.357142,107.497285L121.428571,107.425857L121.571428,107.354428L121.857142,107.354428L122,107.425857L122.071428,107.497285L122.142857,107.640142L122.142857,107.711571L122.071428,107.854428L122,107.925857L121.857142,107.997285L121.571428,107.997285L121.428571,108.068714L121.357142,108.140142L121.285714,108.283L121.285714,108.568714L121.357142,108.711571L121.428571,108.783L121.571428,108.854428L121.857142,108.854428L122,108.783L122.071428,108.711571L122.142857,108.568714L122.142857,108.283L122.071428,108.140142L122,108.068714L121.857142,107.997285M122.785713,108.854428L122.785713,107.354428L123.357142,107.354428L123.499999,107.425857L123.571428,107.497285L123.642856,107.640142L123.642856,107.854428L123.571428,107.997285L123.499999,108.068714L123.357142,108.140142L122.785713,108.140142M124.785713,108.068714L124.999999,108.140142L125.071428,108.211571L125.142856,108.354428L125.142856,108.568714L125.071428,108.711571L124.999999,108.783L124.857142,108.854428L124.285713,108.854428L124.285713,107.354428L124.785713,107.354428L124.928571,107.425857L124.999999,107.497285L125.071428,107.640142L125.071428,107.783L124.999999,107.925857L124.928571,107.997285L124.785713,108.068714L124.285713,108.068714M125.785713,108.283L126.928571,108.283M127.642856,108.854428L127.642856,107.354428M127.642856,107.925857L127.785714,107.854428L128.071428,107.854428L128.214285,107.925857L128.285714,107.997285L128.357142,108.140142L128.357142,108.568714L128.285714,108.711571L128.214285,108.783L128.071428,108.854428L127.785714,108.854428L127.642856,108.783M128.999999,108.854428L128.999999,107.854428M128.999999,108.140142L129.071428,107.997285L129.142857,107.925857L129.285714,107.854428L129.428571,107.854428M130.499999,108.783L130.357142,108.854428L130.071428,108.854428L129.92857,108.783L129.857142,108.640142L129.857142,108.068714L129.92857,107.925857L130.071428,107.854428L130.357142,107.854428L130.499999,107.925857L130.571428,108.068714L130.571428,108.211571L129.857142,108.354428M131.857142,108.854428L131.857142,108.068714L131.785713,107.925857L131.642856,107.854428L131.357142,107.854428L131.214284,107.925857M131.857142,108.783L131.714284,108.854428L131.357142,108.854428L131.214284,108.783L131.142856,108.640142L131.142856,108.497285L131.214284,108.354428L131.357142,108.283L131.714284,108.283L131.857142,108.211571M133.214285,108.854428L133.214285,107.354428M133.214285,108.783L133.071427,108.854428L132.785713,108.854428L132.642856,108.783L132.571427,108.711571L132.499999,108.568714L132.499999,108.140142L132.571427,107.997285L132.642856,107.925857L132.785713,107.854428L133.071427,107.854428L133.214285,107.925857M133.92857,108.283L135.071428,108.283M135.785713,108.854428L135.785713,107.354428M135.785713,107.925857L135.928571,107.854428L136.214285,107.854428L136.357142,107.925857L136.428571,107.997285L136.499999,108.140142L136.499999,108.568714L136.428571,108.711571L136.357142,108.783L136.214285,108.854428L135.928571,108.854428L135.785713,108.783M137.357142,108.854428L137.214285,108.783L137.142856,108.711571L137.071428,108.568714L137.071428,108.140142L137.142856,107.997285L137.214285,107.925857L137.357142,107.854428L137.571428,107.854428L137.714285,107.925857L137.785714,107.997285L137.857142,108.140142L137.857142,108.568714L137.785714,108.711571L137.714285,108.783L137.571428,108.854428L137.357142,108.854428M139.142857,108.854428L139.142857,108.068714L139.071428,107.925857L138.928571,107.854428L138.642857,107.854428L138.499999,107.925857M139.142857,108.783L138.999999,108.854428L138.642857,108.854428L138.499999,108.783L138.428571,108.640142L138.428571,108.497285L138.499999,108.354428L138.642857,108.283L138.999999,108.283L139.142857,108.211571M139.857142,108.854428L139.857142,107.854428M139.857142,108.140142L139.928571,107.997285L140,107.925857L140.142857,107.854428L140.285714,107.854428M141.428571,108.854428L141.428571,107.354428M141.428571,108.783L141.285713,108.854428L140.999999,108.854428L140.857142,108.783L140.785713,108.711571L140.714285,108.568714L140.714285,108.140142L140.785713,107.997285L140.857142,107.925857L140.999999,107.854428L141.285713,107.854428L141.428571,107.925857"}, {"thickness": 0.15, "svgpath": "M102.016666,73.346033L102.016666,72.646033L102.183333,72.646033L102.283333,72.679366L102.35,72.746033L102.383333,72.8127L102.416666,72.946033L102.416666,73.046033L102.383333,73.179366L102.35,73.246033L102.283333,73.3127L102.183333,73.346033L102.016666,73.346033M103.083333,73.346033L102.683333,73.346033M102.883333,73.346033L102.883333,72.646033L102.816666,72.746033L102.75,72.8127L102.683333,72.846033M103.483333,72.946033L103.416667,72.9127L103.383333,72.879366L103.35,72.8127L103.35,72.779366L103.383333,72.7127L103.416667,72.679366L103.483333,72.646033L103.616667,72.646033L103.683333,72.679366L103.716667,72.7127L103.75,72.779366L103.75,72.8127L103.716667,72.879366L103.683333,72.9127L103.616667,72.946033L103.483333,72.946033L103.416667,72.979366L103.383333,73.0127L103.35,73.079366L103.35,73.2127L103.383333,73.279366L103.416667,73.3127L103.483333,73.346033L103.616667,73.346033L103.683333,73.3127L103.716667,73.279366L103.75,73.2127L103.75,73.079366L103.716667,73.0127L103.683333,72.979366L103.616667,72.946033M104.55,72.6127L103.95,73.5127M104.75,73.146033L105.083333,73.146033M104.683333,73.346033L104.916667,72.646033L105.15,73.346033M105.683333,72.879366L105.683333,73.346033M105.516667,72.6127L105.35,73.1127L105.783333,73.1127M106.55,72.6127L105.95,73.5127M106.75,73.3127L106.85,73.346033L107.016667,73.346033L107.083333,73.3127L107.116667,73.279366L107.15,73.2127L107.15,73.146033L107.116667,73.079366L107.083333,73.046033L107.016667,73.0127L106.883333,72.979366L106.816667,72.946033L106.783333,72.9127L106.75,72.846033L106.75,72.779366L106.783333,72.7127L106.816667,72.679366L106.883333,72.646033L107.05,72.646033L107.15,72.679366M107.45,73.346033L107.45,72.646033L107.616667,72.646033L107.716667,72.679366L107.783334,72.746033L107.816667,72.8127L107.85,72.946033L107.85,73.046033L107.816667,73.179366L107.783334,73.246033L107.716667,73.3127L107.616667,73.346033L107.45,73.346033M108.116667,73.146033L108.45,73.146033M108.05,73.346033L108.283334,72.646033L108.516667,73.346033M108.883334,72.646033L108.95,72.646033L109.016667,72.679366L109.05,72.7127L109.083334,72.779366L109.116667,72.9127L109.116667,73.079366L109.083334,73.2127L109.05,73.279366L109.016667,73.3127L108.95,73.346033L108.883334,73.346033L108.816667,73.3127L108.783334,73.279366L108.75,73.2127L108.716667,73.079366L108.716667,72.9127L108.75,72.779366L108.783334,72.7127L108.816667,72.679366L108.883334,72.646033"}, {"thickness": 0.15, "svgpath": "M150.9,75.174271L151.071428,75.0457L151.242857,75.174271M151.542857,75.988557L151.542857,75.088557L151.757143,75.088557L151.885714,75.131414L151.971429,75.217128L152.014286,75.302842L152.057143,75.474271L152.057143,75.602842L152.014286,75.774271L151.971429,75.859985L151.885714,75.9457L151.757143,75.988557L151.542857,75.988557M152.4,75.174271L152.442857,75.131414L152.528572,75.088557L152.742857,75.088557L152.828572,75.131414L152.871429,75.174271L152.914286,75.259985L152.914286,75.3457L152.871429,75.474271L152.357143,75.988557L152.914286,75.988557"}, {"thickness": 0.15, "svgpath": "M150.835714,92.688557L150.835714,91.788557L151.178571,91.788557L151.264286,91.831414L151.307143,91.874271L151.35,91.959985L151.35,92.088557L151.307143,92.174271L151.264286,92.217128L151.178571,92.259985L150.835714,92.259985M152.035714,92.217128L152.164286,92.259985L152.207143,92.302842L152.25,92.388557L152.25,92.517128L152.207143,92.602842L152.164286,92.6457L152.078571,92.688557L151.735714,92.688557L151.735714,91.788557L152.035714,91.788557L152.121429,91.831414L152.164286,91.874271L152.207143,91.959985L152.207143,92.0457L152.164286,92.131414L152.121429,92.174271L152.035714,92.217128L151.735714,92.217128M153.107143,92.688557L152.592857,92.688557M152.85,92.688557L152.85,91.788557L152.764286,91.917128L152.678571,92.002842L152.592857,92.0457"}, {"thickness": 0.15, "svgpath": "M100.483334,98.9327L100.450001,98.899366L100.383334,98.799366L100.350001,98.7327L100.316668,98.6327L100.283334,98.466033L100.283334,98.3327L100.316668,98.166033L100.350001,98.066033L100.383334,97.999366L100.450001,97.899366L100.483334,97.866033M100.650001,97.966033L100.883335,98.666033L101.116668,97.966033M101.750001,98.599366L101.716668,98.6327L101.616668,98.666033L101.550001,98.666033L101.450001,98.6327L101.383335,98.566033L101.350001,98.499366L101.316668,98.366033L101.316668,98.266033L101.350001,98.1327L101.383335,98.066033L101.450001,97.999366L101.550001,97.966033L101.616668,97.966033L101.716668,97.999366L101.750001,98.0327M102.450001,98.599366L102.416668,98.6327L102.316668,98.666033L102.250001,98.666033L102.150001,98.6327L102.083335,98.566033L102.050001,98.499366L102.016668,98.366033L102.016668,98.266033L102.050001,98.1327L102.083335,98.066033L102.150001,97.999366L102.250001,97.966033L102.316668,97.966033L102.416668,97.999366L102.450001,98.0327M103.216668,98.199366L103.383334,98.666033L103.550001,98.199366M103.816667,98.666033L103.816667,98.199366M103.816667,97.966033L103.783334,97.999366L103.816667,98.0327L103.850001,97.999366L103.816667,97.966033L103.816667,98.0327M104.45,98.666033L104.45,98.299366L104.416667,98.2327L104.35,98.199366L104.216667,98.199366L104.15,98.2327M104.45,98.6327L104.383334,98.666033L104.216667,98.666033L104.15,98.6327L104.116667,98.566033L104.116667,98.499366L104.15,98.4327L104.216667,98.399366L104.383334,98.399366L104.45,98.366033M105.316666,98.199366L105.316666,98.799366L105.283333,98.866033L105.216666,98.899366L105.183333,98.899366M105.316666,97.966033L105.283333,97.999366L105.316666,98.0327L105.35,97.999366L105.316666,97.966033L105.316666,98.0327M105.949999,98.199366L105.949999,98.666033M105.649999,98.199366L105.649999,98.566033L105.683333,98.6327L105.749999,98.666033L105.849999,98.666033L105.916666,98.6327L105.949999,98.599366M106.283332,98.666033L106.283332,98.199366M106.283332,98.266033L106.316666,98.2327L106.383332,98.199366L106.483332,98.199366L106.549999,98.2327L106.583332,98.299366L106.583332,98.666033M106.583332,98.299366L106.616666,98.2327L106.683332,98.199366L106.783332,98.199366L106.849999,98.2327L106.883332,98.299366L106.883332,98.666033M107.216665,98.199366L107.216665,98.899366M107.216665,98.2327L107.283332,98.199366L107.416665,98.199366L107.483332,98.2327L107.516665,98.266033L107.549999,98.3327L107.549999,98.5327L107.516665,98.599366L107.483332,98.6327L107.416665,98.666033L107.283332,98.666033L107.216665,98.6327M108.116665,98.6327L108.049998,98.666033L107.916665,98.666033L107.849998,98.6327L107.816665,98.566033L107.816665,98.299366L107.849998,98.2327L107.916665,98.199366L108.049998,98.199366L108.116665,98.2327L108.149998,98.299366L108.149998,98.366033L107.816665,98.4327M108.449998,98.666033L108.449998,98.199366M108.449998,98.3327L108.483332,98.266033L108.516665,98.2327L108.583332,98.199366L108.649998,98.199366M108.816665,98.9327L108.849998,98.899366L108.916665,98.799366L108.949998,98.7327L108.983331,98.6327L109.016665,98.466033L109.016665,98.3327L108.983331,98.166033L108.949998,98.066033L108.916665,97.999366L108.849998,97.899366L108.816665,97.866033"}, {"thickness": 0.15, "svgpath": "M106.835714,82.508557L106.835714,81.608557L107.178571,81.608557L107.264286,81.651414L107.307143,81.694271L107.35,81.779985L107.35,81.908557L107.307143,81.994271L107.264286,82.037128L107.178571,82.079985L106.835714,82.079985M108.25,82.422842L108.207143,82.4657L108.078571,82.508557L107.992857,82.508557L107.864286,82.4657L107.778571,82.379985L107.735714,82.294271L107.692857,82.122842L107.692857,81.994271L107.735714,81.822842L107.778571,81.737128L107.864286,81.651414L107.992857,81.608557L108.078571,81.608557L108.207143,81.651414L108.25,81.694271M109.021429,81.608557L108.85,81.608557L108.764286,81.651414L108.721429,81.694271L108.635714,81.822842L108.592857,81.994271L108.592857,82.337128L108.635714,82.422842L108.678571,82.4657L108.764286,82.508557L108.935714,82.508557L109.021429,82.4657L109.064286,82.422842L109.107143,82.337128L109.107143,82.122842L109.064286,82.037128L109.021429,81.994271L108.935714,81.951414L108.764286,81.951414L108.678571,81.994271L108.635714,82.037128L108.592857,82.122842"}, {"thickness": 0.15, "svgpath": "M150.835714,100.188557L150.835714,99.288557L151.178571,99.288557L151.264286,99.331414L151.307143,99.374271L151.35,99.459985L151.35,99.588557L151.307143,99.674271L151.264286,99.717128L151.178571,99.759985L150.835714,99.759985M152.035714,99.717128L152.164286,99.759985L152.207143,99.802842L152.25,99.888557L152.25,100.017128L152.207143,100.102842L152.164286,100.1457L152.078571,100.188557L151.735714,100.188557L151.735714,99.288557L152.035714,99.288557L152.121429,99.331414L152.164286,99.374271L152.207143,99.459985L152.207143,99.5457L152.164286,99.631414L152.121429,99.674271L152.035714,99.717128L151.735714,99.717128M153.021429,99.588557L153.021429,100.188557M152.807143,99.2457L152.592857,99.888557L153.15,99.888557"}, {"thickness": 0.15, "svgpath": "M106.835714,64.738557L106.835714,63.838557L107.178571,63.838557L107.264286,63.881414L107.307143,63.924271L107.35,64.009985L107.35,64.138557L107.307143,64.224271L107.264286,64.267128L107.178571,64.309985L106.835714,64.309985M108.25,64.652842L108.207143,64.6957L108.078571,64.738557L107.992857,64.738557L107.864286,64.6957L107.778571,64.609985L107.735714,64.524271L107.692857,64.352842L107.692857,64.224271L107.735714,64.052842L107.778571,63.967128L107.864286,63.881414L107.992857,63.838557L108.078571,63.838557L108.207143,63.881414L108.25,63.924271M109.107143,64.738557L108.592857,64.738557M108.85,64.738557L108.85,63.838557L108.764286,63.967128L108.678571,64.052842L108.592857,64.0957"}, {"thickness": 0.15, "svgpath": "M106.878571,84.958557L106.878571,84.058557L107.221428,84.058557L107.307143,84.101414L107.35,84.144271L107.392857,84.229985L107.392857,84.358557L107.35,84.444271L107.307143,84.487128L107.221428,84.529985L106.878571,84.529985M107.778571,84.487128L108.078571,84.487128M108.207143,84.958557L107.778571,84.958557L107.778571,84.058557L108.207143,84.058557M108.764286,84.058557L108.85,84.058557L108.935714,84.101414L108.978572,84.144271L109.021429,84.229985L109.064286,84.401414L109.064286,84.6157L109.021429,84.787128L108.978572,84.872842L108.935714,84.9157L108.85,84.958557L108.764286,84.958557L108.678572,84.9157L108.635714,84.872842L108.592857,84.787128L108.55,84.6157L108.55,84.401414L108.592857,84.229985L108.635714,84.144271L108.678572,84.101414L108.764286,84.058557"}, {"thickness": 0.15, "svgpath": "M102.514285,88.688557L102.514285,87.788557L102.728571,87.788557L102.857142,87.831414L102.942857,87.917128L102.985714,88.002842L103.028571,88.174271L103.028571,88.302842L102.985714,88.474271L102.942857,88.559985L102.857142,88.6457L102.728571,88.688557L102.514285,88.688557M103.371428,87.874271L103.414285,87.831414L103.5,87.788557L103.714285,87.788557L103.8,87.831414L103.842857,87.874271L103.885714,87.959985L103.885714,88.0457L103.842857,88.174271L103.328571,88.688557L103.885714,88.688557M104.657143,88.088557L104.657143,88.688557M104.442857,87.7457L104.228571,88.388557L104.785714,88.388557M105.771428,87.7457L105,88.902842M106.028571,88.6457L106.157143,88.688557L106.371428,88.688557L106.457143,88.6457L106.5,88.602842L106.542857,88.517128L106.542857,88.431414L106.5,88.3457L106.457143,88.302842L106.371428,88.259985L106.2,88.217128L106.114285,88.174271L106.071428,88.131414L106.028571,88.0457L106.028571,87.959985L106.071428,87.874271L106.114285,87.831414L106.2,87.788557L106.414285,87.788557L106.542857,87.831414M107.442857,88.602842L107.4,88.6457L107.271428,88.688557L107.185714,88.688557L107.057143,88.6457L106.971428,88.559985L106.928571,88.474271L106.885714,88.302842L106.885714,88.174271L106.928571,88.002842L106.971428,87.917128L107.057143,87.831414L107.185714,87.788557L107.271428,87.788557L107.4,87.831414L107.442857,87.874271M108.257143,88.688557L107.828571,88.688557L107.828571,87.788557M109.028571,88.688557L108.514285,88.688557M108.771428,88.688557L108.771428,87.788557L108.685714,87.917128L108.599999,88.002842L108.514285,88.0457"}, {"thickness": 0.15, "svgpath": "M150.85,66.888557L151.15,67.788557L151.45,66.888557M152.264286,67.702842L152.221429,67.7457L152.092857,67.788557L152.007143,67.788557L151.878572,67.7457L151.792857,67.659985L151.75,67.574271L151.707143,67.402842L151.707143,67.274271L151.75,67.102842L151.792857,67.017128L151.878572,66.931414L152.007143,66.888557L152.092857,66.888557L152.221429,66.931414L152.264286,66.974271M153.164286,67.702842L153.121429,67.7457L152.992857,67.788557L152.907143,67.788557L152.778572,67.7457L152.692857,67.659985L152.65,67.574271L152.607143,67.402842L152.607143,67.274271L152.65,67.102842L152.692857,67.017128L152.778572,66.931414L152.907143,66.888557L152.992857,66.888557L153.121429,66.931414L153.164286,66.974271"}, {"thickness": 0.15, "svgpath": "M102.035714,81.038557L102.035714,80.138557L102.25,80.138557L102.378571,80.181414L102.464286,80.267128L102.507143,80.352842L102.55,80.524271L102.55,80.652842L102.507143,80.824271L102.464286,80.909985L102.378571,80.9957L102.25,81.038557L102.035714,81.038557M102.892857,80.224271L102.935714,80.181414L103.021429,80.138557L103.235714,80.138557L103.321429,80.181414L103.364286,80.224271L103.407143,80.309985L103.407143,80.3957L103.364286,80.524271L102.85,81.038557L103.407143,81.038557M104.264286,81.038557L103.75,81.038557M104.007143,81.038557L104.007143,80.138557L103.921429,80.267128L103.835714,80.352842L103.75,80.3957M105.292857,80.0957L104.521429,81.252842M105.507143,80.138557L106.107143,81.038557M106.107143,80.138557L105.507143,81.038557M106.321429,80.138557L106.835715,80.138557M106.578572,81.038557L106.578572,80.138557M107.092857,80.781414L107.521429,80.781414M107.007143,81.038557L107.307143,80.138557L107.607143,81.038557M108.335715,81.038557L107.907143,81.038557L107.907143,80.138557M108.592857,80.224271L108.635714,80.181414L108.721429,80.138557L108.935714,80.138557L109.021429,80.181414L109.064286,80.224271L109.107143,80.309985L109.107143,80.3957L109.064286,80.524271L108.55,81.038557L109.107143,81.038557"}, {"thickness": 0.15, "svgpath": "M101.054762,65.892295L101.054762,65.092295L101.245238,65.092295L101.359524,65.13039L101.435714,65.20658L101.473809,65.282771L101.511905,65.435152L101.511905,65.549438L101.473809,65.701819L101.435714,65.778009L101.359524,65.8542L101.245238,65.892295L101.054762,65.892295M102.273809,65.892295L101.816666,65.892295M102.045238,65.892295L102.045238,65.092295L101.969047,65.20658L101.892857,65.282771L101.816666,65.320866M102.997619,65.092295L102.616667,65.092295L102.578571,65.473247L102.616667,65.435152L102.692857,65.397057L102.883333,65.397057L102.959524,65.435152L102.997619,65.473247L103.035714,65.549438L103.035714,65.739914L102.997619,65.816104L102.959524,65.8542L102.883333,65.892295L102.692857,65.892295L102.616667,65.8542L102.578571,65.816104M103.95,65.0542L103.264286,66.082771M104.178571,65.663723L104.559524,65.663723M104.102381,65.892295L104.369048,65.092295L104.635714,65.892295M105.321428,65.892295L104.864285,65.892295M105.092857,65.892295L105.092857,65.092295L105.016666,65.20658L104.940476,65.282771L104.864285,65.320866M106.235714,65.0542L105.55,66.082771M106.464285,65.8542L106.578571,65.892295L106.769047,65.892295L106.845238,65.8542L106.883333,65.816104L106.921428,65.739914L106.921428,65.663723L106.883333,65.587533L106.845238,65.549438L106.769047,65.511342L106.616666,65.473247L106.540476,65.435152L106.502381,65.397057L106.464285,65.320866L106.464285,65.244676L106.502381,65.168485L106.540476,65.13039L106.616666,65.092295L106.807143,65.092295L106.921428,65.13039M107.721429,65.816104L107.683333,65.8542L107.569048,65.892295L107.492857,65.892295L107.378571,65.8542L107.302381,65.778009L107.264286,65.701819L107.22619,65.549438L107.22619,65.435152L107.264286,65.282771L107.302381,65.20658L107.378571,65.13039L107.492857,65.092295L107.569048,65.092295L107.683333,65.13039L107.721429,65.168485M108.064286,65.892295L108.064286,65.092295M108.521429,65.892295L108.178571,65.435152M108.521429,65.092295L108.064286,65.549438M109.283333,65.892295L108.82619,65.892295M109.054762,65.892295L109.054762,65.092295L108.978571,65.20658L108.902381,65.282771L108.82619,65.320866"}, {"thickness": 0.15, "svgpath": "M106.835714,62.138557L106.835714,61.238557L107.178571,61.238557L107.264286,61.281414L107.307143,61.324271L107.35,61.409985L107.35,61.538557L107.307143,61.624271L107.264286,61.667128L107.178571,61.709985L106.835714,61.709985M108.25,62.052842L108.207143,62.0957L108.078571,62.138557L107.992857,62.138557L107.864286,62.0957L107.778571,62.009985L107.735714,61.924271L107.692857,61.752842L107.692857,61.624271L107.735714,61.452842L107.778571,61.367128L107.864286,61.281414L107.992857,61.238557L108.078571,61.238557L108.207143,61.281414L108.25,61.324271M108.807143,61.238557L108.892857,61.238557L108.978571,61.281414L109.021429,61.324271L109.064286,61.409985L109.107143,61.581414L109.107143,61.7957L109.064286,61.967128L109.021429,62.052842L108.978571,62.0957L108.892857,62.138557L108.807143,62.138557L108.721429,62.0957L108.678571,62.052842L108.635714,61.967128L108.592857,61.7957L108.592857,61.581414L108.635714,61.409985L108.678571,61.324271L108.721429,61.281414L108.807143,61.238557"}, {"thickness": 0.15, "svgpath": "M150.835714,79.788557L150.835714,78.888557L151.178571,78.888557L151.264286,78.931414L151.307143,78.974271L151.35,79.059985L151.35,79.188557L151.307143,79.274271L151.264286,79.317128L151.178571,79.359985L150.835714,79.359985M151.735714,79.788557L151.735714,78.888557L151.95,78.888557L152.078571,78.931414L152.164286,79.017128L152.207143,79.102842L152.25,79.274271L152.25,79.402842L152.207143,79.574271L152.164286,79.659985L152.078571,79.7457L151.95,79.788557L151.735714,79.788557M153.021429,79.188557L153.021429,79.788557M152.807143,78.8457L152.592857,79.488557L153.15,79.488557"}, {"thickness": 0.15, "svgpath": "M102.692856,86.188557L102.692856,85.288557L102.907142,85.288557L103.035713,85.331414L103.121428,85.417128L103.164285,85.502842L103.207142,85.674271L103.207142,85.802842L103.164285,85.974271L103.121428,86.059985L103.035713,86.1457L102.907142,86.188557L102.692856,86.188557M103.549999,85.374271L103.592856,85.331414L103.678571,85.288557L103.892856,85.288557L103.978571,85.331414L104.021428,85.374271L104.064285,85.459985L104.064285,85.5457L104.021428,85.674271L103.507142,86.188557L104.064285,86.188557M104.364285,85.288557L104.921428,85.288557L104.621428,85.631414L104.749999,85.631414L104.835714,85.674271L104.878571,85.717128L104.921428,85.802842L104.921428,86.017128L104.878571,86.102842L104.835714,86.1457L104.749999,86.188557L104.492856,86.188557L104.407142,86.1457L104.364285,86.102842M105.949999,85.2457L105.178571,86.402842M106.207142,86.1457L106.335714,86.188557L106.549999,86.188557L106.635714,86.1457L106.678571,86.102842L106.721428,86.017128L106.721428,85.931414L106.678571,85.8457L106.635714,85.802842L106.549999,85.759985L106.378571,85.717128L106.292856,85.674271L106.249999,85.631414L106.207142,85.5457L106.207142,85.459985L106.249999,85.374271L106.292856,85.331414L106.378571,85.288557L106.592856,85.288557L106.721428,85.331414M107.107142,86.188557L107.107142,85.288557L107.321428,85.288557L107.449999,85.331414L107.535714,85.417128L107.578571,85.502842L107.621428,85.674271L107.621428,85.802842L107.578571,85.974271L107.535714,86.059985L107.449999,86.1457L107.321428,86.188557L107.107142,86.188557M107.964285,85.931414L108.392857,85.931414M107.878571,86.188557L108.178571,85.288557L108.478571,86.188557M109.25,86.188557L108.735714,86.188557M108.992857,86.188557L108.992857,85.288557L108.907143,85.417128L108.821428,85.502842L108.735714,85.5457"}, {"type": "segment", "start": [147.72, 60.95], "end": [147.72, 101.65], "width": 0.12}, {"type": "segment", "start": [147.72, 60.95], "end": [150.38, 60.95], "width": 0.12}, {"type": "segment", "start": [147.72, 101.65], "end": [150.38, 101.65], "width": 0.12}, {"type": "segment", "start": [149.05, 58.35], "end": [150.38, 58.35], "width": 0.12}, {"type": "segment", "start": [150.38, 58.35], "end": [150.38, 59.68], "width": 0.12}, {"type": "segment", "start": [150.38, 60.95], "end": [150.38, 101.65], "width": 0.12}, {"type": "segment", "start": [109.62, 60.95], "end": [109.62, 101.65], "width": 0.12}, {"type": "segment", "start": [109.62, 60.95], "end": [112.28, 60.95], "width": 0.12}, {"type": "segment", "start": [109.62, 101.65], "end": [112.28, 101.65], "width": 0.12}, {"type": "segment", "start": [110.95, 58.35], "end": [112.28, 58.35], "width": 0.12}, {"type": "segment", "start": [112.28, 58.35], "end": [112.28, 59.68], "width": 0.12}, {"type": "segment", "start": [112.28, 60.95], "end": [112.28, 101.65], "width": 0.12}], "B": [{"thickness": 0.15, "svgpath": "M123.883332,99.434819L123.549999,100.434819L123.216666,99.434819M122.311904,100.33958L122.359523,100.3872L122.50238,100.434819L122.597618,100.434819L122.740475,100.3872L122.835713,100.291961L122.883332,100.196723L122.930951,100.006247L122.930951,99.86339L122.883332,99.672914L122.835713,99.577676L122.740475,99.482438L122.597618,99.434819L122.50238,99.434819L122.359523,99.482438L122.311904,99.530057M121.311904,100.33958L121.359523,100.3872L121.50238,100.434819L121.597618,100.434819L121.740475,100.3872L121.835713,100.291961L121.883332,100.196723L121.930951,100.006247L121.930951,99.86339L121.883332,99.672914L121.835713,99.577676L121.740475,99.482438L121.597618,99.434819L121.50238,99.434819L121.359523,99.482438L121.311904,99.530057"}, {"thickness": 0.15, "svgpath": "M124.216666,95.549104L123.740476,95.549104M124.311904,95.834819L123.978571,94.834819L123.645238,95.834819M123.454761,94.834819L123.121428,95.834819L122.788095,94.834819M121.883333,95.73958L121.930952,95.7872L122.073809,95.834819L122.169047,95.834819L122.311904,95.7872L122.407142,95.691961L122.454761,95.596723L122.50238,95.406247L122.50238,95.26339L122.454761,95.072914L122.407142,94.977676L122.311904,94.882438L122.169047,94.834819L122.073809,94.834819L121.930952,94.882438L121.883333,94.930057M120.883333,95.73958L120.930952,95.7872L121.073809,95.834819L121.169047,95.834819L121.311904,95.7872L121.407142,95.691961L121.454761,95.596723L121.50238,95.406247L121.50238,95.26339L121.454761,95.072914L121.407142,94.977676L121.311904,94.882438L121.169047,94.834819L121.073809,94.834819L120.930952,94.882438L120.883333,94.930057"}, {"thickness": 0.15, "svgpath": "M123.104666,86.97958L123.152285,87.0272L123.295142,87.074819L123.39038,87.074819L123.533237,87.0272L123.628475,86.931961L123.676094,86.836723L123.723713,86.646247L123.723713,86.50339L123.676094,86.312914L123.628475,86.217676L123.533237,86.122438L123.39038,86.074819L123.295142,86.074819L123.152285,86.122438L123.104666,86.170057M122.152285,87.074819L122.723713,87.074819M122.437999,87.074819L122.437999,86.074819L122.533237,86.217676L122.628475,86.312914L122.723713,86.360533", "ref": 1}, {"type": "segment", "start": [123.045836, 88.14], "end": [122.830164, 88.14], "width": 0.12}, {"type": "segment", "start": [123.045836, 87.42], "end": [122.830164, 87.42], "width": 0.12}, {"thickness": 0.15, "svgpath": "M138.416666,89.29958L138.464285,89.3472L138.607142,89.394819L138.70238,89.394819L138.845237,89.3472L138.940475,89.251961L138.988094,89.156723L139.035713,88.966247L139.035713,88.82339L138.988094,88.632914L138.940475,88.537676L138.845237,88.442438L138.70238,88.394819L138.607142,88.394819L138.464285,88.442438L138.416666,88.490057M138.035713,88.490057L137.988094,88.442438L137.892856,88.394819L137.654761,88.394819L137.559523,88.442438L137.511904,88.490057L137.464285,88.585295L137.464285,88.680533L137.511904,88.82339L138.083332,89.394819L137.464285,89.394819", "ref": 1}, {"type": "segment", "start": [138.142164, 87.42], "end": [138.357836, 87.42], "width": 0.12}, {"type": "segment", "start": [138.142164, 88.14], "end": [138.357836, 88.14], "width": 0.12}, {"thickness": 0.15, "svgpath": "M123.704819,96.746666L124.419104,96.746666L124.561961,96.699047L124.6572,96.603809L124.704819,96.460952L124.704819,96.365714M124.704819,97.222857L123.704819,97.222857L123.704819,97.603809L123.752438,97.699047L123.800057,97.746666L123.895295,97.794285L124.038152,97.794285L124.13339,97.746666L124.181009,97.699047L124.228628,97.603809L124.228628,97.222857M124.704819,98.746666L124.704819,98.175238M124.704819,98.460952L123.704819,98.460952L123.847676,98.365714L123.942914,98.270476L123.990533,98.175238", "ref": 1}, {"type": "segment", "start": [122.15, 98.98], "end": [122.75, 98.98], "width": 0.12}, {"type": "segment", "start": [123.45, 98.28], "end": [123.45, 96.88], "width": 0.12}, {"type": "segment", "start": [121.45, 96.88], "end": [121.45, 98.28], "width": 0.12}, {"type": "segment", "start": [122.75, 96.18], "end": [122.15, 96.18], "width": 0.12}, {"type": "arc", "start": [122.149999, 98.280001], "radius": 0.699999, "startangle": 90.0, "endangle": 180.0, "width": 0.12}, {"type": "arc", "start": [122.750001, 98.280001], "radius": 0.699999, "startangle": -0.0, "endangle": 90.0, "width": 0.12}, {"type": "arc", "start": [122.15, 96.88], "radius": 0.7, "startangle": -180.0, "endangle": -90.0, "width": 0.12}, {"type": "arc", "start": [122.75, 96.88], "radius": 0.7, "startangle": -90.0, "endangle": 0.0, "width": 0.12}, {"thickness": 0.15, "svgpath": "M131.611904,83.714819L131.611904,84.524342L131.564285,84.61958L131.516666,84.6672L131.421428,84.714819L131.230952,84.714819L131.135714,84.6672L131.088095,84.61958L131.040476,84.524342L131.040476,83.714819M130.040476,84.714819L130.611904,84.714819M130.32619,84.714819L130.32619,83.714819L130.421428,83.857676L130.516666,83.952914L130.611904,84.000533", "ref": 1}, {"type": "segment", "start": [133.46, 90.69], "end": [133.46, 90.215], "width": 0.12}, {"type": "segment", "start": [132.985, 90.69], "end": [133.46, 90.69], "width": 0.12}, {"type": "segment", "start": [132.985, 85.47], "end": [133.46, 85.47], "width": 0.12}, {"type": "segment", "start": [128.715, 90.69], "end": [128.24, 90.69], "width": 0.12}, {"type": "segment", "start": [128.715, 85.47], "end": [128.24, 85.47], "width": 0.12}, {"type": "segment", "start": [128.24, 90.69], "end": [128.24, 90.215], "width": 0.12}, {"type": "segment", "start": [128.24, 85.47], "end": [128.24, 85.945], "width": 0.12}, {"thickness": 0.15, "svgpath": "M130.34958,77.833333L130.3972,77.785714L130.444819,77.642857L130.444819,77.547619L130.3972,77.404762L130.301961,77.309524L130.206723,77.261905L130.016247,77.214286L129.87339,77.214286L129.682914,77.261905L129.587676,77.309524L129.492438,77.404762L129.444819,77.547619L129.444819,77.642857L129.492438,77.785714L129.540057,77.833333M129.444819,78.166667L129.444819,78.785714L129.825771,78.452381L129.825771,78.595238L129.87339,78.690476L129.921009,78.738095L130.016247,78.785714L130.254342,78.785714L130.34958,78.738095L130.3972,78.690476L130.444819,78.595238L130.444819,78.309524L130.3972,78.214286L130.34958,78.166667", "ref": 1}, {"type": "segment", "start": [131.51, 77.892164], "end": [131.51, 78.107836], "width": 0.12}, {"type": "segment", "start": [130.79, 77.892164], "end": [130.79, 78.107836], "width": 0.12}, {"thickness": 0.15, "svgpath": "M134.166666,76.974819L134.499999,76.498628M134.738094,76.974819L134.738094,75.974819L134.357142,75.974819L134.261904,76.022438L134.214285,76.070057L134.166666,76.165295L134.166666,76.308152L134.214285,76.40339L134.261904,76.451009L134.357142,76.498628L134.738094,76.498628M133.214285,76.974819L133.785713,76.974819M133.499999,76.974819L133.499999,75.974819L133.595237,76.117676L133.690475,76.212914L133.785713,76.260533", "ref": 1}, {"type": "segment", "start": [134.237258, 78.4725], "end": [133.762742, 78.4725], "width": 0.12}, {"type": "segment", "start": [134.237258, 77.4275], "end": [133.762742, 77.4275], "width": 0.12}]}, "fabrication": {"F": [{"thickness": 0.15, "svgpath": "M145.311904,103.44958L145.264285,103.4972L145.121428,103.544819L145.02619,103.544819L144.883333,103.4972L144.788095,103.401961L144.740476,103.306723L144.692857,103.116247L144.692857,102.97339L144.740476,102.782914L144.788095,102.687676L144.883333,102.592438L145.02619,102.544819L145.121428,102.544819L145.264285,102.592438L145.311904,102.640057M145.883333,103.544819L145.788095,103.4972L145.740476,103.44958L145.692857,103.354342L145.692857,103.068628L145.740476,102.97339L145.788095,102.925771L145.883333,102.878152L146.02619,102.878152L146.121428,102.925771L146.169047,102.97339L146.216666,103.068628L146.216666,103.354342L146.169047,103.44958L146.121428,103.4972L146.02619,103.544819L145.883333,103.544819M146.645238,102.878152L146.645238,103.544819M146.645238,102.97339L146.692857,102.925771L146.788095,102.878152L146.930952,102.878152L147.02619,102.925771L147.073809,103.021009L147.073809,103.544819M147.55,102.878152L147.55,103.544819M147.55,102.97339L147.597619,102.925771L147.692857,102.878152L147.835714,102.878152L147.930952,102.925771L147.978571,103.021009L147.978571,103.544819M148.216667,103.640057L148.978571,103.640057M149.407143,102.544819L149.502381,102.544819L149.597619,102.592438L149.645238,102.640057L149.692857,102.735295L149.740476,102.925771L149.740476,103.163866L149.692857,103.354342L149.645238,103.44958L149.597619,103.4972L149.502381,103.544819L149.407143,103.544819L149.311905,103.4972L149.264286,103.44958L149.216667,103.354342L149.169048,103.163866L149.169048,102.925771L149.216667,102.735295L149.264286,102.640057L149.311905,102.592438L149.407143,102.544819M150.692857,103.544819L150.121429,103.544819M150.407143,103.544819L150.407143,102.544819L150.311905,102.687676L150.216667,102.782914L150.121429,102.830533M151.026191,103.544819L151.55,102.878152M151.026191,102.878152L151.55,103.544819M152.454762,103.544819L151.883334,103.544819M152.169048,103.544819L152.169048,102.544819L152.07381,102.687676L151.978572,102.782914L151.883334,102.830533M152.788096,102.544819L153.454762,102.544819L153.026191,103.544819", "val": 1}, {"thickness": 0.15, "svgpath": "M148.504819,80.333333L149.219104,80.333333L149.361961,80.380952L149.4572,80.47619L149.504819,80.619047L149.504819,80.714285M149.504819,79.333333L149.504819,79.904761M149.504819,79.619047L148.504819,79.619047L148.647676,79.714285L148.742914,79.809523L148.790533,79.904761"}, {"type": "segment", "start": [147.78, 58.41], "end": [149.685, 58.41], "width": 0.1}, {"type": "segment", "start": [147.78, 101.59], "end": [147.78, 58.41], "width": 0.1}, {"type": "segment", "start": [149.685, 58.41], "end": [150.32, 59.045], "width": 0.1}, {"type": "segment", "start": [150.32, 59.045], "end": [150.32, 101.59], "width": 0.1}, {"type": "segment", "start": [150.32, 101.59], "end": [147.78, 101.59], "width": 0.1}, {"thickness": 0.15, "svgpath": "M107.211904,103.44958L107.164285,103.4972L107.021428,103.544819L106.92619,103.544819L106.783333,103.4972L106.688095,103.401961L106.640476,103.306723L106.592857,103.116247L106.592857,102.97339L106.640476,102.782914L106.688095,102.687676L106.783333,102.592438L106.92619,102.544819L107.021428,102.544819L107.164285,102.592438L107.211904,102.640057M107.783333,103.544819L107.688095,103.4972L107.640476,103.44958L107.592857,103.354342L107.592857,103.068628L107.640476,102.97339L107.688095,102.925771L107.783333,102.878152L107.92619,102.878152L108.021428,102.925771L108.069047,102.97339L108.116666,103.068628L108.116666,103.354342L108.069047,103.44958L108.021428,103.4972L107.92619,103.544819L107.783333,103.544819M108.545238,102.878152L108.545238,103.544819M108.545238,102.97339L108.592857,102.925771L108.688095,102.878152L108.830952,102.878152L108.92619,102.925771L108.973809,103.021009L108.973809,103.544819M109.45,102.878152L109.45,103.544819M109.45,102.97339L109.497619,102.925771L109.592857,102.878152L109.735714,102.878152L109.830952,102.925771L109.878571,103.021009L109.878571,103.544819M110.116667,103.640057L110.878571,103.640057M111.307143,102.544819L111.402381,102.544819L111.497619,102.592438L111.545238,102.640057L111.592857,102.735295L111.640476,102.925771L111.640476,103.163866L111.592857,103.354342L111.545238,103.44958L111.497619,103.4972L111.402381,103.544819L111.307143,103.544819L111.211905,103.4972L111.164286,103.44958L111.116667,103.354342L111.069048,103.163866L111.069048,102.925771L111.116667,102.735295L111.164286,102.640057L111.211905,102.592438L111.307143,102.544819M112.592857,103.544819L112.021429,103.544819M112.307143,103.544819L112.307143,102.544819L112.211905,102.687676L112.116667,102.782914L112.021429,102.830533M112.926191,103.544819L113.45,102.878152M112.926191,102.878152L113.45,103.544819M114.354762,103.544819L113.783334,103.544819M114.069048,103.544819L114.069048,102.544819L113.97381,102.687676L113.878572,102.782914L113.783334,102.830533M114.688096,102.544819L115.354762,102.544819L114.926191,103.544819", "val": 1}, {"thickness": 0.15, "svgpath": "M110.404819,80.333333L111.119104,80.333333L111.261961,80.380952L111.3572,80.47619L111.404819,80.619047L111.404819,80.714285M110.500057,79.904761L110.452438,79.857142L110.404819,79.761904L110.404819,79.523809L110.452438,79.428571L110.500057,79.380952L110.595295,79.333333L110.690533,79.333333L110.83339,79.380952L111.404819,79.95238L111.404819,79.333333"}, {"type": "segment", "start": [109.68, 58.41], "end": [111.585, 58.41], "width": 0.1}, {"type": "segment", "start": [109.68, 101.59], "end": [109.68, 58.41], "width": 0.1}, {"type": "segment", "start": [111.585, 58.41], "end": [112.22, 59.045], "width": 0.1}, {"type": "segment", "start": [112.22, 59.045], "end": [112.22, 101.59], "width": 0.1}, {"type": "segment", "start": [112.22, 101.59], "end": [109.68, 101.59], "width": 0.1}, {"thickness": 0.15, "svgpath": "M102.75238,106.954819L102.419047,106.478628M102.180952,106.954819L102.180952,105.954819L102.561904,105.954819L102.657142,106.002438L102.704761,106.050057L102.75238,106.145295L102.75238,106.288152L102.704761,106.38339L102.657142,106.431009L102.561904,106.478628L102.180952,106.478628M103.180952,106.431009L103.514285,106.431009M103.657142,106.954819L103.180952,106.954819L103.180952,105.954819L103.657142,105.954819M104.419047,106.431009L104.085714,106.431009M104.085714,106.954819L104.085714,105.954819L104.561904,105.954819M105.466666,106.954819L104.895238,106.954819M105.180952,106.954819L105.180952,105.954819L105.085714,106.097676L104.990476,106.192914L104.895238,106.240533"}, {"thickness": 0.15, "svgpath": "M102.75238,53.954819L102.419047,53.478628M102.180952,53.954819L102.180952,52.954819L102.561904,52.954819L102.657142,53.002438L102.704761,53.050057L102.75238,53.145295L102.75238,53.288152L102.704761,53.38339L102.657142,53.431009L102.561904,53.478628L102.180952,53.478628M103.180952,53.431009L103.514285,53.431009M103.657142,53.954819L103.180952,53.954819L103.180952,52.954819L103.657142,52.954819M104.419047,53.431009L104.085714,53.431009M104.085714,53.954819L104.085714,52.954819L104.561904,52.954819M105.371428,53.288152L105.371428,53.954819M105.133333,52.9072L104.895238,53.621485L105.514285,53.621485"}, {"thickness": 0.15, "svgpath": "M142.071428,110.804819L142.071428,109.804819L142.404761,110.519104L142.738094,109.804819L142.738094,110.804819M143.357142,110.804819L143.261904,110.7572L143.214285,110.70958L143.166666,110.614342L143.166666,110.328628L143.214285,110.23339L143.261904,110.185771L143.357142,110.138152L143.499999,110.138152L143.595237,110.185771L143.642856,110.23339L143.690475,110.328628L143.690475,110.614342L143.642856,110.70958L143.595237,110.7572L143.499999,110.804819L143.357142,110.804819M144.547618,110.138152L144.547618,110.804819M144.119047,110.138152L144.119047,110.661961L144.166666,110.7572L144.261904,110.804819L144.404761,110.804819L144.499999,110.7572L144.547618,110.70958M145.023809,110.138152L145.023809,110.804819M145.023809,110.23339L145.071428,110.185771L145.166666,110.138152L145.309523,110.138152L145.404761,110.185771L145.45238,110.281009L145.45238,110.804819M145.785714,110.138152L146.166666,110.138152M145.928571,109.804819L145.928571,110.661961L145.97619,110.7572L146.071428,110.804819L146.166666,110.804819M146.5,110.804819L146.5,110.138152M146.5,109.804819L146.452381,109.852438L146.5,109.900057L146.547619,109.852438L146.5,109.804819L146.5,109.900057M146.97619,110.138152L146.97619,110.804819M146.97619,110.23339L147.023809,110.185771L147.119047,110.138152L147.261904,110.138152L147.357142,110.185771L147.404761,110.281009L147.404761,110.804819M148.309523,110.138152L148.309523,110.947676L148.261904,111.042914L148.214285,111.090533L148.119047,111.138152L147.97619,111.138152L147.880952,111.090533M148.309523,110.7572L148.214285,110.804819L148.023809,110.804819L147.928571,110.7572L147.880952,110.70958L147.833333,110.614342L147.833333,110.328628L147.880952,110.23339L147.928571,110.185771L148.023809,110.138152L148.214285,110.138152L148.309523,110.185771M148.785714,110.804819L148.785714,109.804819M148.785714,110.281009L149.357142,110.281009M149.357142,110.804819L149.357142,109.804819M149.97619,110.804819L149.880952,110.7572L149.833333,110.70958L149.785714,110.614342L149.785714,110.328628L149.833333,110.23339L149.880952,110.185771L149.97619,110.138152L150.119047,110.138152L150.214285,110.185771L150.261904,110.23339L150.309523,110.328628L150.309523,110.614342L150.261904,110.70958L150.214285,110.7572L150.119047,110.804819L149.97619,110.804819M150.880952,110.804819L150.785714,110.7572L150.738095,110.661961L150.738095,109.804819M151.642857,110.7572L151.547619,110.804819L151.357143,110.804819L151.261905,110.7572L151.214286,110.661961L151.214286,110.281009L151.261905,110.185771L151.357143,110.138152L151.547619,110.138152L151.642857,110.185771L151.690476,110.281009L151.690476,110.376247L151.214286,110.471485M151.880953,110.900057L152.642857,110.900057M152.785715,109.804819L153.404762,109.804819L153.071429,110.185771L153.214286,110.185771L153.309524,110.23339L153.357143,110.281009L153.404762,110.376247L153.404762,110.614342L153.357143,110.70958L153.309524,110.7572L153.214286,110.804819L152.928572,110.804819L152.833334,110.7572L152.785715,110.70958M153.833334,110.70958L153.880953,110.7572L153.833334,110.804819L153.785715,110.7572L153.833334,110.70958L153.833334,110.804819M154.261905,109.900057L154.309524,109.852438L154.404762,109.804819L154.642857,109.804819L154.738095,109.852438L154.785714,109.900057L154.833333,109.995295L154.833333,110.090533L154.785714,110.23339L154.214286,110.804819L154.833333,110.804819M155.261905,110.804819L155.261905,110.138152M155.261905,110.23339L155.309524,110.185771L155.404762,110.138152L155.547619,110.138152L155.642857,110.185771L155.690476,110.281009L155.690476,110.804819M155.690476,110.281009L155.738095,110.185771L155.833333,110.138152L155.97619,110.138152L156.071429,110.185771L156.119048,110.281009L156.119048,110.804819M156.595238,110.804819L156.595238,110.138152M156.595238,110.23339L156.642857,110.185771L156.738095,110.138152L156.880952,110.138152L156.97619,110.185771L157.023809,110.281009L157.023809,110.804819M157.023809,110.281009L157.071428,110.185771L157.166666,110.138152L157.309523,110.138152L157.404762,110.185771L157.452381,110.281009L157.452381,110.804819M157.690476,110.900057L158.45238,110.900057M158.690476,110.804819L158.690476,109.804819L159.023809,110.519104L159.357142,109.804819L159.357142,110.804819M159.738095,109.804819L160.357142,109.804819L160.023809,110.185771L160.166666,110.185771L160.261904,110.23339L160.309523,110.281009L160.357142,110.376247L160.357142,110.614342L160.309523,110.70958L160.261904,110.7572L160.166666,110.804819L159.880952,110.804819L159.785714,110.7572L159.738095,110.70958M160.547619,110.900057L161.309523,110.900057M161.547619,110.804819L161.547619,109.804819M161.97619,110.7572L162.119047,110.804819L162.357142,110.804819L162.45238,110.7572L162.499999,110.70958L162.547618,110.614342L162.547618,110.519104L162.499999,110.423866L162.45238,110.376247L162.357142,110.328628L162.166666,110.281009L162.071428,110.23339L162.023809,110.185771L161.97619,110.090533L161.97619,109.995295L162.023809,109.900057L162.071428,109.852438L162.166666,109.804819L162.404761,109.804819L162.547618,109.852438M163.166666,109.804819L163.357142,109.804819L163.45238,109.852438L163.547618,109.947676L163.595237,110.138152L163.595237,110.471485L163.547618,110.661961L163.45238,110.7572L163.357142,110.804819L163.166666,110.804819L163.071428,110.7572L162.97619,110.661961L162.928571,110.471485L162.928571,110.138152L162.97619,109.947676L163.071428,109.852438L163.166666,109.804819M163.928571,109.804819L164.595237,109.804819L164.166666,110.804819M164.880952,109.804819L165.499999,109.804819L165.166666,110.185771L165.309523,110.185771L165.404761,110.23339L165.45238,110.281009L165.499999,110.376247L165.499999,110.614342L165.45238,110.70958L165.404761,110.7572L165.309523,110.804819L165.023809,110.804819L164.928571,110.7572L164.880952,110.70958M166.071428,110.23339L165.97619,110.185771L165.928571,110.138152L165.880952,110.042914L165.880952,109.995295L165.928571,109.900057L165.97619,109.852438L166.071428,109.804819L166.261904,109.804819L166.357142,109.852438L166.404761,109.900057L166.45238,109.995295L166.45238,110.042914L166.404761,110.138152L166.357142,110.185771L166.261904,110.23339L166.071428,110.23339L165.97619,110.281009L165.928571,110.328628L165.880952,110.423866L165.880952,110.614342L165.928571,110.70958L165.97619,110.7572L166.071428,110.804819L166.261904,110.804819L166.357142,110.7572L166.404761,110.70958L166.45238,110.614342L166.45238,110.423866L166.404761,110.328628L166.357142,110.281009L166.261904,110.23339M167.071428,109.804819L167.166666,109.804819L167.261904,109.852438L167.309523,109.900057L167.357142,109.995295L167.404761,110.185771L167.404761,110.423866L167.357142,110.614342L167.309523,110.70958L167.261904,110.7572L167.166666,110.804819L167.071428,110.804819L166.97619,110.7572L166.928571,110.70958L166.880952,110.614342L166.833333,110.423866L166.833333,110.185771L166.880952,109.995295L166.928571,109.900057L166.97619,109.852438L167.071428,109.804819M167.595238,110.900057L168.357142,110.900057M168.595238,110.804819L168.595238,109.804819L168.97619,109.804819L169.071428,109.852438L169.119047,109.900057L169.166666,109.995295L169.166666,110.138152L169.119047,110.23339L169.071428,110.281009L168.97619,110.328628L168.595238,110.328628M170.023809,110.804819L170.023809,110.281009L169.97619,110.185771L169.880952,110.138152L169.690476,110.138152L169.595238,110.185771M170.023809,110.7572L169.928571,110.804819L169.690476,110.804819L169.595238,110.7572L169.547619,110.661961L169.547619,110.566723L169.595238,110.471485L169.690476,110.423866L169.928571,110.423866L170.023809,110.376247M170.928571,110.804819L170.928571,109.804819M170.928571,110.7572L170.833333,110.804819L170.642857,110.804819L170.547619,110.7572L170.5,110.70958L170.452381,110.614342L170.452381,110.328628L170.5,110.23339L170.547619,110.185771L170.642857,110.138152L170.833333,110.138152L170.928571,110.185771", "val": 1}, {"thickness": 0.15, "svgpath": "M155.75238,106.954819L155.419047,106.478628M155.180952,106.954819L155.180952,105.954819L155.561904,105.954819L155.657142,106.002438L155.704761,106.050057L155.75238,106.145295L155.75238,106.288152L155.704761,106.38339L155.657142,106.431009L155.561904,106.478628L155.180952,106.478628M156.180952,106.431009L156.514285,106.431009M156.657142,106.954819L156.180952,106.954819L156.180952,105.954819L156.657142,105.954819M157.419047,106.431009L157.085714,106.431009M157.085714,106.954819L157.085714,105.954819L157.561904,105.954819M157.895238,106.050057L157.942857,106.002438L158.038095,105.954819L158.27619,105.954819L158.371428,106.002438L158.419047,106.050057L158.466666,106.145295L158.466666,106.240533L158.419047,106.38339L157.847619,106.954819L158.466666,106.954819"}, {"thickness": 0.15, "svgpath": "M155.75238,53.954819L155.419047,53.478628M155.180952,53.954819L155.180952,52.954819L155.561904,52.954819L155.657142,53.002438L155.704761,53.050057L155.75238,53.145295L155.75238,53.288152L155.704761,53.38339L155.657142,53.431009L155.561904,53.478628L155.180952,53.478628M156.180952,53.431009L156.514285,53.431009M156.657142,53.954819L156.180952,53.954819L156.180952,52.954819L156.657142,52.954819M157.419047,53.431009L157.085714,53.431009M157.085714,53.954819L157.085714,52.954819L157.561904,52.954819M157.847619,52.954819L158.466666,52.954819L158.133333,53.335771L158.27619,53.335771L158.371428,53.38339L158.419047,53.431009L158.466666,53.526247L158.466666,53.764342L158.419047,53.85958L158.371428,53.9072L158.27619,53.954819L157.990476,53.954819L157.895238,53.9072L157.847619,53.85958"}], "B": [{"thickness": 0.15, "svgpath": "M124.437999,88.394819L124.342761,88.394819L124.247523,88.442438L124.199904,88.490057L124.152285,88.585295L124.104666,88.775771L124.104666,89.013866L124.152285,89.204342L124.199904,89.29958L124.247523,89.3472L124.342761,89.394819L124.437999,89.394819L124.533237,89.3472L124.580856,89.29958L124.628475,89.204342L124.676094,89.013866L124.676094,88.775771L124.628475,88.585295L124.580856,88.490057L124.533237,88.442438L124.437999,88.394819M123.676094,89.29958L123.628475,89.3472L123.676094,89.394819L123.723713,89.3472L123.676094,89.29958L123.676094,89.394819M122.676095,89.394819L123.247523,89.394819M122.961809,89.394819L122.961809,88.394819L123.057047,88.537676L123.152285,88.632914L123.247523,88.680533M121.818952,88.728152L121.818952,89.394819M122.247523,88.728152L122.247523,89.251961L122.199904,89.3472L122.104666,89.394819L121.961809,89.394819L121.866571,89.3472L121.818952,89.29958M121.485618,88.728152L121.104666,88.728152M121.342761,89.394819L121.342761,88.537676L121.295142,88.442438L121.199904,88.394819L121.104666,88.394819", "val": 1}, {"thickness": 0.04, "svgpath": "M122.979666,87.869765L122.99157,87.88167L123.027285,87.893574L123.051094,87.893574L123.086808,87.88167L123.110618,87.85786L123.122523,87.83405L123.134427,87.786431L123.134427,87.750717L123.122523,87.703098L123.110618,87.679289L123.086808,87.655479L123.051094,87.643574L123.027285,87.643574L122.99157,87.655479L122.979666,87.667384M122.74157,87.893574L122.884427,87.893574M122.812999,87.893574L122.812999,87.643574L122.836808,87.679289L122.860618,87.703098L122.884427,87.715003"}, {"type": "segment", "start": [123.438, 88.03], "end": [123.438, 87.53], "width": 0.1}, {"type": "segment", "start": [123.438, 87.53], "end": [122.438, 87.53], "width": 0.1}, {"type": "segment", "start": [122.438, 88.03], "end": [123.438, 88.03], "width": 0.1}, {"type": "segment", "start": [122.438, 87.53], "end": [122.438, 88.03], "width": 0.1}, {"thickness": 0.15, "svgpath": "M139.749999,86.074819L139.654761,86.074819L139.559523,86.122438L139.511904,86.170057L139.464285,86.265295L139.416666,86.455771L139.416666,86.693866L139.464285,86.884342L139.511904,86.97958L139.559523,87.0272L139.654761,87.074819L139.749999,87.074819L139.845237,87.0272L139.892856,86.97958L139.940475,86.884342L139.988094,86.693866L139.988094,86.455771L139.940475,86.265295L139.892856,86.170057L139.845237,86.122438L139.749999,86.074819M138.988094,86.97958L138.940475,87.0272L138.988094,87.074819L139.035713,87.0272L138.988094,86.97958L138.988094,87.074819M137.988095,87.074819L138.559523,87.074819M138.273809,87.074819L138.273809,86.074819L138.369047,86.217676L138.464285,86.312914L138.559523,86.360533M137.130952,86.408152L137.130952,87.074819M137.559523,86.408152L137.559523,86.931961L137.511904,87.0272L137.416666,87.074819L137.273809,87.074819L137.178571,87.0272L137.130952,86.97958M136.797618,86.408152L136.416666,86.408152M136.654761,87.074819L136.654761,86.217676L136.607142,86.122438L136.511904,86.074819L136.416666,86.074819", "val": 1}, {"thickness": 0.04, "svgpath": "M138.291666,87.869765L138.30357,87.88167L138.339285,87.893574L138.363094,87.893574L138.398808,87.88167L138.422618,87.85786L138.434523,87.83405L138.446427,87.786431L138.446427,87.750717L138.434523,87.703098L138.422618,87.679289L138.398808,87.655479L138.363094,87.643574L138.339285,87.643574L138.30357,87.655479L138.291666,87.667384M138.196427,87.667384L138.184523,87.655479L138.160713,87.643574L138.101189,87.643574L138.07738,87.655479L138.065475,87.667384L138.05357,87.691193L138.05357,87.715003L138.065475,87.750717L138.208332,87.893574L138.05357,87.893574"}, {"type": "segment", "start": [137.75, 87.53], "end": [137.75, 88.03], "width": 0.1}, {"type": "segment", "start": [137.75, 88.03], "end": [138.75, 88.03], "width": 0.1}, {"type": "segment", "start": [138.75, 87.53], "end": [137.75, 87.53], "width": 0.1}, {"type": "segment", "start": [138.75, 88.03], "end": [138.75, 87.53], "width": 0.1}, {"thickness": 0.15, "svgpath": "M121.004819,96.794286L120.004819,96.794286L121.004819,97.365714L120.004819,97.365714M120.90958,98.413333L120.9572,98.365714L121.004819,98.222857L121.004819,98.127619L120.9572,97.984762L120.861961,97.889524L120.766723,97.841905L120.576247,97.794286L120.43339,97.794286L120.242914,97.841905L120.147676,97.889524L120.052438,97.984762L120.004819,98.127619L120.004819,98.222857L120.052438,98.365714L120.100057,98.413333", "val": 1}, {"thickness": 0.15, "svgpath": "M137.611904,92.069104L137.135714,92.069104M137.707142,92.354819L137.373809,91.354819L137.040476,92.354819M136.849999,91.354819L136.278571,91.354819M136.564285,92.354819L136.564285,91.354819M135.945237,92.354819L135.945237,91.688152M135.945237,91.78339L135.897618,91.735771L135.80238,91.688152L135.659523,91.688152L135.564285,91.735771L135.516666,91.831009L135.516666,92.354819M135.516666,91.831009L135.469047,91.735771L135.373809,91.688152L135.230952,91.688152L135.135713,91.735771L135.088094,91.831009L135.088094,92.354819M134.230952,92.3072L134.32619,92.354819L134.516666,92.354819L134.611904,92.3072L134.659523,92.211961L134.659523,91.831009L134.611904,91.735771L134.516666,91.688152L134.32619,91.688152L134.230952,91.735771L134.183333,91.831009L134.183333,91.926247L134.659523,92.021485M133.32619,91.688152L133.32619,92.497676L133.373809,92.592914L133.421428,92.640533L133.516666,92.688152L133.659523,92.688152L133.754761,92.640533M133.32619,92.3072L133.421428,92.354819L133.611904,92.354819L133.707142,92.3072L133.754761,92.25958L133.80238,92.164342L133.80238,91.878628L133.754761,91.78339L133.707142,91.735771L133.611904,91.688152L133.421428,91.688152L133.32619,91.735771M132.421428,92.354819L132.421428,91.831009L132.469047,91.735771L132.564285,91.688152L132.754761,91.688152L132.849999,91.735771M132.421428,92.3072L132.516666,92.354819L132.754761,92.354819L132.849999,92.3072L132.897618,92.211961L132.897618,92.116723L132.849999,92.021485L132.754761,91.973866L132.516666,91.973866L132.421428,91.926247M132.040475,91.354819L131.421428,91.354819L131.754761,91.735771L131.611904,91.735771L131.516666,91.78339L131.469047,91.831009L131.421428,91.926247L131.421428,92.164342L131.469047,92.25958L131.516666,92.3072L131.611904,92.354819L131.897618,92.354819L131.992856,92.3072L132.040475,92.25958M131.040475,91.450057L130.992856,91.402438L130.897618,91.354819L130.659523,91.354819L130.564285,91.402438L130.516666,91.450057L130.469047,91.545295L130.469047,91.640533L130.516666,91.78339L131.088094,92.354819L130.469047,92.354819M129.897618,91.78339L129.992856,91.735771L130.040475,91.688152L130.088094,91.592914L130.088094,91.545295L130.040475,91.450057L129.992856,91.402438L129.897618,91.354819L129.707142,91.354819L129.611904,91.402438L129.564285,91.450057L129.516666,91.545295L129.516666,91.592914L129.564285,91.688152L129.611904,91.735771L129.707142,91.78339L129.897618,91.78339L129.992856,91.831009L130.040475,91.878628L130.088094,91.973866L130.088094,92.164342L130.040475,92.25958L129.992856,92.3072L129.897618,92.354819L129.707142,92.354819L129.611904,92.3072L129.564285,92.25958L129.516666,92.164342L129.516666,91.973866L129.564285,91.878628L129.611904,91.831009L129.707142,91.78339M129.088094,92.354819L129.088094,91.354819L128.707142,91.354819L128.611904,91.402438L128.564285,91.450057L128.516666,91.545295L128.516666,91.688152L128.564285,91.78339L128.611904,91.831009L128.707142,91.878628L129.088094,91.878628M127.754761,91.831009L127.611904,91.878628L127.564285,91.926247L127.516666,92.021485L127.516666,92.164342L127.564285,92.25958L127.611904,92.3072L127.707142,92.354819L128.088094,92.354819L128.088094,91.354819L127.754761,91.354819L127.659523,91.402438L127.611904,91.450057L127.564285,91.545295L127.564285,91.640533L127.611904,91.735771L127.659523,91.78339L127.754761,91.831009L128.088094,91.831009M127.088094,91.973866L126.32619,91.973866M125.849999,92.354819L125.849999,91.354819L125.516666,92.069104L125.183333,91.354819L125.183333,92.354819M124.707142,91.354819L124.707142,92.164342L124.659523,92.25958L124.611904,92.3072L124.516666,92.354819L124.32619,92.354819L124.230952,92.3072L124.183333,92.25958L124.135714,92.164342L124.135714,91.354819", "val": 1}, {"thickness": 0.15, "svgpath": "M131.611904,87.534819L131.611904,88.344342L131.564285,88.43958L131.516666,88.4872L131.421428,88.534819L131.230952,88.534819L131.135714,88.4872L131.088095,88.43958L131.040476,88.344342L131.040476,87.534819M130.040476,88.534819L130.611904,88.534819M130.32619,88.534819L130.32619,87.534819L130.421428,87.677676L130.516666,87.772914L130.611904,87.820533"}, {"type": "segment", "start": [133.35, 90.58], "end": [133.35, 86.58], "width": 0.1}, {"type": "segment", "start": [133.35, 86.58], "end": [132.35, 85.58], "width": 0.1}, {"type": "segment", "start": [132.35, 85.58], "end": [128.35, 85.58], "width": 0.1}, {"type": "segment", "start": [128.35, 90.58], "end": [133.35, 90.58], "width": 0.1}, {"type": "segment", "start": [128.35, 85.58], "end": [128.35, 90.58], "width": 0.1}, {"thickness": 0.15, "svgpath": "M131.764819,76.5L131.764819,76.595238L131.812438,76.690476L131.860057,76.738095L131.955295,76.785714L132.145771,76.833333L132.383866,76.833333L132.574342,76.785714L132.66958,76.738095L132.7172,76.690476L132.764819,76.595238L132.764819,76.5L132.7172,76.404762L132.66958,76.357143L132.574342,76.309524L132.383866,76.261905L132.145771,76.261905L131.955295,76.309524L131.860057,76.357143L131.812438,76.404762L131.764819,76.5M132.66958,77.261905L132.7172,77.309524L132.764819,77.261905L132.7172,77.214286L132.66958,77.261905L132.764819,77.261905M132.764819,78.261904L132.764819,77.690476M132.764819,77.97619L131.764819,77.97619L131.907676,77.880952L132.002914,77.785714L132.050533,77.690476M132.098152,79.119047L132.764819,79.119047M132.098152,78.690476L132.621961,78.690476L132.7172,78.738095L132.764819,78.833333L132.764819,78.97619L132.7172,79.071428L132.66958,79.119047M132.098152,79.452381L132.098152,79.833333M132.764819,79.595238L131.907676,79.595238L131.812438,79.642857L131.764819,79.738095L131.764819,79.833333", "val": 1}, {"thickness": 0.04, "svgpath": "M131.239765,77.958333L131.25167,77.946429L131.263574,77.910714L131.263574,77.886905L131.25167,77.851191L131.22786,77.827381L131.20405,77.815476L131.156431,77.803572L131.120717,77.803572L131.073098,77.815476L131.049289,77.827381L131.025479,77.851191L131.013574,77.886905L131.013574,77.910714L131.025479,77.946429L131.037384,77.958333M131.013574,78.041667L131.013574,78.196429L131.108812,78.113095L131.108812,78.14881L131.120717,78.172619L131.132622,78.184524L131.156431,78.196429L131.215955,78.196429L131.239765,78.184524L131.25167,78.172619L131.263574,78.14881L131.263574,78.077381L131.25167,78.053572L131.239765,78.041667"}, {"type": "segment", "start": [131.4, 77.5], "end": [130.9, 77.5], "width": 0.1}, {"type": "segment", "start": [130.9, 77.5], "end": [130.9, 78.5], "width": 0.1}, {"type": "segment", "start": [131.4, 78.5], "end": [131.4, 77.5], "width": 0.1}, {"type": "segment", "start": [130.9, 78.5], "end": [131.4, 78.5], "width": 0.1}, {"thickness": 0.15, "svgpath": "M134.595238,79.834819L135.166666,79.834819M134.880952,79.834819L134.880952,78.834819L134.97619,78.977676L135.071428,79.072914L135.166666,79.120533M133.97619,78.834819L133.880952,78.834819L133.785714,78.882438L133.738095,78.930057L133.690476,79.025295L133.642857,79.215771L133.642857,79.453866L133.690476,79.644342L133.738095,79.73958L133.785714,79.7872L133.880952,79.834819L133.97619,79.834819L134.071428,79.7872L134.119047,79.73958L134.166666,79.644342L134.214285,79.453866L134.214285,79.215771L134.166666,79.025295L134.119047,78.930057L134.071428,78.882438L133.97619,78.834819M133.214285,79.834819L133.214285,78.834819M133.119047,79.453866L132.833333,79.834819M132.833333,79.168152L133.214285,79.549104", "val": 1}, {"thickness": 0.06, "svgpath": "M134.066666,78.131927L134.199999,77.941451M134.295237,78.131927L134.295237,77.731927L134.142856,77.731927L134.104761,77.750975L134.085714,77.770022L134.066666,77.808118L134.066666,77.86526L134.085714,77.903356L134.104761,77.922403L134.142856,77.941451L134.295237,77.941451M133.685714,78.131927L133.914285,78.131927M133.799999,78.131927L133.799999,77.731927L133.838095,77.78907L133.87619,77.827165L133.914285,77.846213"}, {"type": "segment", "start": [134.8, 78.3625], "end": [134.8, 77.5375], "width": 0.1}, {"type": "segment", "start": [134.8, 77.5375], "end": [133.2, 77.5375], "width": 0.1}, {"type": "segment", "start": [133.2, 78.3625], "end": [134.8, 78.3625], "width": 0.1}, {"type": "segment", "start": [133.2, 77.5375], "end": [133.2, 78.3625], "width": 0.1}]}}, "footprints": [{"ref": "J1", "bbox": {"pos": [149.05, 59.68], "relpos": [-1.825, -1.825], "size": [3.6, 44.25], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [149.05, 59.68], "size": [1.7, 1.7], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [149.05, 82.54], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 85.08], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 87.62], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 90.16], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 92.7], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 95.24], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 97.78], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 100.32], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 62.22], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 64.76], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 67.3], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 69.84], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 72.38], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 74.92], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 77.46], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [149.05, 80.0], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "J2", "bbox": {"pos": [110.95, 59.68], "relpos": [-1.825, -1.825], "size": [3.6, 44.25], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [110.95, 59.68], "size": [1.7, 1.7], "angle": 0.0, "shape": "rect", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["F", "B"], "pos": [110.95, 82.54], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 85.08], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 87.62], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 90.16], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 92.7], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 95.24], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 97.78], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 100.32], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 62.22], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 64.76], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 67.3], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 69.84], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 72.38], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 74.92], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 77.46], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}, {"layers": ["F", "B"], "pos": [110.95, 80.0], "size": [1.7, 1.7], "angle": 0.0, "shape": "oval", "type": "th", "drillshape": "circle", "drillsize": [1.0, 1.0], "offset": [0.0, 0.0]}], "drawings": [], "layer": "F"}, {"ref": "REF1", "bbox": {"pos": [103.5, 106.5], "relpos": [-3.125, -3.125], "size": [6.25, 6.25], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [103.5, 106.5], "size": [5.7, 5.7], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.2, 3.2], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "REF4", "bbox": {"pos": [103.5, 53.5], "relpos": [-3.125, -3.125], "size": [6.25, 6.25], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [103.5, 53.5], "size": [5.7, 5.7], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.2, 3.2], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "REF2", "bbox": {"pos": [156.5, 106.5], "relpos": [-3.125, -3.125], "size": [6.25, 6.25], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [156.5, 106.5], "size": [5.7, 5.7], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.2, 3.2], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "REF3", "bbox": {"pos": [156.5, 53.5], "relpos": [-3.125, -3.125], "size": [6.25, 6.25], "angle": 0.0}, "pads": [{"layers": ["F", "B"], "pos": [156.5, 53.5], "size": [5.7, 5.7], "angle": 0.0, "shape": "circle", "type": "th", "drillshape": "circle", "drillsize": [3.2, 3.2], "offset": [0.0, 0.0], "pin1": 1}], "drawings": [], "layer": "F"}, {"ref": "C1", "bbox": {"pos": [122.938, 87.78], "relpos": [-0.935, -0.485], "size": [1.87, 0.97], "angle": 180.0}, "pads": [{"layers": ["B"], "pos": [123.418, 87.78], "size": [0.56, 0.62], "angle": 180.0, "shape": "roundrect", "radius": 0.14, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [122.458, 87.78], "size": [0.56, 0.62], "angle": 180.0, "shape": "roundrect", "radius": 0.14, "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "C2", "bbox": {"pos": [138.25, 87.78], "relpos": [-0.935, -0.485], "size": [1.87, 0.97], "angle": 0.0}, "pads": [{"layers": ["B"], "pos": [137.77, 87.78], "size": [0.56, 0.62], "angle": 0.0, "shape": "roundrect", "radius": 0.14, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [138.73, 87.78], "size": [0.56, 0.62], "angle": 0.0, "shape": "roundrect", "radius": 0.14, "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "JP1", "bbox": {"pos": [122.45, 97.58], "relpos": [-1.675, -1.275], "size": [3.35, 2.55], "angle": 90.0}, "pads": [{"layers": ["B"], "pos": [122.45, 98.23], "size": [1.0, 0.5], "angle": 90.0, "shape": "custom", "polygons": [[[0.5, 0.75], [0.0, 0.75], [0.0, 0.744911], [-0.071157, 0.744911], [-0.207708, 0.704816], [-0.32743, 0.627875], [-0.420627, 0.52032], [-0.479746, 0.390866], [-0.5, 0.25], [-0.5, -0.25], [-0.479746, -0.390866], [-0.420627, -0.52032], [-0.32743, -0.627875], [-0.207708, -0.704816], [-0.071157, -0.744911], [0.0, -0.744911], [0.0, -0.75], [0.5, -0.75]]], "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [122.45, 96.93], "size": [1.0, 0.5], "angle": 90.0, "shape": "custom", "polygons": [[[0.0, -0.744911], [0.071157, -0.744911], [0.207708, -0.704816], [0.32743, -0.627875], [0.420627, -0.52032], [0.479746, -0.390866], [0.5, -0.25], [0.5, 0.25], [0.479746, 0.390866], [0.420627, 0.52032], [0.32743, 0.627875], [0.207708, 0.704816], [0.071157, 0.744911], [0.0, 0.744911], [0.0, 0.75], [-0.5, 0.75], [-0.5, -0.75], [0.0, -0.75]]], "type": "smd", "offset": [0.0, 0.0]}], "drawings": [{"layer": "B", "drawing": {"type": "polygon", "pos": [122.45, 97.58], "angle": 90.0, "polygons": [[[0.25, 0.3], [-0.25, 0.3], [-0.25, -0.3], [0.25, -0.3]]]}}], "layer": "B"}, {"ref": "U1", "bbox": {"pos": [130.85, 88.08], "relpos": [-3.145, -3.145], "size": [6.29, 6.29], "angle": 180.0}, "pads": [{"layers": [], "pos": [131.88, 89.11], "size": [0.83, 0.83], "angle": 180.0, "shape": "roundrect", "radius": 0.2075, "type": "smd", "offset": [0.0, 0.0]}, {"layers": [], "pos": [131.88, 88.08], "size": [0.83, 0.83], "angle": 180.0, "shape": "roundrect", "radius": 0.2075, "type": "smd", "offset": [0.0, 0.0]}, {"layers": [], "pos": [131.88, 87.05], "size": [0.83, 0.83], "angle": 180.0, "shape": "roundrect", "radius": 0.2075, "type": "smd", "offset": [0.0, 0.0]}, {"layers": [], "pos": [130.85, 89.11], "size": [0.83, 0.83], "angle": 180.0, "shape": "roundrect", "radius": 0.2075, "type": "smd", "offset": [0.0, 0.0]}, {"layers": [], "pos": [130.85, 88.08], "size": [0.83, 0.83], "angle": 180.0, "shape": "roundrect", "radius": 0.2075, "type": "smd", "offset": [0.0, 0.0]}, {"layers": [], "pos": [130.85, 87.05], "size": [0.83, 0.83], "angle": 180.0, "shape": "roundrect", "radius": 0.2075, "type": "smd", "offset": [0.0, 0.0]}, {"layers": [], "pos": [129.82, 89.11], "size": [0.83, 0.83], "angle": 180.0, "shape": "roundrect", "radius": 0.2075, "type": "smd", "offset": [0.0, 0.0]}, {"layers": [], "pos": [129.82, 88.08], "size": [0.83, 0.83], "angle": 180.0, "shape": "roundrect", "radius": 0.2075, "type": "smd", "offset": [0.0, 0.0]}, {"layers": [], "pos": [129.82, 87.05], "size": [0.83, 0.83], "angle": 180.0, "shape": "roundrect", "radius": 0.2075, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [133.2875, 86.33], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [132.1, 90.5175], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [131.6, 90.5175], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [131.1, 90.5175], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [130.6, 90.5175], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [130.1, 90.5175], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [129.6, 90.5175], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [129.1, 90.5175], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [128.4125, 89.83], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [128.4125, 89.33], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [128.4125, 88.83], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [133.2875, 86.83], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [128.4125, 88.33], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [128.4125, 87.83], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [128.4125, 87.33], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [128.4125, 86.83], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [128.4125, 86.33], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [129.1, 85.6425], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [129.6, 85.6425], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [130.1, 85.6425], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [130.6, 85.6425], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [131.1, 85.6425], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [133.2875, 87.33], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [131.6, 85.6425], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [132.1, 85.6425], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [132.6, 85.6425], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [130.85, 88.08], "size": [3.1, 3.1], "angle": 180.0, "shape": "rect", "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [133.2875, 87.83], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [133.2875, 88.33], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [133.2875, 88.83], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [133.2875, 89.33], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [133.2875, 89.83], "size": [0.875, 0.25], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}, {"layers": ["B"], "pos": [132.6, 90.5175], "size": [0.25, 0.875], "angle": 180.0, "shape": "roundrect", "radius": 0.0625, "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "C3", "bbox": {"pos": [131.15, 78.0], "relpos": [-0.935, -0.485], "size": [1.87, 0.97], "angle": -90.0}, "pads": [{"layers": ["B"], "pos": [131.15, 77.52], "size": [0.56, 0.62], "angle": 270.0, "shape": "roundrect", "radius": 0.14, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [131.15, 78.48], "size": [0.56, 0.62], "angle": 270.0, "shape": "roundrect", "radius": 0.14, "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}, {"ref": "R1", "bbox": {"pos": [134.0, 77.95], "relpos": [-1.505, -0.755], "size": [3.01, 1.51], "angle": 180.0}, "pads": [{"layers": ["B"], "pos": [134.825, 77.95], "size": [0.8, 0.95], "angle": 180.0, "shape": "roundrect", "radius": 0.2, "type": "smd", "offset": [0.0, 0.0], "pin1": 1}, {"layers": ["B"], "pos": [133.175, 77.95], "size": [0.8, 0.95], "angle": 180.0, "shape": "roundrect", "radius": 0.2, "type": "smd", "offset": [0.0, 0.0]}], "drawings": [], "layer": "B"}], "metadata": {"title": "working", "revision": "", "company": "", "date": "2023-09-19 08:21:09"}, "bom": {"both": [[["C1", 6], ["C2", 7], ["C3", 10]], [["R1", 11]], [["U1", 9]], [["J1", 0], ["J2", 1]]], "skipped": [2, 3, 4, 5, 8], "fields": {"0": ["Conn_01x17", "PinSocket_1x17_P2.54mm_Vertical"], "1": ["Conn_01x17", "PinSocket_1x17_P2.54mm_Vertical"], "6": ["0.1uf", "C_0402_1005Metric"], "7": ["0.1uf", "C_0402_1005Metric"], "9": ["ATmega328PB-MU", "QFN-32-1EP_5x5mm_P0.5mm_EP3.1x3.1mm"], "10": ["0.1uf", "C_0402_1005Metric"], "11": ["10k", "R_0603_1608Metric"]}, "F": [[["J1", 0], ["J2", 1]]], "B": [[["C1", 6], ["C2", 7], ["C3", 10]], [["R1", 11]], [["U1", 9]]]}, "font_data": {}, "ibom_version": "v2.6.0"}
///////////////////////////////////////////////

///////////////////////////////////////////////
/* Utility functions */

var storagePrefix = 'KiCad_HTML_BOM__' + pcbdata.metadata.title + '__' +
  pcbdata.metadata.revision + '__#';
var storage;

function initStorage(key) {
  try {
    window.localStorage.getItem("blank");
    storage = window.localStorage;
  } catch (e) {
    // localStorage not available
  }
  if (!storage) {
    try {
      window.sessionStorage.getItem("blank");
      storage = window.sessionStorage;
    } catch (e) {
      // sessionStorage also not available
    }
  }
}

function readStorage(key) {
  if (storage) {
    return storage.getItem(storagePrefix + key);
  } else {
    return null;
  }
}

function writeStorage(key, value) {
  if (storage) {
    storage.setItem(storagePrefix + key, value);
  }
}

function fancyDblClickHandler(el, onsingle, ondouble) {
  return function () {
    if (el.getAttribute("data-dblclick") == null) {
      el.setAttribute("data-dblclick", 1);
      setTimeout(function () {
        if (el.getAttribute("data-dblclick") == 1) {
          onsingle();
        }
        el.removeAttribute("data-dblclick");
      }, 200);
    } else {
      el.removeAttribute("data-dblclick");
      ondouble();
    }
  }
}

function smoothScrollToRow(rowid) {
  document.getElementById(rowid).scrollIntoView({
    behavior: "smooth",
    block: "center",
    inline: "nearest"
  });
}

function focusInputField(input) {
  input.scrollIntoView(false);
  input.focus();
  input.select();
}

function saveBomTable(output) {
  var text = '';
  for (var node of bomhead.childNodes[0].childNodes) {
    if (node.firstChild) {
      text += (output == 'csv' ? `"${node.firstChild.nodeValue}"` : node.firstChild.nodeValue);
    }
    if (node != bomhead.childNodes[0].lastChild) {
      text += (output == 'csv' ? ',' : '\t');
    }
  }
  text += '\n';
  for (var row of bombody.childNodes) {
    for (var cell of row.childNodes) {
      let val = '';
      for (var node of cell.childNodes) {
        if (node.nodeName == "INPUT") {
          if (node.checked) {
            val += '';
          }
        } else if ((node.nodeName == "MARK") || (node.nodeName == "A")) {
          val += node.firstChild.nodeValue;
        } else {
          val += node.nodeValue;
        }
      }
      if (output == 'csv') {
        val = val.replace(/\"/g, '\"\"'); // pair of double-quote characters
        if (isNumeric(val)) {
          val = +val;                     // use number
        } else {
          val = `"${val}"`;               // enclosed within double-quote
        }
      }
      text += val;
      if (cell != row.lastChild) {
        text += (output == 'csv' ? ',' : '\t');
      }
    }
    text += '\n';
  }

  if (output != 'clipboard') {
    // To file: csv or txt
    var blob = new Blob([text], {
      type: `text/${output}`
    });
    saveFile(`${pcbdata.metadata.title}.${output}`, blob);
  } else {
    // To clipboard
    var textArea = document.createElement("textarea");
    textArea.classList.add('clipboard-temp');
    textArea.value = text;

    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();

    try {
      if (document.execCommand('copy')) {
        console.log('Bom copied to clipboard.');
      }
    } catch (err) {
      console.log('Can not copy to clipboard.');
    }

    document.body.removeChild(textArea);
  }
}

function isNumeric(str) {
  /* https://stackoverflow.com/a/175787 */
  return (typeof str != "string" ? false : !isNaN(str) && !isNaN(parseFloat(str)));
}

function removeGutterNode(node) {
  for (var i = 0; i < node.childNodes.length; i++) {
    if (node.childNodes[i].classList &&
      node.childNodes[i].classList.contains("gutter")) {
      node.removeChild(node.childNodes[i]);
      break;
    }
  }
}

function cleanGutters() {
  removeGutterNode(document.getElementById("bot"));
  removeGutterNode(document.getElementById("canvasdiv"));
}

var units = {
  prefixes: {
    giga: ["G", "g", "giga", "Giga", "GIGA"],
    mega: ["M", "mega", "Mega", "MEGA"],
    kilo: ["K", "k", "kilo", "Kilo", "KILO"],
    milli: ["m", "milli", "Milli", "MILLI"],
    micro: ["U", "u", "micro", "Micro", "MICRO", "", ""], // different utf8 
    nano: ["N", "n", "nano", "Nano", "NANO"],
    pico: ["P", "p", "pico", "Pico", "PICO"],
  },
  unitsShort: ["R", "r", "", "F", "f", "H", "h"],
  unitsLong: [
    "OHM", "Ohm", "ohm", "ohms",
    "FARAD", "Farad", "farad",
    "HENRY", "Henry", "henry"
  ],
  getMultiplier: function (s) {
    if (this.prefixes.giga.includes(s)) return 1e9;
    if (this.prefixes.mega.includes(s)) return 1e6;
    if (this.prefixes.kilo.includes(s)) return 1e3;
    if (this.prefixes.milli.includes(s)) return 1e-3;
    if (this.prefixes.micro.includes(s)) return 1e-6;
    if (this.prefixes.nano.includes(s)) return 1e-9;
    if (this.prefixes.pico.includes(s)) return 1e-12;
    return 1;
  },
  valueRegex: null,
}

function initUtils() {
  var allPrefixes = units.prefixes.giga
    .concat(units.prefixes.mega)
    .concat(units.prefixes.kilo)
    .concat(units.prefixes.milli)
    .concat(units.prefixes.micro)
    .concat(units.prefixes.nano)
    .concat(units.prefixes.pico);
  var allUnits = units.unitsShort.concat(units.unitsLong);
  units.valueRegex = new RegExp("^([0-9\.]+)" +
    "\\s*(" + allPrefixes.join("|") + ")?" +
    "(" + allUnits.join("|") + ")?" +
    "(\\b.*)?$", "");
  units.valueAltRegex = new RegExp("^([0-9]*)" +
    "(" + units.unitsShort.join("|") + ")?" +
    "([GgMmKkUuNnPp])?" +
    "([0-9]*)" +
    "(\\b.*)?$", "");
  if (config.fields.includes("Value")) {
    var index = config.fields.indexOf("Value");
    pcbdata.bom["parsedValues"] = {};
    for (var id in pcbdata.bom.fields) {
      pcbdata.bom.parsedValues[id] = parseValue(pcbdata.bom.fields[id][index])
    }
  }
}

function parseValue(val, ref) {
  var inferUnit = (unit, ref) => {
    if (unit) {
      unit = unit.toLowerCase();
      if (unit == '' || unit == "ohm" || unit == "ohms") {
        unit = 'r';
      }
      unit = unit[0];
    } else {
      ref = /^([a-z]+)\d+$/i.exec(ref);
      if (ref) {
        ref = ref[1].toLowerCase();
        if (ref == "c") unit = 'f';
        else if (ref == "l") unit = 'h';
        else if (ref == "r" || ref == "rv") unit = 'r';
        else unit = null;
      }
    }
    return unit;
  };
  val = val.replace(/,/g, "");
  var match = units.valueRegex.exec(val);
  var unit;
  if (match) {
    val = parseFloat(match[1]);
    if (match[2]) {
      val = val * units.getMultiplier(match[2]);
    }
    unit = inferUnit(match[3], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[4],
    }
  }
  match = units.valueAltRegex.exec(val);
  if (match && (match[1] || match[4])) {
    val = parseFloat(match[1] + "." + match[4]);
    if (match[3]) {
      val = val * units.getMultiplier(match[3]);
    }
    unit = inferUnit(match[2], ref);
    if (!unit) return null;
    else return {
      val: val,
      unit: unit,
      extra: match[5],
    }
  }
  return null;
}

function valueCompare(a, b, stra, strb) {
  if (a === null && b === null) {
    // Failed to parse both values, compare them as strings.
    if (stra != strb) return stra > strb ? 1 : -1;
    else return 0;
  } else if (a === null) {
    return 1;
  } else if (b === null) {
    return -1;
  } else {
    if (a.unit != b.unit) return a.unit > b.unit ? 1 : -1;
    else if (a.val != b.val) return a.val > b.val ? 1 : -1;
    else if (a.extra != b.extra) return a.extra > b.extra ? 1 : -1;
    else return 0;
  }
}

function validateSaveImgDimension(element) {
  var valid = false;
  var intValue = 0;
  if (/^[1-9]\d*$/.test(element.value)) {
    intValue = parseInt(element.value);
    if (intValue <= 16000) {
      valid = true;
    }
  }
  if (valid) {
    element.classList.remove("invalid");
  } else {
    element.classList.add("invalid");
  }
  return intValue;
}

function saveImage(layer) {
  var width = validateSaveImgDimension(document.getElementById("render-save-width"));
  var height = validateSaveImgDimension(document.getElementById("render-save-height"));
  var bgcolor = null;
  if (!document.getElementById("render-save-transparent").checked) {
    var style = getComputedStyle(topmostdiv);
    bgcolor = style.getPropertyValue("background-color");
  }
  if (!width || !height) return;

  // Prepare image
  var canvas = document.createElement("canvas");
  var layerdict = {
    transform: {
      x: 0,
      y: 0,
      s: 1,
      panx: 0,
      pany: 0,
      zoom: 1,
    },
    bg: canvas,
    fab: canvas,
    silk: canvas,
    highlight: canvas,
    layer: layer,
  }
  // Do the rendering
  recalcLayerScale(layerdict, width, height);
  prepareLayer(layerdict);
  clearCanvas(canvas, bgcolor);
  drawBackground(layerdict, false);
  drawHighlightsOnLayer(layerdict, false);

  // Save image
  var imgdata = canvas.toDataURL("image/png");

  var filename = pcbdata.metadata.title;
  if (pcbdata.metadata.revision) {
    filename += `.${pcbdata.metadata.revision}`;
  }
  filename += `.${layer}.png`;
  saveFile(filename, dataURLtoBlob(imgdata));
}

function saveSettings() {
  var data = {
    type: "InteractiveHtmlBom settings",
    version: 1,
    pcbmetadata: pcbdata.metadata,
    settings: settings,
  }
  var blob = new Blob([JSON.stringify(data, null, 4)], {
    type: "application/json"
  });
  saveFile(`${pcbdata.metadata.title}.settings.json`, blob);
}

function loadSettings() {
  var input = document.createElement("input");
  input.type = "file";
  input.accept = ".settings.json";
  input.onchange = function (e) {
    var file = e.target.files[0];
    var reader = new FileReader();
    reader.onload = readerEvent => {
      var content = readerEvent.target.result;
      var newSettings;
      try {
        newSettings = JSON.parse(content);
      } catch (e) {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      if (newSettings.type != "InteractiveHtmlBom settings") {
        alert("Selected file is not InteractiveHtmlBom settings file.");
        return;
      }
      var metadataMatches = newSettings.hasOwnProperty("pcbmetadata");
      if (metadataMatches) {
        for (var k in pcbdata.metadata) {
          if (!newSettings.pcbmetadata.hasOwnProperty(k) || newSettings.pcbmetadata[k] != pcbdata.metadata[k]) {
            metadataMatches = false;
          }
        }
      }
      if (!metadataMatches) {
        var currentMetadata = JSON.stringify(pcbdata.metadata, null, 4);
        var fileMetadata = JSON.stringify(newSettings.pcbmetadata, null, 4);
        if (!confirm(
          `Settins file metadata does not match current metadata.\n\n` +
          `Page metadata:\n${currentMetadata}\n\n` +
          `Settings file metadata:\n${fileMetadata}\n\n` +
          `Press OK if you would like to import settings anyway.`)) {
          return;
        }
      }
      overwriteSettings(newSettings.settings);
    }
    reader.readAsText(file, 'UTF-8');
  }
  input.click();
}

function resetSettings() {
  if (!confirm(
    `This will reset all checkbox states and other settings.\n\n` +
    `Press OK if you want to continue.`)) {
    return;
  }
  if (storage) {
    var keys = [];
    for (var i = 0; i < storage.length; i++) {
      var key = storage.key(i);
      if (key.startsWith(storagePrefix)) keys.push(key);
    }
    for (var key of keys) storage.removeItem(key);
  }
  location.reload();
}

function overwriteSettings(newSettings) {
  initDone = false;
  Object.assign(settings, newSettings);
  writeStorage("bomlayout", settings.bomlayout);
  writeStorage("bommode", settings.bommode);
  writeStorage("canvaslayout", settings.canvaslayout);
  writeStorage("bomCheckboxes", settings.checkboxes.join(","));
  document.getElementById("bomCheckboxes").value = settings.checkboxes.join(",");
  for (var checkbox of settings.checkboxes) {
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
  }
  writeStorage("markWhenChecked", settings.markWhenChecked);
  padsVisible(settings.renderPads);
  document.getElementById("padsCheckbox").checked = settings.renderPads;
  fabricationVisible(settings.renderFabrication);
  document.getElementById("fabricationCheckbox").checked = settings.renderFabrication;
  silkscreenVisible(settings.renderSilkscreen);
  document.getElementById("silkscreenCheckbox").checked = settings.renderSilkscreen;
  referencesVisible(settings.renderReferences);
  document.getElementById("referencesCheckbox").checked = settings.renderReferences;
  valuesVisible(settings.renderValues);
  document.getElementById("valuesCheckbox").checked = settings.renderValues;
  tracksVisible(settings.renderTracks);
  document.getElementById("tracksCheckbox").checked = settings.renderTracks;
  zonesVisible(settings.renderZones);
  document.getElementById("zonesCheckbox").checked = settings.renderZones;
  dnpOutline(settings.renderDnpOutline);
  document.getElementById("dnpOutlineCheckbox").checked = settings.renderDnpOutline;
  setRedrawOnDrag(settings.redrawOnDrag);
  document.getElementById("dragCheckbox").checked = settings.redrawOnDrag;
  setDarkMode(settings.darkMode);
  document.getElementById("darkmodeCheckbox").checked = settings.darkMode;
  setHighlightPin1(settings.highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = settings.highlightpin1;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  setOffsetBackRotation(settings.offsetBackRotation);
  document.getElementById("offsetBackRotationCheckbox").checked = settings.offsetBackRotation;
  initDone = true;
  prepCheckboxes();
  changeBomLayout(settings.bomlayout);
}

function saveFile(filename, blob) {
  var link = document.createElement("a");
  var objurl = URL.createObjectURL(blob);
  link.download = filename;
  link.href = objurl;
  link.click();
}

function dataURLtoBlob(dataurl) {
  var arr = dataurl.split(','),
    mime = arr[0].match(/:(.*?);/)[1],
    bstr = atob(arr[1]),
    n = bstr.length,
    u8arr = new Uint8Array(n);
  while (n--) {
    u8arr[n] = bstr.charCodeAt(n);
  }
  return new Blob([u8arr], {
    type: mime
  });
}

var settings = {
  canvaslayout: "FB",
  bomlayout: "left-right",
  bommode: "grouped",
  checkboxes: [],
  checkboxStoredRefs: {},
  darkMode: false,
  highlightpin1: "none",
  redrawOnDrag: true,
  boardRotation: 0,
  offsetBackRotation: false,
  renderPads: true,
  renderReferences: true,
  renderValues: true,
  renderSilkscreen: true,
  renderFabrication: true,
  renderDnpOutline: false,
  renderTracks: true,
  renderZones: true,
  columnOrder: [],
  hiddenColumns: [],
  netColors: {},
}

function initDefaults() {
  settings.bomlayout = readStorage("bomlayout");
  if (settings.bomlayout === null) {
    settings.bomlayout = config.bom_view;
  }
  if (!['bom-only', 'left-right', 'top-bottom'].includes(settings.bomlayout)) {
    settings.bomlayout = config.bom_view;
  }
  settings.bommode = readStorage("bommode");
  if (settings.bommode === null) {
    settings.bommode = "grouped";
  }
  if (settings.bommode == "netlist" && !pcbdata.nets) {
    settings.bommode = "grouped";
  }
  if (!["grouped", "ungrouped", "netlist"].includes(settings.bommode)) {
    settings.bommode = "grouped";
  }
  settings.canvaslayout = readStorage("canvaslayout");
  if (settings.canvaslayout === null) {
    settings.canvaslayout = config.layer_view;
  }
  var bomCheckboxes = readStorage("bomCheckboxes");
  if (bomCheckboxes === null) {
    bomCheckboxes = config.checkboxes;
  }
  settings.checkboxes = bomCheckboxes.split(",").filter((e) => e);
  document.getElementById("bomCheckboxes").value = bomCheckboxes;

  var highlightpin1 = readStorage("highlightpin1") || config.highlight_pin1;
  if (highlightpin1 === "false") highlightpin1 = "none";
  if (highlightpin1 === "true") highlightpin1 = "all";
  setHighlightPin1(highlightpin1);
  document.forms.highlightpin1.highlightpin1.value = highlightpin1;

  settings.markWhenChecked = readStorage("markWhenChecked") || "";
  populateMarkWhenCheckedOptions();

  function initBooleanSetting(storageString, def, elementId, func) {
    var b = readStorage(storageString);
    if (b === null) {
      b = def;
    } else {
      b = (b == "true");
    }
    document.getElementById(elementId).checked = b;
    func(b);
  }

  initBooleanSetting("padsVisible", config.show_pads, "padsCheckbox", padsVisible);
  initBooleanSetting("fabricationVisible", config.show_fabrication, "fabricationCheckbox", fabricationVisible);
  initBooleanSetting("silkscreenVisible", config.show_silkscreen, "silkscreenCheckbox", silkscreenVisible);
  initBooleanSetting("referencesVisible", true, "referencesCheckbox", referencesVisible);
  initBooleanSetting("valuesVisible", true, "valuesCheckbox", valuesVisible);
  if ("tracks" in pcbdata) {
    initBooleanSetting("tracksVisible", true, "tracksCheckbox", tracksVisible);
    initBooleanSetting("zonesVisible", true, "zonesCheckbox", zonesVisible);
  } else {
    document.getElementById("tracksAndZonesCheckboxes").style.display = "none";
    tracksVisible(false);
    zonesVisible(false);
  }
  initBooleanSetting("dnpOutline", false, "dnpOutlineCheckbox", dnpOutline);
  initBooleanSetting("redrawOnDrag", config.redraw_on_drag, "dragCheckbox", setRedrawOnDrag);
  initBooleanSetting("darkmode", config.dark_mode, "darkmodeCheckbox", setDarkMode);

  var fields = ["checkboxes", "References"].concat(config.fields).concat(["Quantity"]);
  var hcols = JSON.parse(readStorage("hiddenColumns"));
  if (hcols === null) {
    hcols = [];
  }
  settings.hiddenColumns = hcols.filter(e => fields.includes(e));

  var cord = JSON.parse(readStorage("columnOrder"));
  if (cord === null) {
    cord = fields;
  } else {
    cord = cord.filter(e => fields.includes(e));
    if (cord.length != fields.length)
      cord = fields;
  }
  settings.columnOrder = cord;

  settings.boardRotation = readStorage("boardRotation");
  if (settings.boardRotation === null) {
    settings.boardRotation = config.board_rotation * 5;
  } else {
    settings.boardRotation = parseInt(settings.boardRotation);
  }
  document.getElementById("boardRotation").value = settings.boardRotation / 5;
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  initBooleanSetting("offsetBackRotation", config.offset_back_rotation, "offsetBackRotationCheckbox", setOffsetBackRotation);

  settings.netColors = JSON.parse(readStorage("netColors")) || {};
}

// Helper classes for user js callbacks.

const IBOM_EVENT_TYPES = {
  ALL: "all",
  HIGHLIGHT_EVENT: "highlightEvent",
  CHECKBOX_CHANGE_EVENT: "checkboxChangeEvent",
  BOM_BODY_CHANGE_EVENT: "bomBodyChangeEvent",
}

const EventHandler = {
  callbacks: {},
  init: function () {
    for (eventType of Object.values(IBOM_EVENT_TYPES))
      this.callbacks[eventType] = [];
  },
  registerCallback: function (eventType, callback) {
    this.callbacks[eventType].push(callback);
  },
  emitEvent: function (eventType, eventArgs) {
    event = {
      eventType: eventType,
      args: eventArgs,
    }
    var callback;
    for (callback of this.callbacks[eventType])
      callback(event);
    for (callback of this.callbacks[IBOM_EVENT_TYPES.ALL])
      callback(event);
  }
}
EventHandler.init();

///////////////////////////////////////////////

///////////////////////////////////////////////
/* PCB rendering code */

var emptyContext2d = document.createElement("canvas").getContext("2d");

function deg2rad(deg) {
  return deg * Math.PI / 180;
}

function calcFontPoint(linepoint, text, offsetx, offsety, tilt) {
  var point = [
    linepoint[0] * text.width + offsetx,
    linepoint[1] * text.height + offsety
  ];
  // This approximates pcbnew behavior with how text tilts depending on horizontal justification
  point[0] -= (linepoint[1] + 0.5 * (1 + text.justify[0])) * text.height * tilt;
  return point;
}

function drawText(ctx, text, color) {
  if ("ref" in text && !settings.renderReferences) return;
  if ("val" in text && !settings.renderValues) return;
  ctx.save();
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  ctx.lineWidth = text.thickness;
  if ("svgpath" in text) {
    ctx.stroke(new Path2D(text.svgpath));
    ctx.restore();
    return;
  }
  if ("polygons" in text) {
    ctx.fill(getPolygonsPath(text));
    ctx.restore();
    return;
  }
  ctx.translate(...text.pos);
  ctx.translate(text.thickness * 0.5, 0);
  var angle = -text.angle;
  if (text.attr.includes("mirrored")) {
    ctx.scale(-1, 1);
    angle = -angle;
  }
  var tilt = 0;
  if (text.attr.includes("italic")) {
    tilt = 0.125;
  }
  var interline = text.height * 1.5 + text.thickness;
  var txt = text.text.split("\n");
  // KiCad ignores last empty line.
  if (txt[txt.length - 1] == '') txt.pop();
  ctx.rotate(deg2rad(angle));
  var offsety = (1 - text.justify[1]) / 2 * text.height; // One line offset
  offsety -= (txt.length - 1) * (text.justify[1] + 1) / 2 * interline; // Multiline offset
  for (var i in txt) {
    var lineWidth = text.thickness + interline / 2 * tilt;
    for (var j = 0; j < txt[i].length; j++) {
      if (txt[i][j] == '\t') {
        var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
        lineWidth += fourSpaces - lineWidth % fourSpaces;
      } else {
        if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
        }
        lineWidth += pcbdata.font_data[txt[i][j]].w * text.width;
      }
    }
    var offsetx = -lineWidth * (text.justify[0] + 1) / 2;
    var inOverbar = false;
    for (var j = 0; j < txt[i].length; j++) {
      if (config.kicad_text_formatting) {
        if (txt[i][j] == '\t') {
          var fourSpaces = 4 * pcbdata.font_data[' '].w * text.width;
          offsetx += fourSpaces - offsetx % fourSpaces;
          continue;
        } else if (txt[i][j] == '~') {
          j++;
          if (j == txt[i].length)
            break;
          if (txt[i][j] != '~') {
            inOverbar = !inOverbar;
          }
        }
      }
      var glyph = pcbdata.font_data[txt[i][j]];
      if (inOverbar) {
        var overbarStart = [offsetx, -text.height * 1.4 + offsety];
        var overbarEnd = [offsetx + text.width * glyph.w, overbarStart[1]];

        if (!lastHadOverbar) {
          overbarStart[0] += text.height * 1.4 * tilt;
          lastHadOverbar = true;
        }
        ctx.beginPath();
        ctx.moveTo(...overbarStart);
        ctx.lineTo(...overbarEnd);
        ctx.stroke();
      } else {
        lastHadOverbar = false;
      }
      for (var line of glyph.l) {
        ctx.beginPath();
        ctx.moveTo(...calcFontPoint(line[0], text, offsetx, offsety, tilt));
        for (var k = 1; k < line.length; k++) {
          ctx.lineTo(...calcFontPoint(line[k], text, offsetx, offsety, tilt));
        }
        ctx.stroke();
      }
      offsetx += glyph.w * text.width;
    }
    offsety += interline;
  }
  ctx.restore();
}

function drawedge(ctx, scalefactor, edge, color) {
  ctx.strokeStyle = color;
  ctx.fillStyle = color;
  ctx.lineWidth = Math.max(1 / scalefactor, edge.width);
  ctx.lineCap = "round";
  ctx.lineJoin = "round";
  if ("svgpath" in edge) {
    ctx.stroke(new Path2D(edge.svgpath));
  } else {
    ctx.beginPath();
    if (edge.type == "segment") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(...edge.end);
    }
    if (edge.type == "rect") {
      ctx.moveTo(...edge.start);
      ctx.lineTo(edge.start[0], edge.end[1]);
      ctx.lineTo(...edge.end);
      ctx.lineTo(edge.end[0], edge.start[1]);
      ctx.lineTo(...edge.start);
    }
    if (edge.type == "arc") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        deg2rad(edge.startangle),
        deg2rad(edge.endangle));
    }
    if (edge.type == "circle") {
      ctx.arc(
        ...edge.start,
        edge.radius,
        0, 2 * Math.PI);
      ctx.closePath();
    }
    if (edge.type == "curve") {
      ctx.moveTo(...edge.start);
      ctx.bezierCurveTo(...edge.cpa, ...edge.cpb, ...edge.end);
    }
    if("filled" in edge && edge.filled)
      ctx.fill();
    else
      ctx.stroke();
  }
}

function getChamferedRectPath(size, radius, chamfpos, chamfratio) {
  // chamfpos is a bitmask, left = 1, right = 2, bottom left = 4, bottom right = 8
  var path = new Path2D();
  var width = size[0];
  var height = size[1];
  var x = width * -0.5;
  var y = height * -0.5;
  var chamfOffset = Math.min(width, height) * chamfratio;
  path.moveTo(x, 0);
  if (chamfpos & 4) {
    path.lineTo(x, y + height - chamfOffset);
    path.lineTo(x + chamfOffset, y + height);
    path.lineTo(0, y + height);
  } else {
    path.arcTo(x, y + height, x + width, y + height, radius);
  }
  if (chamfpos & 8) {
    path.lineTo(x + width - chamfOffset, y + height);
    path.lineTo(x + width, y + height - chamfOffset);
    path.lineTo(x + width, 0);
  } else {
    path.arcTo(x + width, y + height, x + width, y, radius);
  }
  if (chamfpos & 2) {
    path.lineTo(x + width, y + chamfOffset);
    path.lineTo(x + width - chamfOffset, y);
    path.lineTo(0, y);
  } else {
    path.arcTo(x + width, y, x, y, radius);
  }
  if (chamfpos & 1) {
    path.lineTo(x + chamfOffset, y);
    path.lineTo(x, y + chamfOffset);
    path.lineTo(x, 0);
  } else {
    path.arcTo(x, y, x, y + height, radius);
  }
  path.closePath();
  return path;
}

function getOblongPath(size) {
  return getChamferedRectPath(size, Math.min(size[0], size[1]) / 2, 0, 0);
}

function getPolygonsPath(shape) {
  if (shape.path2d) {
    return shape.path2d;
  }
  if ("svgpath" in shape) {
    shape.path2d = new Path2D(shape.svgpath);
  } else {
    var path = new Path2D();
    for (var polygon of shape.polygons) {
      path.moveTo(...polygon[0]);
      for (var i = 1; i < polygon.length; i++) {
        path.lineTo(...polygon[i]);
      }
      path.closePath();
    }
    shape.path2d = path;
  }
  return shape.path2d;
}

function drawPolygonShape(ctx, scalefactor, shape, color) {
  ctx.save();
  if (!("svgpath" in shape)) {
    ctx.translate(...shape.pos);
    ctx.rotate(deg2rad(-shape.angle));
  }
  if("filled" in shape && !shape.filled) {
    ctx.strokeStyle = color;
    ctx.lineWidth = Math.max(1 / scalefactor, shape.width);
    ctx.lineCap = "round";
    ctx.lineJoin = "round";
    ctx.stroke(getPolygonsPath(shape));
  } else {
    ctx.fillStyle = color;
    ctx.fill(getPolygonsPath(shape));
  }
  ctx.restore();
}

function drawDrawing(ctx, scalefactor, drawing, color) {
  if (["segment", "arc", "circle", "curve", "rect"].includes(drawing.type)) {
    drawedge(ctx, scalefactor, drawing, color);
  } else if (drawing.type == "polygon") {
    drawPolygonShape(ctx, scalefactor, drawing, color);
  } else {
    drawText(ctx, drawing, color);
  }
}

function getCirclePath(radius) {
  var path = new Path2D();
  path.arc(0, 0, radius, 0, 2 * Math.PI);
  path.closePath();
  return path;
}

function getCachedPadPath(pad) {
  if (!pad.path2d) {
    // if path2d is not set, build one and cache it on pad object
    if (pad.shape == "rect") {
      pad.path2d = new Path2D();
      pad.path2d.rect(...pad.size.map(c => -c * 0.5), ...pad.size);
    } else if (pad.shape == "oval") {
      pad.path2d = getOblongPath(pad.size);
    } else if (pad.shape == "circle") {
      pad.path2d = getCirclePath(pad.size[0] / 2);
    } else if (pad.shape == "roundrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, 0, 0);
    } else if (pad.shape == "chamfrect") {
      pad.path2d = getChamferedRectPath(pad.size, pad.radius, pad.chamfpos, pad.chamfratio)
    } else if (pad.shape == "custom") {
      pad.path2d = getPolygonsPath(pad);
    }
  }
  return pad.path2d;
}

function drawPad(ctx, pad, color, outline) {
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  if (pad.offset) {
    ctx.translate(...pad.offset);
  }
  ctx.fillStyle = color;
  ctx.strokeStyle = color;
  var path = getCachedPadPath(pad);
  if (outline) {
    ctx.stroke(path);
  } else {
    ctx.fill(path);
  }
  ctx.restore();
}

function drawPadHole(ctx, pad, padHoleColor) {
  if (pad.type != "th") return;
  ctx.save();
  ctx.translate(...pad.pos);
  ctx.rotate(-deg2rad(pad.angle));
  ctx.fillStyle = padHoleColor;
  if (pad.drillshape == "oblong") {
    ctx.fill(getOblongPath(pad.drillsize));
  } else {
    ctx.fill(getCirclePath(pad.drillsize[0] / 2));
  }
  ctx.restore();
}

function drawFootprint(ctx, layer, scalefactor, footprint, colors, highlight, outline) {
  if (highlight) {
    // draw bounding box
    if (footprint.layer == layer) {
      ctx.save();
      ctx.globalAlpha = 0.2;
      ctx.translate(...footprint.bbox.pos);
      ctx.rotate(deg2rad(-footprint.bbox.angle));
      ctx.translate(...footprint.bbox.relpos);
      ctx.fillStyle = colors.pad;
      ctx.fillRect(0, 0, ...footprint.bbox.size);
      ctx.globalAlpha = 1;
      ctx.strokeStyle = colors.pad;
      ctx.lineWidth = 3 / scalefactor;
      ctx.strokeRect(0, 0, ...footprint.bbox.size);
      ctx.restore();
    }
  }
  // draw drawings
  for (var drawing of footprint.drawings) {
    if (drawing.layer == layer) {
      drawDrawing(ctx, scalefactor, drawing.drawing, colors.pad);
    }
  }
  ctx.lineWidth = 3 / scalefactor;
  // draw pads
  if (settings.renderPads) {
    for (var pad of footprint.pads) {
      if (pad.layers.includes(layer)) {
        drawPad(ctx, pad, colors.pad, outline);
        if (pad.pin1 &&
          (settings.highlightpin1 == "all" ||
            settings.highlightpin1 == "selected" && highlight)) {
          drawPad(ctx, pad, colors.outline, true);
        }
      }
    }
    for (var pad of footprint.pads) {
      drawPadHole(ctx, pad, colors.padHole);
    }
  }
}

function drawEdgeCuts(canvas, scalefactor) {
  var ctx = canvas.getContext("2d");
  var edgecolor = getComputedStyle(topmostdiv).getPropertyValue('--pcb-edge-color');
  for (var edge of pcbdata.edges) {
    drawDrawing(ctx, scalefactor, edge, edgecolor);
  }
}

function drawFootprints(canvas, layer, scalefactor, highlight) {
  var ctx = canvas.getContext("2d");
  ctx.lineWidth = 3 / scalefactor;
  var style = getComputedStyle(topmostdiv);

  var colors = {
    pad: style.getPropertyValue('--pad-color'),
    padHole: style.getPropertyValue('--pad-hole-color'),
    outline: style.getPropertyValue('--pin1-outline-color'),
  }

  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var mod = pcbdata.footprints[i];
    var outline = settings.renderDnpOutline && pcbdata.bom.skipped.includes(i);
    var h = highlightedFootprints.includes(i);
    var d = markedFootprints.has(i);
    if (highlight) {
      if(h && d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-both');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-both');
      } else if (h) {
        colors.pad = style.getPropertyValue('--pad-color-highlight');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight');
      } else if (d) {
        colors.pad = style.getPropertyValue('--pad-color-highlight-marked');
        colors.outline = style.getPropertyValue('--pin1-outline-color-highlight-marked');
      }
    }
    if( h || d || !highlight) {
      drawFootprint(ctx, layer, scalefactor, mod, colors, highlight, outline);
    }
  }
}

function drawBgLayer(layername, canvas, layer, scalefactor, edgeColor, polygonColor, textColor) {
  var ctx = canvas.getContext("2d");
  for (var d of pcbdata.drawings[layername][layer]) {
    if (["segment", "arc", "circle", "curve", "rect"].includes(d.type)) {
      drawedge(ctx, scalefactor, d, edgeColor);
    } else if (d.type == "polygon") {
      drawPolygonShape(ctx, scalefactor, d, polygonColor);
    } else {
      drawText(ctx, d, textColor);
    }
  }
}

function drawTracks(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineCap = "round";
  for (var track of pcbdata.tracks[layer]) {
    if (highlight && highlightedNet != track.net) continue;
    ctx.strokeStyle = highlight ? defaultColor : settings.netColors[track.net] || defaultColor;
    ctx.lineWidth = track.width;
    ctx.beginPath();
    if ('radius' in track) {
      ctx.arc(
        ...track.center,
        track.radius,
        deg2rad(track.startangle),
        deg2rad(track.endangle));
    } else {
      ctx.moveTo(...track.start);
      ctx.lineTo(...track.end);
    }
    ctx.stroke();
  }
}

function drawZones(canvas, layer, defaultColor, highlight) {
  ctx = canvas.getContext("2d");
  ctx.lineJoin = "round";
  for (var zone of pcbdata.zones[layer]) {
    if (highlight && highlightedNet != zone.net) continue;
    ctx.strokeStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    ctx.fillStyle = highlight ? defaultColor : settings.netColors[zone.net] || defaultColor;
    if (!zone.path2d) {
      zone.path2d = getPolygonsPath(zone);
    }
    ctx.fill(zone.path2d, zone.fillrule || "nonzero");
    if (zone.width > 0) {
      ctx.lineWidth = zone.width;
      ctx.stroke(zone.path2d);
    }
  }
}

function clearCanvas(canvas, color = null) {
  var ctx = canvas.getContext("2d");
  ctx.save();
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  if (color) {
    ctx.fillStyle = color;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  } else {
    if (!window.matchMedia("print").matches)
      ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
  ctx.restore();
}

function drawNets(canvas, layer, highlight) {
  var style = getComputedStyle(topmostdiv);
  if (settings.renderTracks) {
    var trackColor = style.getPropertyValue(highlight ? '--track-color-highlight' : '--track-color');
    drawTracks(canvas, layer, trackColor, highlight);
  }
  if (settings.renderZones) {
    var zoneColor = style.getPropertyValue(highlight ? '--zone-color-highlight' : '--zone-color');
    drawZones(canvas, layer, zoneColor, highlight);
  }
  if (highlight && settings.renderPads) {
    var padColor = style.getPropertyValue('--pad-color-highlight');
    var padHoleColor = style.getPropertyValue('--pad-hole-color');
    var ctx = canvas.getContext("2d");
    for (var footprint of pcbdata.footprints) {
      // draw pads
      var padDrawn = false;
      for (var pad of footprint.pads) {
        if (highlightedNet != pad.net) continue;
        if (pad.layers.includes(layer)) {
          drawPad(ctx, pad, padColor, false);
          padDrawn = true;
        }
      }
      if (padDrawn) {
        // redraw all pad holes because some pads may overlap
        for (var pad of footprint.pads) {
          drawPadHole(ctx, pad, padHoleColor);
        }
      }
    }
  }
}

function drawHighlightsOnLayer(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.highlight);
  }
  if (markedFootprints.size > 0 || highlightedFootprints.length > 0) {
    drawFootprints(canvasdict.highlight, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom, true);
  }
  if (highlightedNet !== null) {
    drawNets(canvasdict.highlight, canvasdict.layer, true);
  }
}

function drawHighlights() {
  drawHighlightsOnLayer(allcanvas.front);
  drawHighlightsOnLayer(allcanvas.back);
}

function drawBackground(canvasdict, clear = true) {
  if (clear) {
    clearCanvas(canvasdict.bg);
    clearCanvas(canvasdict.fab);
    clearCanvas(canvasdict.silk);
  }

  drawNets(canvasdict.bg, canvasdict.layer, false);
  drawFootprints(canvasdict.bg, canvasdict.layer,
    canvasdict.transform.s * canvasdict.transform.zoom, false);

  drawEdgeCuts(canvasdict.bg, canvasdict.transform.s * canvasdict.transform.zoom);

  var style = getComputedStyle(topmostdiv);
  var edgeColor = style.getPropertyValue('--silkscreen-edge-color');
  var polygonColor = style.getPropertyValue('--silkscreen-polygon-color');
  var textColor = style.getPropertyValue('--silkscreen-text-color');
  if (settings.renderSilkscreen) {
    drawBgLayer(
      "silkscreen", canvasdict.silk, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
  edgeColor = style.getPropertyValue('--fabrication-edge-color');
  polygonColor = style.getPropertyValue('--fabrication-polygon-color');
  textColor = style.getPropertyValue('--fabrication-text-color');
  if (settings.renderFabrication) {
    drawBgLayer(
      "fabrication", canvasdict.fab, canvasdict.layer,
      canvasdict.transform.s * canvasdict.transform.zoom,
      edgeColor, polygonColor, textColor);
  }
}

function prepareCanvas(canvas, flip, transform) {
  var ctx = canvas.getContext("2d");
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  ctx.scale(transform.zoom, transform.zoom);
  ctx.translate(transform.panx, transform.pany);
  if (flip) {
    ctx.scale(-1, 1);
  }
  ctx.translate(transform.x, transform.y);
  ctx.rotate(deg2rad(settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  ctx.scale(transform.s, transform.s);
}

function prepareLayer(canvasdict) {
  var flip = (canvasdict.layer === "B");
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    prepareCanvas(canvasdict[c], flip, canvasdict.transform);
  }
}

function rotateVector(v, angle) {
  angle = deg2rad(angle);
  return [
    v[0] * Math.cos(angle) - v[1] * Math.sin(angle),
    v[0] * Math.sin(angle) + v[1] * Math.cos(angle)
  ];
}

function applyRotation(bbox, flip) {
  var corners = [
    [bbox.minx, bbox.miny],
    [bbox.minx, bbox.maxy],
    [bbox.maxx, bbox.miny],
    [bbox.maxx, bbox.maxy],
  ];
  corners = corners.map((v) => rotateVector(v, settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0)));
  return {
    minx: corners.reduce((a, v) => Math.min(a, v[0]), Infinity),
    miny: corners.reduce((a, v) => Math.min(a, v[1]), Infinity),
    maxx: corners.reduce((a, v) => Math.max(a, v[0]), -Infinity),
    maxy: corners.reduce((a, v) => Math.max(a, v[1]), -Infinity),
  }
}

function recalcLayerScale(layerdict, width, height) {
  var flip = (layerdict.layer === "B");
  var bbox = applyRotation(pcbdata.edges_bbox, flip);
  var scalefactor = 0.98 * Math.min(
    width / (bbox.maxx - bbox.minx),
    height / (bbox.maxy - bbox.miny)
  );
  if (scalefactor < 0.1) {
    scalefactor = 1;
  }
  layerdict.transform.s = scalefactor;
  if (flip) {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor + width) * 0.5;
  } else {
    layerdict.transform.x = -((bbox.maxx + bbox.minx) * scalefactor - width) * 0.5;
  }
  layerdict.transform.y = -((bbox.maxy + bbox.miny) * scalefactor - height) * 0.5;
  for (var c of ["bg", "fab", "silk", "highlight"]) {
    canvas = layerdict[c];
    canvas.width = width;
    canvas.height = height;
    canvas.style.width = (width / devicePixelRatio) + "px";
    canvas.style.height = (height / devicePixelRatio) + "px";
  }
}

function redrawCanvas(layerdict) {
  prepareLayer(layerdict);
  drawBackground(layerdict);
  drawHighlightsOnLayer(layerdict);
}

function resizeCanvas(layerdict) {
  var canvasdivid = {
    "F": "frontcanvas",
    "B": "backcanvas"
  } [layerdict.layer];
  var width = document.getElementById(canvasdivid).clientWidth * devicePixelRatio;
  var height = document.getElementById(canvasdivid).clientHeight * devicePixelRatio;
  recalcLayerScale(layerdict, width, height);
  redrawCanvas(layerdict);
}

function resizeAll() {
  resizeCanvas(allcanvas.front);
  resizeCanvas(allcanvas.back);
}

function pointWithinDistanceToSegment(x, y, x1, y1, x2, y2, d) {
  var A = x - x1;
  var B = y - y1;
  var C = x2 - x1;
  var D = y2 - y1;

  var dot = A * C + B * D;
  var len_sq = C * C + D * D;
  var dx, dy;
  if (len_sq == 0) {
    // start and end of the segment coincide
    dx = x - x1;
    dy = y - y1;
  } else {
    var param = dot / len_sq;
    var xx, yy;
    if (param < 0) {
      xx = x1;
      yy = y1;
    } else if (param > 1) {
      xx = x2;
      yy = y2;
    } else {
      xx = x1 + param * C;
      yy = y1 + param * D;
    }
    dx = x - xx;
    dy = y - yy;
  }
  return dx * dx + dy * dy <= d * d;
}

function modulo(n, mod) {
  return ((n % mod) + mod) % mod;
}

function pointWithinDistanceToArc(x, y, xc, yc, radius, startangle, endangle, d) {
  var dx = x - xc;
  var dy = y - yc;
  var r_sq = dx * dx + dy * dy;
  var rmin = Math.max(0, radius - d);
  var rmax = radius + d;

  if (r_sq < rmin * rmin || r_sq > rmax * rmax)
    return false;

  var angle1 = modulo(deg2rad(startangle), 2 * Math.PI);
  var dx1 = xc + radius * Math.cos(angle1) - x;
  var dy1 = yc + radius * Math.sin(angle1) - y;
  if (dx1 * dx1 + dy1 * dy1 <= d * d)
    return true;

  var angle2 = modulo(deg2rad(endangle), 2 * Math.PI);
  var dx2 = xc + radius * Math.cos(angle2) - x;
  var dy2 = yc + radius * Math.sin(angle2) - y;
  if (dx2 * dx2 + dy2 * dy2 <= d * d)
    return true;

  var angle = modulo(Math.atan2(dy, dx), 2 * Math.PI);
  if (angle1 > angle2)
    return (angle >= angle2 || angle <= angle1);
  else
    return (angle >= angle1 && angle <= angle2);
}

function pointWithinPad(x, y, pad) {
  var v = [x - pad.pos[0], y - pad.pos[1]];
  v = rotateVector(v, pad.angle);
  if (pad.offset) {
    v[0] -= pad.offset[0];
    v[1] -= pad.offset[1];
  }
  return emptyContext2d.isPointInPath(getCachedPadPath(pad), ...v);
}

function netHitScan(layer, x, y) {
  // Check track segments
  if (settings.renderTracks && pcbdata.tracks) {
    for (var track of pcbdata.tracks[layer]) {
      if ('radius' in track) {
        if (pointWithinDistanceToArc(x, y, ...track.center, track.radius, track.startangle, track.endangle, track.width / 2)) {
          return track.net;
        }
      } else {
        if (pointWithinDistanceToSegment(x, y, ...track.start, ...track.end, track.width / 2)) {
          return track.net;
        }
      }
    }
  }
  // Check pads
  if (settings.renderPads) {
    for (var footprint of pcbdata.footprints) {
      for (var pad of footprint.pads) {
        if (pad.layers.includes(layer) && pointWithinPad(x, y, pad)) {
          return pad.net;
        }
      }
    }
  }
  return null;
}

function pointWithinFootprintBbox(x, y, bbox) {
  var v = [x - bbox.pos[0], y - bbox.pos[1]];
  v = rotateVector(v, bbox.angle);
  return bbox.relpos[0] <= v[0] && v[0] <= bbox.relpos[0] + bbox.size[0] &&
    bbox.relpos[1] <= v[1] && v[1] <= bbox.relpos[1] + bbox.size[1];
}

function bboxHitScan(layer, x, y) {
  var result = [];
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    var footprint = pcbdata.footprints[i];
    if (footprint.layer == layer) {
      if (pointWithinFootprintBbox(x, y, footprint.bbox)) {
        result.push(i);
      }
    }
  }
  return result;
}

function handlePointerDown(e, layerdict) {
  if (e.button != 0 && e.button != 1) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  layerdict.pointerStates[e.pointerId] = {
    distanceTravelled: 0,
    lastX: e.offsetX,
    lastY: e.offsetY,
    downTime: Date.now(),
  };
}

function handleMouseClick(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var x = e.offsetX;
  var y = e.offsetY;
  var t = layerdict.transform;
  var flip = layerdict.layer === "B";
  if (flip) {
    x = (devicePixelRatio * x / t.zoom - t.panx + t.x) / -t.s;
  } else {
    x = (devicePixelRatio * x / t.zoom - t.panx - t.x) / t.s;
  }
  y = (devicePixelRatio * y / t.zoom - t.y - t.pany) / t.s;
  var v = rotateVector([x, y], -settings.boardRotation + (flip && settings.offsetBackRotation ? - 180 : 0));
  if ("nets" in pcbdata) {
    var net = netHitScan(layerdict.layer, ...v);
    if (net !== highlightedNet) {
      netClicked(net);
    }
  }
  if (highlightedNet === null) {
    var footprints = bboxHitScan(layerdict.layer, ...v);
    if (footprints.length > 0) {
      footprintsClicked(footprints);
    }
  }
}

function handlePointerLeave(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();

  if (!settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }

  delete layerdict.pointerStates[e.pointerId];
}

function resetTransform(layerdict) {
  layerdict.transform.panx = 0;
  layerdict.transform.pany = 0;
  layerdict.transform.zoom = 1;
  redrawCanvas(layerdict);
}

function handlePointerUp(e, layerdict) {
  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  e.preventDefault();
  e.stopPropagation();

  if (e.button == 2) {
    // Reset pan and zoom on right click.
    resetTransform(layerdict);
    layerdict.anotherPointerTapped = false;
    return;
  }

  // We haven't necessarily had a pointermove event since the interaction started, so make sure we update this now
  var ptr = layerdict.pointerStates[e.pointerId];
  ptr.distanceTravelled += Math.abs(e.offsetX - ptr.lastX) + Math.abs(e.offsetY - ptr.lastY);

  if (e.button == 0 && ptr.distanceTravelled < 10 && Date.now() - ptr.downTime <= 500) {
    if (Object.keys(layerdict.pointerStates).length == 1) {
      if (layerdict.anotherPointerTapped) {
        // This is the second pointer coming off of a two-finger tap
        resetTransform(layerdict);
      } else {
        // This is just a regular tap
        handleMouseClick(e, layerdict);
      }
      layerdict.anotherPointerTapped = false;
    } else {
      // This is the first finger coming off of what could become a two-finger tap
      layerdict.anotherPointerTapped = true;
    }
  } else {
    if (!settings.redrawOnDrag) {
      redrawCanvas(layerdict);
    }
    layerdict.anotherPointerTapped = false;
  }

  delete layerdict.pointerStates[e.pointerId];
}

function handlePointerMove(e, layerdict) {
  if (!layerdict.pointerStates.hasOwnProperty(e.pointerId)) {
    return;
  }
  e.preventDefault();
  e.stopPropagation();

  if (!e.hasOwnProperty("offsetX")) {
    // The polyfill doesn't set this properly
    e.offsetX = e.pageX - e.currentTarget.offsetLeft;
    e.offsetY = e.pageY - e.currentTarget.offsetTop;
  }

  var thisPtr = layerdict.pointerStates[e.pointerId];

  var dx = e.offsetX - thisPtr.lastX;
  var dy = e.offsetY - thisPtr.lastY;

  // If this number is low on pointer up, we count the action as a click
  thisPtr.distanceTravelled += Math.abs(dx) + Math.abs(dy);

  if (Object.keys(layerdict.pointerStates).length == 1) {
    // This is a simple drag
    layerdict.transform.panx += devicePixelRatio * dx / layerdict.transform.zoom;
    layerdict.transform.pany += devicePixelRatio * dy / layerdict.transform.zoom;
  } else if (Object.keys(layerdict.pointerStates).length == 2) {
    var otherPtr = Object.values(layerdict.pointerStates).filter((ptr) => ptr != thisPtr)[0];

    var oldDist = Math.sqrt(Math.pow(thisPtr.lastX - otherPtr.lastX, 2) + Math.pow(thisPtr.lastY - otherPtr.lastY, 2));
    var newDist = Math.sqrt(Math.pow(e.offsetX - otherPtr.lastX, 2) + Math.pow(e.offsetY - otherPtr.lastY, 2));

    var scaleFactor = newDist / oldDist;

    if (scaleFactor != NaN) {
      layerdict.transform.zoom *= scaleFactor;

      var zoomd = (1 - scaleFactor) / layerdict.transform.zoom;
      layerdict.transform.panx += devicePixelRatio * otherPtr.lastX * zoomd;
      layerdict.transform.pany += devicePixelRatio * otherPtr.lastY * zoomd;
    }
  }

  thisPtr.lastX = e.offsetX;
  thisPtr.lastY = e.offsetY;

  if (settings.redrawOnDrag) {
    redrawCanvas(layerdict);
  }
}

function handleMouseWheel(e, layerdict) {
  e.preventDefault();
  e.stopPropagation();
  var t = layerdict.transform;
  var wheeldelta = e.deltaY;
  if (e.deltaMode == 1) {
    // FF only, scroll by lines
    wheeldelta *= 30;
  } else if (e.deltaMode == 2) {
    wheeldelta *= 300;
  }
  var m = Math.pow(1.1, -wheeldelta / 40);
  // Limit amount of zoom per tick.
  if (m > 2) {
    m = 2;
  } else if (m < 0.5) {
    m = 0.5;
  }
  t.zoom *= m;
  var zoomd = (1 - m) / t.zoom;
  t.panx += devicePixelRatio * e.offsetX * zoomd;
  t.pany += devicePixelRatio * e.offsetY * zoomd;
  redrawCanvas(layerdict);
}

function addMouseHandlers(div, layerdict) {
  div.addEventListener("pointerdown", function(e) {
    handlePointerDown(e, layerdict);
  });
  div.addEventListener("pointermove", function(e) {
    handlePointerMove(e, layerdict);
  });
  div.addEventListener("pointerup", function(e) {
    handlePointerUp(e, layerdict);
  });
  var pointerleave = function(e) {
    handlePointerLeave(e, layerdict);
  }
  div.addEventListener("pointercancel", pointerleave);
  div.addEventListener("pointerleave", pointerleave);
  div.addEventListener("pointerout", pointerleave);

  div.onwheel = function(e) {
    handleMouseWheel(e, layerdict);
  }
  for (var element of [div, layerdict.bg, layerdict.fab, layerdict.silk, layerdict.highlight]) {
    element.addEventListener("contextmenu", function(e) {
      e.preventDefault();
    }, false);
  }
}

function setRedrawOnDrag(value) {
  settings.redrawOnDrag = value;
  writeStorage("redrawOnDrag", value);
}

function setBoardRotation(value) {
  settings.boardRotation = value * 5;
  writeStorage("boardRotation", settings.boardRotation);
  document.getElementById("rotationDegree").textContent = settings.boardRotation;
  resizeAll();
}

function setOffsetBackRotation(value) {
  settings.offsetBackRotation = value;
  writeStorage("offsetBackRotation", value);
  resizeAll();
}

function initRender() {
  allcanvas = {
    front: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("F_bg"),
      fab: document.getElementById("F_fab"),
      silk: document.getElementById("F_slk"),
      highlight: document.getElementById("F_hl"),
      layer: "F",
    },
    back: {
      transform: {
        x: 0,
        y: 0,
        s: 1,
        panx: 0,
        pany: 0,
        zoom: 1,
      },
      pointerStates: {},
      anotherPointerTapped: false,
      bg: document.getElementById("B_bg"),
      fab: document.getElementById("B_fab"),
      silk: document.getElementById("B_slk"),
      highlight: document.getElementById("B_hl"),
      layer: "B",
    }
  };
  addMouseHandlers(document.getElementById("frontcanvas"), allcanvas.front);
  addMouseHandlers(document.getElementById("backcanvas"), allcanvas.back);
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/*
 * Table reordering via Drag'n'Drop
 * Inspired by: https://htmldom.dev/drag-and-drop-table-column
 */

function setBomHandlers() {

  const bom = document.getElementById('bomtable');

  let dragName;
  let placeHolderElements;
  let draggingElement;
  let forcePopulation;
  let xOffset;
  let yOffset;
  let wasDragged;

  const mouseUpHandler = function(e) {
    // Delete dragging element
    draggingElement.remove();

    // Make BOM selectable again
    bom.style.removeProperty("userSelect");

    // Remove listeners
    document.removeEventListener('mousemove', mouseMoveHandler);
    document.removeEventListener('mouseup', mouseUpHandler);

    if (wasDragged) {
      // Redraw whole BOM
      populateBomTable();
    }
  }

  const mouseMoveHandler = function(e) {
    // Notice the dragging
    wasDragged = true;

    // Make the dragged element visible
    draggingElement.style.removeProperty("display");

    // Set elements position to mouse position
    draggingElement.style.left = `${e.screenX - xOffset}px`;
    draggingElement.style.top = `${e.screenY - yOffset}px`;

    // Forced redrawing of BOM table
    if (forcePopulation) {
      forcePopulation = false;
      // Copy array
      phe = Array.from(placeHolderElements);
      // populate BOM table again
      populateBomHeader(dragName, phe);
      populateBomBody(dragName, phe);
    }

    // Set up array of hidden columns
    var hiddenColumns = Array.from(settings.hiddenColumns);
    // In the ungrouped mode, quantity don't exist
    if (settings.bommode === "ungrouped")
      hiddenColumns.push("Quantity");
    // If no checkbox fields can be found, we consider them hidden
    if (settings.checkboxes.length == 0)
      hiddenColumns.push("checkboxes");

    // Get table headers and group them into checkboxes, extrafields and normal headers
    const bh = document.getElementById("bomhead");
    headers = Array.from(bh.querySelectorAll("th"))
    headers.shift() // numCol is not part of the columnOrder
    headerGroups = []
    lastCompoundClass = null;
    for (i = 0; i < settings.columnOrder.length; i++) {
      cElem = settings.columnOrder[i];
      if (hiddenColumns.includes(cElem)) {
        // Hidden columns appear as a dummy element
        headerGroups.push([]);
        continue;
      }
      elem = headers.filter(e => getColumnOrderName(e) === cElem)[0];
      if (elem.classList.contains("bom-checkbox")) {
        if (lastCompoundClass === "bom-checkbox") {
          cbGroup = headerGroups.pop();
          cbGroup.push(elem);
          headerGroups.push(cbGroup);
        } else {
          lastCompoundClass = "bom-checkbox";
          headerGroups.push([elem])
        }
      } else {
        headerGroups.push([elem])
      }
    }

    // Copy settings.columnOrder
    var columns = Array.from(settings.columnOrder)

    // Set up array with indices of hidden columns
    var hiddenIndices = hiddenColumns.map(e => settings.columnOrder.indexOf(e));
    var dragIndex = columns.indexOf(dragName);
    var swapIndex = dragIndex;
    var swapDone = false;

    // Check if the current dragged element is swapable with the left or right element
    if (dragIndex > 0) {
      // Get left headers boundingbox
      swapIndex = dragIndex - 1;
      while (hiddenIndices.includes(swapIndex) && swapIndex > 0)
        swapIndex--;
      if (!hiddenIndices.includes(swapIndex)) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX < box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }
    if ((!swapDone) && dragIndex < headerGroups.length - 1) {
      // Get right headers boundingbox
      swapIndex = dragIndex + 1;
      while (hiddenIndices.includes(swapIndex))
        swapIndex++;
      if (swapIndex < headerGroups.length) {
        box = getBoundingClientRectFromMultiple(headerGroups[swapIndex]);
        if (e.clientX > box.left + window.scrollX + (box.width / 2)) {
          swapElement = columns[dragIndex];
          columns.splice(dragIndex, 1);
          columns.splice(swapIndex, 0, swapElement);
          forcePopulation = true;
          swapDone = true;
        }
      }
    }

    // Write back change to storage
    if (swapDone) {
      settings.columnOrder = columns
      writeStorage("columnOrder", JSON.stringify(columns));
    }

  }

  const mouseDownHandler = function(e) {
    var target = e.target;
    if (target.tagName.toLowerCase() != "td")
      target = target.parentElement;

    // Used to check if a dragging has ever happened
    wasDragged = false;

    // Create new element which will be displayed as the dragged column
    draggingElement = document.createElement("div")
    draggingElement.classList.add("dragging");
    draggingElement.style.display = "none";
    draggingElement.style.position = "absolute";
    draggingElement.style.overflow = "hidden";

    // Get bomhead and bombody elements
    const bh = document.getElementById("bomhead");
    const bb = document.getElementById("bombody");

    // Get all compound headers for the current column
    var compoundHeaders;
    if (target.classList.contains("bom-checkbox")) {
      compoundHeaders = Array.from(bh.querySelectorAll("th.bom-checkbox"));
    } else {
      compoundHeaders = [target];
    }

    // Create new table which will display the column
    var newTable = document.createElement("table");
    newTable.classList.add("bom");
    newTable.style.background = "white";
    draggingElement.append(newTable);

    // Create new header element
    var newHeader = document.createElement("thead");
    newTable.append(newHeader);

    // Set up array for storing all placeholder elements
    placeHolderElements = [];

    // Add all compound headers to the new thead element and placeholders
    compoundHeaders.forEach(function(h) {
      clone = cloneElementWithDimensions(h);
      newHeader.append(clone);
      placeHolderElements.push(clone);
    });

    // Create new body element
    var newBody = document.createElement("tbody");
    newTable.append(newBody);

    // Get indices for compound headers
    var idxs = compoundHeaders.map(e => getBomTableHeaderIndex(e));

    // For each row in the BOM body...
    var rows = bb.querySelectorAll("tr");
    rows.forEach(function(row) {
      // ..get the cells for the compound column
      const tds = row.querySelectorAll("td");
      var copytds = idxs.map(i => tds[i]);
      // Add them to the new element and the placeholders
      var newRow = document.createElement("tr");
      copytds.forEach(function(td) {
        clone = cloneElementWithDimensions(td);
        newRow.append(clone);
        placeHolderElements.push(clone);
      });
      newBody.append(newRow);
    });

    // Compute width for compound header
    var width = compoundHeaders.reduce((acc, x) => acc + x.clientWidth, 0);
    draggingElement.style.width = `${width}px`;

    // Insert the new dragging element and disable selection on BOM
    bom.insertBefore(draggingElement, null);
    bom.style.userSelect = "none";

    // Determine the mouse position offset
    xOffset = e.screenX - compoundHeaders.reduce((acc, x) => Math.min(acc, x.offsetLeft), compoundHeaders[0].offsetLeft);
    yOffset = e.screenY - compoundHeaders[0].offsetTop;

    // Get name for the column in settings.columnOrder
    dragName = getColumnOrderName(target);

    // Change text and class for placeholder elements
    placeHolderElements = placeHolderElements.map(function(e) {
      newElem = cloneElementWithDimensions(e);
      newElem.textContent = "";
      newElem.classList.add("placeholder");
      return newElem;
    });

    // On next mouse move, the whole BOM needs to be redrawn to show the placeholders
    forcePopulation = true;

    // Add listeners for move and up on mouse
    document.addEventListener('mousemove', mouseMoveHandler);
    document.addEventListener('mouseup', mouseUpHandler);
  }

  // In netlist mode, there is nothing to reorder
  if (settings.bommode === "netlist")
    return;

  // Add mouseDownHandler to every column except the numCol
  bom.querySelectorAll("th")
    .forEach(function(head) {
      if (!head.classList.contains("numCol")) {
        head.onmousedown = mouseDownHandler;
      }
    });

}

function getBoundingClientRectFromMultiple(elements) {
  var elems = Array.from(elements);

  if (elems.length == 0)
    return null;

  var box = elems.shift()
    .getBoundingClientRect();

  elems.forEach(function(elem) {
    var elembox = elem.getBoundingClientRect();
    box.left = Math.min(elembox.left, box.left);
    box.top = Math.min(elembox.top, box.top);
    box.width += elembox.width;
    box.height = Math.max(elembox.height, box.height);
  });

  return box;
}

function cloneElementWithDimensions(elem) {
  var newElem = elem.cloneNode(true);
  newElem.style.height = window.getComputedStyle(elem).height;
  newElem.style.width = window.getComputedStyle(elem).width;
  return newElem;
}

function getBomTableHeaderIndex(elem) {
  const bh = document.getElementById('bomhead');
  const ths = Array.from(bh.querySelectorAll("th"));
  return ths.indexOf(elem);
}

function getColumnOrderName(elem) {
  var cname = elem.getAttribute("col_name");
  if (cname === "bom-checkbox")
    return "checkboxes";
  else
    return cname;
}

function resizableGrid(tablehead) {
  var cols = tablehead.firstElementChild.children;
  var rowWidth = tablehead.offsetWidth;

  for (var i = 1; i < cols.length; i++) {
    if (cols[i].classList.contains("bom-checkbox"))
      continue;
    cols[i].style.width = ((cols[i].clientWidth - paddingDiff(cols[i])) * 100 / rowWidth) + '%';
  }

  for (var i = 1; i < cols.length - 1; i++) {
    var div = document.createElement('div');
    div.className = "column-width-handle";
    cols[i].appendChild(div);
    setListeners(div);
  }

  function setListeners(div) {
    var startX, curCol, nxtCol, curColWidth, nxtColWidth, rowWidth;

    div.addEventListener('mousedown', function(e) {
      e.preventDefault();
      e.stopPropagation();

      curCol = e.target.parentElement;
      nxtCol = curCol.nextElementSibling;
      startX = e.pageX;

      var padding = paddingDiff(curCol);

      rowWidth = curCol.parentElement.offsetWidth;
      curColWidth = curCol.clientWidth - padding;
      nxtColWidth = nxtCol.clientWidth - padding;
    });

    document.addEventListener('mousemove', function(e) {
      if (startX) {
        var diffX = e.pageX - startX;
        diffX = -Math.min(-diffX, curColWidth - 20);
        diffX = Math.min(diffX, nxtColWidth - 20);

        curCol.style.width = ((curColWidth + diffX) * 100 / rowWidth) + '%';
        nxtCol.style.width = ((nxtColWidth - diffX) * 100 / rowWidth) + '%';
        console.log(`${curColWidth + nxtColWidth} ${(curColWidth + diffX) * 100 / rowWidth + (nxtColWidth - diffX) * 100 / rowWidth}`);
      }
    });

    document.addEventListener('mouseup', function(e) {
      curCol = undefined;
      nxtCol = undefined;
      startX = undefined;
      nxtColWidth = undefined;
      curColWidth = undefined
    });
  }

  function paddingDiff(col) {

    if (getStyleVal(col, 'box-sizing') == 'border-box') {
      return 0;
    }

    var padLeft = getStyleVal(col, 'padding-left');
    var padRight = getStyleVal(col, 'padding-right');
    return (parseInt(padLeft) + parseInt(padRight));

  }

  function getStyleVal(elm, css) {
    return (window.getComputedStyle(elm, null).getPropertyValue(css))
  }
}

///////////////////////////////////////////////

///////////////////////////////////////////////
/* DOM manipulation and misc code */

var bomsplit;
var canvassplit;
var initDone = false;
var bomSortFunction = null;
var currentSortColumn = null;
var currentSortOrder = null;
var currentHighlightedRowId;
var highlightHandlers = [];
var footprintIndexToHandler = {};
var netsToHandler = {};
var markedFootprints = new Set();
var highlightedFootprints = [];
var highlightedNet = null;
var lastClicked;

function dbg(html) {
  dbgdiv.innerHTML = html;
}

function redrawIfInitDone() {
  if (initDone) {
    redrawCanvas(allcanvas.front);
    redrawCanvas(allcanvas.back);
  }
}

function padsVisible(value) {
  writeStorage("padsVisible", value);
  settings.renderPads = value;
  redrawIfInitDone();
}

function referencesVisible(value) {
  writeStorage("referencesVisible", value);
  settings.renderReferences = value;
  redrawIfInitDone();
}

function valuesVisible(value) {
  writeStorage("valuesVisible", value);
  settings.renderValues = value;
  redrawIfInitDone();
}

function tracksVisible(value) {
  writeStorage("tracksVisible", value);
  settings.renderTracks = value;
  redrawIfInitDone();
}

function zonesVisible(value) {
  writeStorage("zonesVisible", value);
  settings.renderZones = value;
  redrawIfInitDone();
}

function dnpOutline(value) {
  writeStorage("dnpOutline", value);
  settings.renderDnpOutline = value;
  redrawIfInitDone();
}

function setDarkMode(value) {
  if (value) {
    topmostdiv.classList.add("dark");
  } else {
    topmostdiv.classList.remove("dark");
  }
  writeStorage("darkmode", value);
  settings.darkMode = value;
  redrawIfInitDone();
  if (initDone) {
    populateBomTable();
  }
}

function setShowBOMColumn(field, value) {
  if (field === "references") {
    var rl = document.getElementById("reflookup");
    rl.disabled = !value;
    if (!value) {
      rl.value = "";
      updateRefLookup("");
    }
  }

  var n = settings.hiddenColumns.indexOf(field);
  if (value) {
    if (n != -1) {
      settings.hiddenColumns.splice(n, 1);
    }
  } else {
    if (n == -1) {
      settings.hiddenColumns.push(field);
    }
  }

  writeStorage("hiddenColumns", JSON.stringify(settings.hiddenColumns));

  if (initDone) {
    populateBomTable();
  }

  redrawIfInitDone();
}


function setFullscreen(value) {
  if (value) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}

function fabricationVisible(value) {
  writeStorage("fabricationVisible", value);
  settings.renderFabrication = value;
  redrawIfInitDone();
}

function silkscreenVisible(value) {
  writeStorage("silkscreenVisible", value);
  settings.renderSilkscreen = value;
  redrawIfInitDone();
}

function setHighlightPin1(value) {
  writeStorage("highlightpin1", value);
  settings.highlightpin1 = value;
  redrawIfInitDone();
}

function getStoredCheckboxRefs(checkbox) {
  function convert(ref) {
    var intref = parseInt(ref);
    if (isNaN(intref)) {
      for (var i = 0; i < pcbdata.footprints.length; i++) {
        if (pcbdata.footprints[i].ref == ref) {
          return i;
        }
      }
      return -1;
    } else {
      return intref;
    }
  }
  if (!(checkbox in settings.checkboxStoredRefs)) {
    var val = readStorage("checkbox_" + checkbox);
    settings.checkboxStoredRefs[checkbox] = val ? val : "";
  }
  if (!settings.checkboxStoredRefs[checkbox]) {
    return new Set();
  } else {
    return new Set(settings.checkboxStoredRefs[checkbox].split(",").map(r => convert(r)).filter(a => a >= 0));
  }
}

function getCheckboxState(checkbox, references) {
  var storedRefsSet = getStoredCheckboxRefs(checkbox);
  var currentRefsSet = new Set(references.map(r => r[1]));
  // Get difference of current - stored
  var difference = new Set(currentRefsSet);
  for (ref of storedRefsSet) {
    difference.delete(ref);
  }
  if (difference.size == 0) {
    // All the current refs are stored
    return "checked";
  } else if (difference.size == currentRefsSet.size) {
    // None of the current refs are stored
    return "unchecked";
  } else {
    // Some of the refs are stored
    return "indeterminate";
  }
}

function setBomCheckboxState(checkbox, element, references) {
  var state = getCheckboxState(checkbox, references);
  element.checked = (state == "checked");
  element.indeterminate = (state == "indeterminate");
}

function createCheckboxChangeHandler(checkbox, references, row) {
  return function () {
    refsSet = getStoredCheckboxRefs(checkbox);
    var markWhenChecked = settings.markWhenChecked == checkbox;
    eventArgs = {
      checkbox: checkbox,
      refs: references,
    }
    if (this.checked) {
      // checkbox ticked
      for (var ref of references) {
        refsSet.add(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.add("checked");
        for (var ref of references) {
          markedFootprints.add(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'checked';
    } else {
      // checkbox unticked
      for (var ref of references) {
        refsSet.delete(ref[1]);
      }
      if (markWhenChecked) {
        row.classList.remove("checked");
        for (var ref of references) {
          markedFootprints.delete(ref[1]);
        }
        drawHighlights();
      }
      eventArgs.state = 'unchecked';
    }
    settings.checkboxStoredRefs[checkbox] = [...refsSet].join(",");
    writeStorage("checkbox_" + checkbox, settings.checkboxStoredRefs[checkbox]);
    updateCheckboxStats(checkbox);
    EventHandler.emitEvent(IBOM_EVENT_TYPES.CHECKBOX_CHANGE_EVENT, eventArgs);
  }
}

function clearHighlightedFootprints() {
  if (currentHighlightedRowId) {
    document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    currentHighlightedRowId = null;
    highlightedFootprints = [];
    highlightedNet = null;
  }
}

function createRowHighlightHandler(rowid, refs, net) {
  return function () {
    if (currentHighlightedRowId) {
      if (currentHighlightedRowId == rowid) {
        return;
      }
      document.getElementById(currentHighlightedRowId).classList.remove("highlighted");
    }
    document.getElementById(rowid).classList.add("highlighted");
    currentHighlightedRowId = rowid;
    highlightedFootprints = refs ? refs.map(r => r[1]) : [];
    highlightedNet = net;
    drawHighlights();
    EventHandler.emitEvent(
      IBOM_EVENT_TYPES.HIGHLIGHT_EVENT, {
      rowid: rowid,
      refs: refs,
      net: net
    });
  }
}

function updateNetColors() {
  writeStorage("netColors", JSON.stringify(settings.netColors));
  redrawIfInitDone();
}

function netColorChangeHandler(net) {
  return (event) => {
    settings.netColors[net] = event.target.value;
    updateNetColors();
  }
}

function netColorRightClick(net) {
  return (event) => {
    if(event.button == 2) {
      event.preventDefault();
      event.stopPropagation();

      var style = getComputedStyle(topmostdiv);
      var defaultNetColor = style.getPropertyValue('--track-color').trim();
      event.target.value = defaultNetColor;
      delete settings.netColors[net];
      updateNetColors();
    }
  }
}

function entryMatches(entry) {
  if (settings.bommode == "netlist") {
    // entry is just a net name
    return entry.toLowerCase().indexOf(filter) >= 0;
  }
  // check refs
  if (!settings.hiddenColumns.includes("references")) {
    for (var ref of entry) {
      if (ref[0].toLowerCase().indexOf(filter) >= 0) {
        return true;
      }
    }
  }
  // check fields
  for (var i in config.fields) {
    var f = config.fields[i];
    if (!settings.hiddenColumns.includes(f)) {
      for (var ref of entry) {
        if (String(pcbdata.bom.fields[ref[1]][i]).toLowerCase().indexOf(filter) >= 0) {
          return true;
        }
      }
    }
  }
  return false;
}

function findRefInEntry(entry) {
  return entry.filter(r => r[0].toLowerCase() == reflookup);
}

function highlightFilter(s) {
  if (!filter) {
    return s;
  }
  var parts = s.toLowerCase().split(filter);
  if (parts.length == 1) {
    return s;
  }
  var r = "";
  var pos = 0;
  for (var i in parts) {
    if (i > 0) {
      r += '<mark class="highlight">' +
        s.substring(pos, pos + filter.length) +
        '</mark>';
      pos += filter.length;
    }
    r += s.substring(pos, pos + parts[i].length);
    pos += parts[i].length;
  }
  return r;
}

function checkboxSetUnsetAllHandler(checkboxname) {
  return function () {
    var checkboxnum = 0;
    while (checkboxnum < settings.checkboxes.length &&
      settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
      checkboxnum++;
    }
    if (checkboxnum >= settings.checkboxes.length) {
      return;
    }
    var allset = true;
    var checkbox;
    var row;
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      if (!checkbox.checked || checkbox.indeterminate) {
        allset = false;
        break;
      }
    }
    for (row of bombody.childNodes) {
      checkbox = row.childNodes[checkboxnum + 1].childNodes[0];
      checkbox.checked = !allset;
      checkbox.indeterminate = false;
      checkbox.onchange();
    }
  }
}

function createColumnHeader(name, cls, comparator, is_checkbox = false) {
  var th = document.createElement("TH");
  th.innerHTML = name;
  th.classList.add(cls);
  if (is_checkbox)
    th.setAttribute("col_name", "bom-checkbox");
  else
    th.setAttribute("col_name", name);
  var span = document.createElement("SPAN");
  span.classList.add("sortmark");
  span.classList.add("none");
  th.appendChild(span);
  var spacer = document.createElement("div");
  spacer.className = "column-spacer";
  th.appendChild(spacer);
  spacer.onclick = function () {
    if (currentSortColumn && th !== currentSortColumn) {
      // Currently sorted by another column
      currentSortColumn.childNodes[1].classList.remove(currentSortOrder);
      currentSortColumn.childNodes[1].classList.add("none");
      currentSortColumn = null;
      currentSortOrder = null;
    }
    if (currentSortColumn && th === currentSortColumn) {
      // Already sorted by this column
      if (currentSortOrder == "asc") {
        // Sort by this column, descending order
        bomSortFunction = function (a, b) {
          return -comparator(a, b);
        }
        currentSortColumn.childNodes[1].classList.remove("asc");
        currentSortColumn.childNodes[1].classList.add("desc");
        currentSortOrder = "desc";
      } else {
        // Unsort
        bomSortFunction = null;
        currentSortColumn.childNodes[1].classList.remove("desc");
        currentSortColumn.childNodes[1].classList.add("none");
        currentSortColumn = null;
        currentSortOrder = null;
      }
    } else {
      // Sort by this column, ascending order
      bomSortFunction = comparator;
      currentSortColumn = th;
      currentSortColumn.childNodes[1].classList.remove("none");
      currentSortColumn.childNodes[1].classList.add("asc");
      currentSortOrder = "asc";
    }
    populateBomBody();
  }
  if (is_checkbox) {
    spacer.onclick = fancyDblClickHandler(
      spacer, spacer.onclick, checkboxSetUnsetAllHandler(name));
  }
  return th;
}

function populateBomHeader(placeHolderColumn = null, placeHolderElements = null) {
  while (bomhead.firstChild) {
    bomhead.removeChild(bomhead.firstChild);
  }
  var tr = document.createElement("TR");
  var th = document.createElement("TH");
  th.classList.add("numCol");

  var vismenu = document.createElement("div");
  vismenu.id = "vismenu";
  vismenu.classList.add("menu");

  var visbutton = document.createElement("div");
  visbutton.classList.add("visbtn");
  visbutton.classList.add("hideonprint");

  var viscontent = document.createElement("div");
  viscontent.classList.add("menu-content");
  viscontent.id = "vismenu-content";

  settings.columnOrder.forEach(column => {
    if (typeof column !== "string")
      return;

    // Skip empty columns
    if (column === "checkboxes" && settings.checkboxes.length == 0)
      return;
    else if (column === "Quantity" && settings.bommode == "ungrouped")
      return;

    var label = document.createElement("label");
    label.classList.add("menu-label");

    var input = document.createElement("input");
    input.classList.add("visibility_checkbox");
    input.type = "checkbox";
    input.onchange = function (e) {
      setShowBOMColumn(column, e.target.checked)
    };
    input.checked = !(settings.hiddenColumns.includes(column));

    label.appendChild(input);
    if (column.length > 0)
      label.append(column[0].toUpperCase() + column.slice(1));

    viscontent.appendChild(label);
  });

  viscontent.childNodes[0].classList.add("menu-label-top");

  vismenu.appendChild(visbutton);
  if (settings.bommode != "netlist") {
    vismenu.appendChild(viscontent);
    th.appendChild(vismenu);
  }
  tr.appendChild(th);

  var checkboxCompareClosure = function (checkbox) {
    return (a, b) => {
      var stateA = getCheckboxState(checkbox, a);
      var stateB = getCheckboxState(checkbox, b);
      if (stateA > stateB) return -1;
      if (stateA < stateB) return 1;
      return 0;
    }
  }
  var stringFieldCompareClosure = function (fieldIndex) {
    return (a, b) => {
      var fa = pcbdata.bom.fields[a[0][1]][fieldIndex];
      var fb = pcbdata.bom.fields[b[0][1]][fieldIndex];
      if (fa != fb) return fa > fb ? 1 : -1;
      else return 0;
    }
  }
  var referenceRegex = /(?<prefix>[^0-9]+)(?<number>[0-9]+)/;
  var compareRefs = (a, b) => {
    var ra = referenceRegex.exec(a);
    var rb = referenceRegex.exec(b);
    if (ra === null || rb === null) {
      if (a != b) return a > b ? 1 : -1;
      return 0;
    } else {
      if (ra.groups.prefix != rb.groups.prefix) {
        return ra.groups.prefix > rb.groups.prefix ? 1 : -1;
      }
      if (ra.groups.number != rb.groups.number) {
        return parseInt(ra.groups.number) > parseInt(rb.groups.number) ? 1 : -1;
      }
      return 0;
    }
  }
  if (settings.bommode == "netlist") {
    tr.appendChild(createColumnHeader("Net name", "bom-netname", (a, b) => {
      if (a > b) return -1;
      if (a < b) return 1;
      return 0;
    }));
    tr.appendChild(createColumnHeader("Color", "bom-color", (a, b) => {
      return 0;
    }));
  } else {
    // Filter hidden columns
    var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
    var valueIndex = config.fields.indexOf("Value");
    var footprintIndex = config.fields.indexOf("Footprint");
    columns.forEach((column) => {
      if (column === placeHolderColumn) {
        var n = 1;
        if (column === "checkboxes")
          n = settings.checkboxes.length;
        for (i = 0; i < n; i++) {
          td = placeHolderElements.shift();
          tr.appendChild(td);
        }
        return;
      } else if (column === "checkboxes") {
        for (var checkbox of settings.checkboxes) {
          th = createColumnHeader(
            checkbox, "bom-checkbox", checkboxCompareClosure(checkbox), true);
          tr.appendChild(th);
        }
      } else if (column === "References") {
        tr.appendChild(createColumnHeader("References", "references", (a, b) => {
          var i = 0;
          while (i < a.length && i < b.length) {
            if (a[i] != b[i]) return compareRefs(a[i][0], b[i][0]);
            i++;
          }
          return a.length - b.length;
        }));
      } else if (column === "Value") {
        tr.appendChild(createColumnHeader("Value", "value", (a, b) => {
          var ra = a[0][1], rb = b[0][1];
          return valueCompare(
            pcbdata.bom.parsedValues[ra], pcbdata.bom.parsedValues[rb],
            pcbdata.bom.fields[ra][valueIndex], pcbdata.bom.fields[rb][valueIndex]);
        }));
        return;
      } else if (column === "Footprint") {
        tr.appendChild(createColumnHeader(
          "Footprint", "footprint", stringFieldCompareClosure(footprintIndex)));
      } else if (column === "Quantity" && settings.bommode == "grouped") {
        tr.appendChild(createColumnHeader("Quantity", "quantity", (a, b) => {
          return a.length - b.length;
        }));
      } else {
        // Other fields
        var i = config.fields.indexOf(column);
        if (i < 0)
          return;
        tr.appendChild(createColumnHeader(
          column, `field${i + 1}`, stringFieldCompareClosure(i)));
      }
    });
  }
  bomhead.appendChild(tr);
}

function populateBomBody(placeholderColumn = null, placeHolderElements = null) {
  const urlRegex = /^(https?:\/\/[^\s\/$.?#][^\s]*|file:\/\/([a-zA-Z]:|\/)[^\x00]+)$/;
  while (bom.firstChild) {
    bom.removeChild(bom.firstChild);
  }
  highlightHandlers = [];
  footprintIndexToHandler = {};
  netsToHandler = {};
  currentHighlightedRowId = null;
  var first = true;
  var style = getComputedStyle(topmostdiv);
  var defaultNetColor = style.getPropertyValue('--track-color').trim();
  if (settings.bommode == "netlist") {
    bomtable = pcbdata.nets.slice();
  } else {
    switch (settings.canvaslayout) {
      case 'F':
        bomtable = pcbdata.bom.F.slice();
        break;
      case 'FB':
        bomtable = pcbdata.bom.both.slice();
        break;
      case 'B':
        bomtable = pcbdata.bom.B.slice();
        break;
    }
    if (settings.bommode == "ungrouped") {
      // expand bom table
      expandedTable = []
      for (var bomentry of bomtable) {
        for (var ref of bomentry) {
          expandedTable.push([ref]);
        }
      }
      bomtable = expandedTable;
    }
  }
  if (bomSortFunction) {
    bomtable = bomtable.sort(bomSortFunction);
  }
  for (var i in bomtable) {
    var bomentry = bomtable[i];
    if (filter && !entryMatches(bomentry)) {
      continue;
    }
    var references = null;
    var netname = null;
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    var rownum = +i + 1;
    tr.id = "bomrow" + rownum;
    td.textContent = rownum;
    tr.appendChild(td);
    if (settings.bommode == "netlist") {
      netname = bomentry;
      td = document.createElement("TD");
      td.innerHTML = highlightFilter(netname ? netname : "&lt;no net&gt;");
      tr.appendChild(td);
      var color = settings.netColors[netname] || defaultNetColor;
      td = document.createElement("TD");
      var colorBox = document.createElement("INPUT");
      colorBox.type = "color";
      colorBox.value = color;
      colorBox.onchange = netColorChangeHandler(netname);
      colorBox.onmouseup = netColorRightClick(netname);
      colorBox.oncontextmenu = (e) => e.preventDefault();
      td.appendChild(colorBox);
      td.classList.add("color-column");
      tr.appendChild(td);
    } else {
      if (reflookup) {
        references = findRefInEntry(bomentry);
        if (references.length == 0) {
          continue;
        }
      } else {
        references = bomentry;
      }
      // Filter hidden columns
      var columns = settings.columnOrder.filter(e => !settings.hiddenColumns.includes(e));
      columns.forEach((column) => {
        if (column === placeholderColumn) {
          var n = 1;
          if (column === "checkboxes")
            n = settings.checkboxes.length;
          for (i = 0; i < n; i++) {
            td = placeHolderElements.shift();
            tr.appendChild(td);
          }
          return;
        } else if (column === "checkboxes") {
          for (var checkbox of settings.checkboxes) {
            if (checkbox) {
              td = document.createElement("TD");
              var input = document.createElement("input");
              input.type = "checkbox";
              input.onchange = createCheckboxChangeHandler(checkbox, references, tr);
              setBomCheckboxState(checkbox, input, references);
              if (input.checked && settings.markWhenChecked == checkbox) {
                tr.classList.add("checked");
              }
              td.appendChild(input);
              tr.appendChild(td);
            }
          }
        } else if (column === "References") {
          td = document.createElement("TD");
          td.innerHTML = highlightFilter(references.map(r => r[0]).join(", "));
          tr.appendChild(td);
        } else if (column === "Quantity" && settings.bommode == "grouped") {
          // Quantity
          td = document.createElement("TD");
          td.textContent = references.length;
          tr.appendChild(td);
        } else {
          // All the other fields
          var field_index = config.fields.indexOf(column)
          if (field_index < 0)
            return;
          var valueSet = new Set();
          references.map(r => r[1]).forEach((id) => valueSet.add(pcbdata.bom.fields[id][field_index]));
          td = document.createElement("TD");
          var output = new Array();
          for (let item of valueSet) {
            const visible = highlightFilter(String(item));
            if (typeof item === 'string' && item.match(urlRegex)) {
              output.push(`<a href="${item}" target="_blank">${visible}</a>`);
            } else {
              output.push(visible);
            }
          }
          td.innerHTML = output.join(", ");
          tr.appendChild(td);
        }
      });
    }
    bom.appendChild(tr);
    var handler = createRowHighlightHandler(tr.id, references, netname);
    tr.onmousemove = handler;
    highlightHandlers.push({
      id: tr.id,
      handler: handler,
    });
    if (references !== null) {
      for (var refIndex of references.map(r => r[1])) {
        footprintIndexToHandler[refIndex] = handler;
      }
    }
    if (netname !== null) {
      netsToHandler[netname] = handler;
    }
    if ((filter || reflookup) && first) {
      handler();
      first = false;
    }
  }
  EventHandler.emitEvent(
    IBOM_EVENT_TYPES.BOM_BODY_CHANGE_EVENT, {
    filter: filter,
    reflookup: reflookup,
    checkboxes: settings.checkboxes,
    bommode: settings.bommode,
  });
}

function highlightPreviousRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[highlightHandlers.length - 1].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[0].id == currentHighlightedRowId) {
      highlightHandlers[highlightHandlers.length - 1].handler();
    } else {
      for (var i = 0; i < highlightHandlers.length - 1; i++) {
        if (highlightHandlers[i + 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function highlightNextRow() {
  if (!currentHighlightedRowId) {
    highlightHandlers[0].handler();
  } else {
    if (highlightHandlers.length > 1 &&
      highlightHandlers[highlightHandlers.length - 1].id == currentHighlightedRowId) {
      highlightHandlers[0].handler();
    } else {
      for (var i = 1; i < highlightHandlers.length; i++) {
        if (highlightHandlers[i - 1].id == currentHighlightedRowId) {
          highlightHandlers[i].handler();
          break;
        }
      }
    }
  }
  smoothScrollToRow(currentHighlightedRowId);
}

function populateBomTable() {
  populateBomHeader();
  populateBomBody();
  setBomHandlers();
  resizableGrid(bomhead);
}

function footprintsClicked(footprintIndexes) {
  var lastClickedIndex = footprintIndexes.indexOf(lastClicked);
  for (var i = 1; i <= footprintIndexes.length; i++) {
    var refIndex = footprintIndexes[(lastClickedIndex + i) % footprintIndexes.length];
    if (refIndex in footprintIndexToHandler) {
      lastClicked = refIndex;
      footprintIndexToHandler[refIndex]();
      smoothScrollToRow(currentHighlightedRowId);
      break;
    }
  }
}

function netClicked(net) {
  if (net in netsToHandler) {
    netsToHandler[net]();
    smoothScrollToRow(currentHighlightedRowId);
  } else {
    clearHighlightedFootprints();
    highlightedNet = net;
    drawHighlights();
  }
}

function updateFilter(input) {
  filter = input.toLowerCase();
  populateBomTable();
}

function updateRefLookup(input) {
  reflookup = input.toLowerCase();
  populateBomTable();
}

function changeCanvasLayout(layout) {
  document.getElementById("fl-btn").classList.remove("depressed");
  document.getElementById("fb-btn").classList.remove("depressed");
  document.getElementById("bl-btn").classList.remove("depressed");
  switch (layout) {
    case 'F':
      document.getElementById("fl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(1);
      }
      break;
    case 'B':
      document.getElementById("bl-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.collapse(0);
      }
      break;
    default:
      document.getElementById("fb-btn").classList.add("depressed");
      if (settings.bomlayout != "bom-only") {
        canvassplit.setSizes([50, 50]);
      }
  }
  settings.canvaslayout = layout;
  writeStorage("canvaslayout", layout);
  resizeAll();
  changeBomMode(settings.bommode);
}

function populateMetadata() {
  document.getElementById("title").innerHTML = pcbdata.metadata.title;
  document.getElementById("revision").innerHTML = "Rev: " + pcbdata.metadata.revision;
  document.getElementById("company").innerHTML = pcbdata.metadata.company;
  document.getElementById("filedate").innerHTML = pcbdata.metadata.date;
  if (pcbdata.metadata.title != "") {
    document.title = pcbdata.metadata.title + " BOM";
  }
  // Calculate board stats
  var fp_f = 0,
    fp_b = 0,
    pads_f = 0,
    pads_b = 0,
    pads_th = 0;
  for (var i = 0; i < pcbdata.footprints.length; i++) {
    if (pcbdata.bom.skipped.includes(i)) continue;
    var mod = pcbdata.footprints[i];
    if (mod.layer == "F") {
      fp_f++;
    } else {
      fp_b++;
    }
    for (var pad of mod.pads) {
      if (pad.type == "th") {
        pads_th++;
      } else {
        if (pad.layers.includes("F")) {
          pads_f++;
        }
        if (pad.layers.includes("B")) {
          pads_b++;
        }
      }
    }
  }
  document.getElementById("stats-components-front").innerHTML = fp_f;
  document.getElementById("stats-components-back").innerHTML = fp_b;
  document.getElementById("stats-components-total").innerHTML = fp_f + fp_b;
  document.getElementById("stats-groups-front").innerHTML = pcbdata.bom.F.length;
  document.getElementById("stats-groups-back").innerHTML = pcbdata.bom.B.length;
  document.getElementById("stats-groups-total").innerHTML = pcbdata.bom.both.length;
  document.getElementById("stats-smd-pads-front").innerHTML = pads_f;
  document.getElementById("stats-smd-pads-back").innerHTML = pads_b;
  document.getElementById("stats-smd-pads-total").innerHTML = pads_f + pads_b;
  document.getElementById("stats-th-pads").innerHTML = pads_th;
  // Update version string
  document.getElementById("github-link").innerHTML = "InteractiveHtmlBom&nbsp;" +
    /^v\d+\.\d+/.exec(pcbdata.ibom_version)[0];
}

function changeBomLayout(layout) {
  document.getElementById("bom-btn").classList.remove("depressed");
  document.getElementById("lr-btn").classList.remove("depressed");
  document.getElementById("tb-btn").classList.remove("depressed");
  switch (layout) {
    case 'bom-only':
      document.getElementById("bom-btn").classList.add("depressed");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      document.getElementById("frontcanvas").style.display = "none";
      document.getElementById("backcanvas").style.display = "none";
      document.getElementById("bot").style.height = "";
      break;
    case 'top-bottom':
      document.getElementById("tb-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.remove("split-horizontal");
      document.getElementById("canvasdiv").classList.remove("split-horizontal");
      document.getElementById("frontcanvas").classList.add("split-horizontal");
      document.getElementById("backcanvas").classList.add("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        direction: "vertical",
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        onDragEnd: resizeAll
      });
      break;
    case 'left-right':
      document.getElementById("lr-btn").classList.add("depressed");
      document.getElementById("frontcanvas").style.display = "";
      document.getElementById("backcanvas").style.display = "";
      document.getElementById("bot").style.height = "calc(100% - 80px)";
      document.getElementById("bomdiv").classList.add("split-horizontal");
      document.getElementById("canvasdiv").classList.add("split-horizontal");
      document.getElementById("frontcanvas").classList.remove("split-horizontal");
      document.getElementById("backcanvas").classList.remove("split-horizontal");
      if (bomsplit) {
        bomsplit.destroy();
        bomsplit = null;
        canvassplit.destroy();
        canvassplit = null;
      }
      bomsplit = Split(['#bomdiv', '#canvasdiv'], {
        sizes: [50, 50],
        onDragEnd: resizeAll,
        gutterSize: 5
      });
      canvassplit = Split(['#frontcanvas', '#backcanvas'], {
        sizes: [50, 50],
        gutterSize: 5,
        direction: "vertical",
        onDragEnd: resizeAll
      });
  }
  settings.bomlayout = layout;
  writeStorage("bomlayout", layout);
  changeCanvasLayout(settings.canvaslayout);
}

function changeBomMode(mode) {
  document.getElementById("bom-grouped-btn").classList.remove("depressed");
  document.getElementById("bom-ungrouped-btn").classList.remove("depressed");
  document.getElementById("bom-netlist-btn").classList.remove("depressed");
  var chkbxs = document.getElementsByClassName("visibility_checkbox");

  switch (mode) {
    case 'grouped':
      document.getElementById("bom-grouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'ungrouped':
      document.getElementById("bom-ungrouped-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = false;
      }
      break;
    case 'netlist':
      document.getElementById("bom-netlist-btn").classList.add("depressed");
      for (var i = 0; i < chkbxs.length; i++) {
        chkbxs[i].disabled = true;
      }
  }

  writeStorage("bommode", mode);
  if (mode != settings.bommode) {
    settings.bommode = mode;
    bomSortFunction = null;
    currentSortColumn = null;
    currentSortOrder = null;
    clearHighlightedFootprints();
  }
  populateBomTable();
}

function focusFilterField() {
  focusInputField(document.getElementById("filter"));
}

function focusRefLookupField() {
  focusInputField(document.getElementById("reflookup"));
}

function toggleBomCheckbox(bomrowid, checkboxnum) {
  if (!bomrowid || checkboxnum > settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum].childNodes[0];
  checkbox.checked = !checkbox.checked;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function checkBomCheckbox(bomrowid, checkboxname) {
  var checkboxnum = 0;
  while (checkboxnum < settings.checkboxes.length &&
    settings.checkboxes[checkboxnum].toLowerCase() != checkboxname.toLowerCase()) {
    checkboxnum++;
  }
  if (!bomrowid || checkboxnum >= settings.checkboxes.length) {
    return;
  }
  var bomrow = document.getElementById(bomrowid);
  var checkbox = bomrow.childNodes[checkboxnum + 1].childNodes[0];
  checkbox.checked = true;
  checkbox.indeterminate = false;
  checkbox.onchange();
}

function setBomCheckboxes(value) {
  writeStorage("bomCheckboxes", value);
  settings.checkboxes = value.split(",").map((e) => e.trim()).filter((e) => e);
  prepCheckboxes();
  populateMarkWhenCheckedOptions();
  setMarkWhenChecked(settings.markWhenChecked);
}

function setMarkWhenChecked(value) {
  writeStorage("markWhenChecked", value);
  settings.markWhenChecked = value;
  markedFootprints.clear();
  for (var ref of (value ? getStoredCheckboxRefs(value) : [])) {
    markedFootprints.add(ref);
  }
  populateBomTable();
  drawHighlights();
}

function prepCheckboxes() {
  var table = document.getElementById("checkbox-stats");
  while (table.childElementCount > 1) {
    table.removeChild(table.lastChild);
  }
  if (settings.checkboxes.length) {
    table.style.display = "";
  } else {
    table.style.display = "none";
  }
  for (var checkbox of settings.checkboxes) {
    var tr = document.createElement("TR");
    var td = document.createElement("TD");
    td.innerHTML = checkbox;
    tr.appendChild(td);
    td = document.createElement("TD");
    td.id = "checkbox-stats-" + checkbox;
    var progressbar = document.createElement("div");
    progressbar.classList.add("bar");
    td.appendChild(progressbar);
    var text = document.createElement("div");
    text.classList.add("text");
    td.appendChild(text);
    tr.appendChild(td);
    table.appendChild(tr);
    updateCheckboxStats(checkbox);
  }
}

function populateMarkWhenCheckedOptions() {
  var container = document.getElementById("markWhenCheckedContainer");

  if (settings.checkboxes.length == 0) {
    container.parentElement.style.display = "none";
    return;
  }

  container.innerHTML = '';
  container.parentElement.style.display = "inline-block";

  function createOption(name, displayName) {
    var id = "markWhenChecked-" + name;

    var div = document.createElement("div");
    div.classList.add("radio-container");

    var input = document.createElement("input");
    input.type = "radio";
    input.name = "markWhenChecked";
    input.value = name;
    input.id = id;
    input.onchange = () => setMarkWhenChecked(name);
    div.appendChild(input);

    // Preserve the selected element when the checkboxes change
    if (name == settings.markWhenChecked) {
      input.checked = true;
    }

    var label = document.createElement("label");
    label.innerHTML = displayName;
    label.htmlFor = id;
    div.appendChild(label);

    container.appendChild(div);
  }
  createOption("", "None");
  for (var checkbox of settings.checkboxes) {
    createOption(checkbox, checkbox);
  }
}

function updateCheckboxStats(checkbox) {
  var checked = getStoredCheckboxRefs(checkbox).size;
  var total = pcbdata.footprints.length - pcbdata.bom.skipped.length;
  var percent = checked * 100.0 / total;
  var td = document.getElementById("checkbox-stats-" + checkbox);
  td.firstChild.style.width = percent + "%";
  td.lastChild.innerHTML = checked + "/" + total + " (" + Math.round(percent) + "%)";
}

function constrain(number, min, max){
  return Math.min(Math.max(parseInt(number), min), max);
}

document.onkeydown = function (e) {
  switch (e.key) {
    case "n":
      if (document.activeElement.type == "text") {
        return;
      }
      if (currentHighlightedRowId !== null) {
        checkBomCheckbox(currentHighlightedRowId, "placed");
        highlightNextRow();
        e.preventDefault();
      }
      break;
    case "ArrowUp":
      highlightPreviousRow();
      e.preventDefault();
      break;
    case "ArrowDown":
      highlightNextRow();
      e.preventDefault();
      break;
    case "ArrowLeft":
    case "ArrowRight":
      if (document.activeElement.type != "text"){
        e.preventDefault();
        let boardRotationElement = document.getElementById("boardRotation")
        settings.boardRotation = parseInt(boardRotationElement.value);  // degrees / 5
        if (e.key == "ArrowLeft"){
            settings.boardRotation += 3;  // 15 degrees
        }
        else{
            settings.boardRotation -= 3;
        }
        settings.boardRotation = constrain(settings.boardRotation, boardRotationElement.min, boardRotationElement.max);
        boardRotationElement.value = settings.boardRotation
        setBoardRotation(settings.boardRotation);
      }
      break;
    default:
      break;
  }
  if (e.altKey) {
    switch (e.key) {
      case "f":
        focusFilterField();
        e.preventDefault();
        break;
      case "r":
        focusRefLookupField();
        e.preventDefault();
        break;
      case "z":
        changeBomLayout("bom-only");
        e.preventDefault();
        break;
      case "x":
        changeBomLayout("left-right");
        e.preventDefault();
        break;
      case "c":
        changeBomLayout("top-bottom");
        e.preventDefault();
        break;
      case "v":
        changeCanvasLayout("F");
        e.preventDefault();
        break;
      case "b":
        changeCanvasLayout("FB");
        e.preventDefault();
        break;
      case "n":
        changeCanvasLayout("B");
        e.preventDefault();
        break;
      default:
        break;
    }
    if (e.key >= '1' && e.key <= '9') {
      toggleBomCheckbox(currentHighlightedRowId, parseInt(e.key));
      e.preventDefault();
    }
  }
}

function hideNetlistButton() {
  document.getElementById("bom-ungrouped-btn").classList.remove("middle-button");
  document.getElementById("bom-ungrouped-btn").classList.add("right-most-button");
  document.getElementById("bom-netlist-btn").style.display = "none";
}

window.onload = function (e) {
  initUtils();
  initRender();
  initStorage();
  initDefaults();
  cleanGutters();
  populateMetadata();
  dbgdiv = document.getElementById("dbg");
  bom = document.getElementById("bombody");
  bomhead = document.getElementById("bomhead");
  filter = "";
  reflookup = "";
  if (!("nets" in pcbdata)) {
    hideNetlistButton();
  }
  initDone = true;
  setBomCheckboxes(document.getElementById("bomCheckboxes").value);
  // Triggers render
  changeBomLayout(settings.bomlayout);

  // Users may leave fullscreen without touching the checkbox. Uncheck.
  document.addEventListener('fullscreenchange', () => {
    if (!document.fullscreenElement)
      document.getElementById('fullscreenCheckbox').checked = false;
  });
}

window.onresize = resizeAll;
window.matchMedia("print").addListener(resizeAll);

///////////////////////////////////////////////

///////////////////////////////////////////////

///////////////////////////////////////////////
  </script>
</head>

<body>

<div id="topmostdiv" class="topmostdiv">
  <div id="top">
    <div style="float: right; height: 100%;">
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="menubtn"></button>
        <div class="menu-content">
          <label class="menu-label menu-label-top" style="width: calc(50% - 18px)">
            <input id="darkmodeCheckbox" type="checkbox" onchange="setDarkMode(this.checked)">
            Dark mode
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label menu-label-top" style="width: calc(50% - 17px); border-left: 0;">
            <input id="fullscreenCheckbox" type="checkbox" onchange="setFullscreen(this.checked)">
            Full Screen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="fabricationCheckbox" type="checkbox" checked onchange="fabricationVisible(this.checked)">
            Fab layer
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="silkscreenCheckbox" type="checkbox" checked onchange="silkscreenVisible(this.checked)">
            Silkscreen
          </label>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="referencesCheckbox" type="checkbox" checked onchange="referencesVisible(this.checked)">
            References
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="valuesCheckbox" type="checkbox" checked onchange="valuesVisible(this.checked)">
            Values
          </label>
          <div id="tracksAndZonesCheckboxes">
            <label class="menu-label" style="width: calc(50% - 18px)">
              <input id="tracksCheckbox" type="checkbox" checked onchange="tracksVisible(this.checked)">
              Tracks
            </label><!-- This comment eats space! All of it!
            --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
              <input id="zonesCheckbox" type="checkbox" checked onchange="zonesVisible(this.checked)">
              Zones
            </label>
          </div>
          <label class="menu-label" style="width: calc(50% - 18px)">
            <input id="padsCheckbox" type="checkbox" checked onchange="padsVisible(this.checked)">
            Pads
          </label><!-- This comment eats space! All of it!
          --><label class="menu-label" style="width: calc(50% - 17px); border-left: 0;">
            <input id="dnpOutlineCheckbox" type="checkbox" checked onchange="dnpOutline(this.checked)">
            DNP outlined
          </label>
          <label class="menu-label">
            <input id="dragCheckbox" type="checkbox" checked onchange="setRedrawOnDrag(this.checked)">
            Continuous redraw on drag
          </label>
          <label class="menu-label">
            Highlight first pin
            <form id="highlightpin1">
              <div class="flexbox">
                <label>
                  <input type="radio" name="highlightpin1" value="none" onchange="setHighlightPin1('none')">
                  None
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="all" onchange="setHighlightPin1('all')">
                  All
                </label>
                <label>
                  <input type="radio" name="highlightpin1" value="selected" onchange="setHighlightPin1('selected')">
                  Selected
                </label>
              </div>
            </form>
          </label>
          <label class="menu-label">
            <span>Board rotation</span>
            <span style="float: right"><span id="rotationDegree">0</span>&#176;</span>
            <input id="boardRotation" type="range" min="-36" max="36" value="0" class="slider" oninput="setBoardRotation(this.value)">
          </label>
          <label class="menu-label">
            <input id="offsetBackRotationCheckbox" type="checkbox" onchange="setOffsetBackRotation(this.checked)">
            Offset back rotation
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Bom checkboxes</div>
            <input id="bomCheckboxes" class="menu-textbox" type=text
                   oninput="setBomCheckboxes(this.value)">
          </label>
          <label class="menu-label">
            <div style="margin-left: 5px">Mark when checked</div>
            <div id="markWhenCheckedContainer"></div>
          </label>
          <label class="menu-label">
            <span class="shameless-plug">
              <span>Created using</span>
              <a id="github-link" target="blank" href="https://github.com/openscopeproject/InteractiveHtmlBom">InteractiveHtmlBom</a>
              <a target="blank" title="Mouse and keyboard help" href="https://github.com/openscopeproject/InteractiveHtmlBom/wiki/Usage#bom-page-mouse-actions" style="text-decoration: none;"><label class="help-link">?</label></a>
            </span>
          </label>
        </div>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="fl-btn" class="left-most-button" onclick="changeCanvasLayout('F')"
                title="Front only">F
        </button>
        <button id="fb-btn" class="middle-button" onclick="changeCanvasLayout('FB')"
                title="Front and Back">FB
        </button>
        <button id="bl-btn" class="right-most-button" onclick="changeCanvasLayout('B')"
                title="Back only">B
        </button>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="bom-btn" class="left-most-button" onclick="changeBomLayout('bom-only')"
                title="BOM only"></button>
        <button id="lr-btn" class="middle-button" onclick="changeBomLayout('left-right')"
                title="BOM left, drawings right"></button>
        <button id="tb-btn" class="right-most-button" onclick="changeBomLayout('top-bottom')"
                title="BOM top, drawings bot"></button>
      </div>
      <div class="button-container hideonprint"
           style="float: right; position: relative; top: 8px">
        <button id="bom-grouped-btn" class="left-most-button" onclick="changeBomMode('grouped')"
                title="Grouped BOM"></button>
        <button id="bom-ungrouped-btn" class="middle-button" onclick="changeBomMode('ungrouped')"
                title="Ungrouped BOM"></button>
        <button id="bom-netlist-btn" class="right-most-button" onclick="changeBomMode('netlist')"
                title="Netlist"></button>
      </div>
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="statsbtn"></button>
        <div class="menu-content">
          <table class="stats">
            <tbody>
              <tr>
                <td width="40%">Board stats</td>
                <td>Front</td>
                <td>Back</td>
                <td>Total</td>
              </tr>
              <tr>
                <td>Components</td>
                <td id="stats-components-front">~</td>
                <td id="stats-components-back">~</td>
                <td id="stats-components-total">~</td>
              </tr>
              <tr>
                <td>Groups</td>
                <td id="stats-groups-front">~</td>
                <td id="stats-groups-back">~</td>
                <td id="stats-groups-total">~</td>
              </tr>
              <tr>
                <td>SMD pads</td>
                <td id="stats-smd-pads-front">~</td>
                <td id="stats-smd-pads-back">~</td>
                <td id="stats-smd-pads-total">~</td>
              </tr>
              <tr>
                <td>TH pads</td>
                <td colspan=3 id="stats-th-pads">~</td>
              </tr>
            </tbody>
          </table>
          <table class="stats">
            <col width="40%"/><col />
            <tbody id="checkbox-stats">
              <tr>
                <td colspan=2 style="border-top: 0">Checkboxes</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="hideonprint menu" style="float: right; top: 8px;">
        <button class="iobtn"></button>
        <div class="menu-content">
          <div class="menu-label menu-label-top">
            <div style="margin-left: 5px;">Save board image</div>
            <div class="flexbox">
              <input id="render-save-width" class="menu-textbox" type="text" value="1000" placeholder="Width"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
              <span>X</span>
              <input id="render-save-height" class="menu-textbox" type="text" value="1000" placeholder="Height"
                  style="flex-grow: 1; width: 50px;" oninput="validateSaveImgDimension(this)">
            </div>
            <label>
              <input id="render-save-transparent" type="checkbox">
              Transparent background
            </label>
            <div class="flexbox">
              <button class="savebtn" onclick="saveImage('F')">Front</button>
              <button class="savebtn" onclick="saveImage('B')">Back</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Config and checkbox state</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveSettings()">Export</button>
              <button class="savebtn" onclick="loadSettings()">Import</button>
              <button class="savebtn" onclick="resetSettings()">Reset</button>
            </div>
          </div>
          <div class="menu-label">
            <span style="margin-left: 5px;">Save bom table as</span>
            <div class="flexbox">
              <button class="savebtn" onclick="saveBomTable('csv')">csv</button>
              <button class="savebtn" onclick="saveBomTable('txt')">txt</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="fileinfodiv" style="overflow: auto;">
      <table class="fileinfo">
        <tbody>
          <tr>
            <td id="title" class="title" style="width: 70%">
              Title
            </td>
            <td id="revision" class="title" style="width: 30%">
              Revision
            </td>
          </tr>
          <tr>
            <td id="company">
              Company
            </td>
            <td id="filedate">
              Date
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div id="bot" class="split" style="height: calc(100% - 80px)">
    <div id="bomdiv" class="split split-horizontal">
      <div style="width: 100%">
        <input id="reflookup" class="textbox searchbox reflookup hideonprint" type="text" placeholder="Ref lookup"
               oninput="updateRefLookup(this.value)">
        <input id="filter" class="textbox searchbox filter hideonprint" type="text" placeholder="Filter"
               oninput="updateFilter(this.value)">
        <div class="button-container hideonprint" style="float: left; margin: 0;">
          <button id="copy" title="Copy bom table to clipboard"
               onclick="saveBomTable('clipboard')"></button>
        </div>
      </div>
      <div id="dbg"></div>
      <table class="bom" id="bomtable">
        <thead id="bomhead">
        </thead>
        <tbody id="bombody">
        </tbody>
      </table>
    </div>
    <div id="canvasdiv" class="split split-horizontal">
      <div id="frontcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="F_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="F_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="F_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="F_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
      <div id="backcanvas" class="split" touch-action="none" style="overflow: hidden">
        <div style="position: relative; width: 100%; height: 100%;">
          <canvas id="B_bg" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="B_fab" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="B_slk" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
          <canvas id="B_hl" style="position: absolute; left: 0; top: 0; z-index: 3;"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
