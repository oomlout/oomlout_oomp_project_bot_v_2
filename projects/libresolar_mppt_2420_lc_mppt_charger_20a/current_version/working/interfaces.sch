EESchema Schematic File Version 4
LIBS:MPPT_charger_20A-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 5 6
Title "MPPT Charger 20A"
Date "2018-01-18"
Rev "0.10"
Comp ""
Comment1 "Author: Martin JÃ¤ger"
Comment2 "Website: http://libre.solar"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L power:+3.3V #PWR057
U 1 1 58BE341B
P 6300 1900
F 0 "#PWR057" H 6300 1750 50  0001 C CNN
F 1 "+3.3V" H 6300 2040 50  0000 C CNN
F 2 "" H 6300 1900 50  0000 C CNN
F 3 "" H 6300 1900 50  0000 C CNN
	1    6300 1900
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR058
U 1 1 58BE3421
P 6000 1900
F 0 "#PWR058" H 6000 1750 50  0001 C CNN
F 1 "+5V" H 6000 2040 50  0000 C CNN
F 2 "" H 6000 1900 50  0000 C CNN
F 3 "" H 6000 1900 50  0000 C CNN
	1    6000 1900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR059
U 1 1 58BE3427
P 6300 2300
F 0 "#PWR059" H 6300 2050 50  0001 C CNN
F 1 "GND" H 6300 2150 50  0000 C CNN
F 2 "" H 6300 2300 50  0000 C CNN
F 3 "" H 6300 2300 50  0000 C CNN
	1    6300 2300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR060
U 1 1 58BE342E
P 6000 2300
F 0 "#PWR060" H 6000 2050 50  0001 C CNN
F 1 "GND" H 6000 2150 50  0000 C CNN
F 2 "" H 6000 2300 50  0000 C CNN
F 3 "" H 6000 2300 50  0000 C CNN
	1    6000 2300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR061
U 1 1 58BE3434
P 10300 2300
F 0 "#PWR061" H 10300 2050 50  0001 C CNN
F 1 "GND" H 10300 2150 50  0000 C CNN
F 2 "" H 10300 2300 50  0000 C CNN
F 3 "" H 10300 2300 50  0000 C CNN
	1    10300 2300
	1    0    0    -1  
$EndComp
$Comp
L Project:C C39
U 1 1 58BE3440
P 6300 2100
F 0 "C39" H 6320 2170 50  0000 L CNN
F 1 "100n" H 6320 2030 50  0000 L CNN
F 2 "LibreSolar:C_0603_1608" H 6300 2100 50  0001 C CNN
F 3 "" H 6300 2100 50  0000 C CNN
F 4 "Murata" H -500 350 50  0001 C CNN "Manufacturer"
F 5 "GRM188R71H104KA93D" H -500 350 50  0001 C CNN "PartNumber"
	1    6300 2100
	1    0    0    -1  
$EndComp
$Comp
L Project:C C26
U 1 1 58BE3447
P 6000 2100
F 0 "C26" H 6020 2170 50  0000 L CNN
F 1 "100n" H 6020 2030 50  0000 L CNN
F 2 "LibreSolar:C_0603_1608" H 6000 2100 50  0001 C CNN
F 3 "" H 6000 2100 50  0000 C CNN
F 4 "Murata" H -400 350 50  0001 C CNN "Manufacturer"
F 5 "GRM188R71H104KA93D" H -400 350 50  0001 C CNN "PartNumber"
	1    6000 2100
	1    0    0    -1  
$EndComp
$Comp
L Project:R R36
U 1 1 58BE344E
P 8900 2300
F 0 "R36" V 8830 2300 50  0000 C CNN
F 1 "120" V 8970 2300 50  0000 C CNN
F 2 "LibreSolar:R_1206_3216" H 8900 2300 50  0001 C CNN
F 3 "" H 8900 2300 50  0000 C CNN
F 4 "Yageo" H -600 500 50  0001 C CNN "Manufacturer"
F 5 "RC1206FR-07120RL" H -600 500 50  0001 C CNN "PartNumber"
	1    8900 2300
	1    0    0    -1  
$EndComp
$Comp
L Project:RJ45_NS JP1
U 1 1 58BE345B
P 7050 3650
F 0 "JP1" V 6600 3400 50  0000 C CNN
F 1 "RJ45_NS" V 6600 3950 50  0000 C CNN
F 2 "LibreSolar:RJ45_8P8C" H 7050 3650 50  0001 C CNN
F 3 "" H 7050 3650 50  0001 C CNN
F 4 "Amphenol FCI" H -375 325 50  0001 C CNN "Manufacturer"
F 5 "54602-908LF" H -375 325 50  0001 C CNN "PartNumber"
	1    7050 3650
	0    1    1    0   
$EndComp
$Comp
L Project:TJA1042T-3 U8
U 1 1 58BE3467
P 7700 2200
F 0 "U8" H 7700 2650 50  0000 C CNN
F 1 "TJA1042T/3" H 7700 1850 50  0000 C CNN
F 2 "LibreSolar:SOIC-8_3.9x4.9mm_Pitch1.27mm" H 7700 1700 50  0001 C CIN
F 3 "" H 7700 2200 50  0000 C CNN
F 4 "NXP" H -250 450 50  0001 C CNN "Manufacturer"
F 5 "TJA1042T/3/1J" H -250 450 50  0001 C CNN "PartNumber"
F 6 "Mouser" H 7700 2200 60  0001 C CNN "Supplier"
	1    7700 2200
	1    0    0    -1  
$EndComp
$Comp
L Device:Jumper_NC_Small JP3
U 1 1 58BE3476
P 8900 2000
F 0 "JP3" H 8900 2080 50  0000 C CNN
F 1 "Jumper_NC_Small" H 8910 1940 50  0001 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x02_P2.54mm_Horizontal" H 8900 2000 50  0001 C CNN
F 3 "" H 8900 2000 50  0001 C CNN
	1    8900 2000
	0    -1   1    0   
$EndComp
$Comp
L Project:RJ45_NS JP2
U 1 1 58BE348A
P 8850 3650
F 0 "JP2" V 8400 3400 50  0000 C CNN
F 1 "RJ45_NS" V 8400 3950 50  0000 C CNN
F 2 "LibreSolar:RJ45_8P8C" H 8850 3650 50  0001 C CNN
F 3 "" H 8850 3650 50  0001 C CNN
F 4 "Amphenol FCI" H -225 325 50  0001 C CNN "Manufacturer"
F 5 "54602-908LF" H -225 325 50  0001 C CNN "PartNumber"
	1    8850 3650
	0    1    1    0   
$EndComp
$Comp
L power:+3.3V #PWR062
U 1 1 58BE3F53
P 2000 4000
F 0 "#PWR062" H 2000 3850 50  0001 C CNN
F 1 "+3.3V" H 2000 4140 50  0000 C CNN
F 2 "" H 2000 4000 50  0000 C CNN
F 3 "" H 2000 4000 50  0000 C CNN
	1    2000 4000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR063
U 1 1 58BE3F59
P 3700 4800
F 0 "#PWR063" H 3700 4550 50  0001 C CNN
F 1 "GND" H 3700 4650 50  0000 C CNN
F 2 "" H 3700 4800 50  0000 C CNN
F 3 "" H 3700 4800 50  0000 C CNN
	1    3700 4800
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR064
U 1 1 58BE3F5F
P 5150 4500
F 0 "#PWR064" H 5150 4350 50  0001 C CNN
F 1 "+3.3V" H 5150 4640 50  0000 C CNN
F 2 "" H 5150 4500 50  0000 C CNN
F 3 "" H 5150 4500 50  0000 C CNN
	1    5150 4500
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR065
U 1 1 58BE3F65
P 4800 4500
F 0 "#PWR065" H 4800 4350 50  0001 C CNN
F 1 "+3.3V" H 4800 4640 50  0000 C CNN
F 2 "" H 4800 4500 50  0000 C CNN
F 3 "" H 4800 4500 50  0000 C CNN
	1    4800 4500
	1    0    0    -1  
$EndComp
$Comp
L Project:R R35
U 1 1 58BE3F9C
P 5150 4700
F 0 "R35" V 5080 4700 50  0000 C CNN
F 1 "2.2k" V 5220 4700 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 5150 4700 50  0001 C CNN
F 3 "" H 5150 4700 50  0000 C CNN
F 4 "Yageo" H 0   -650 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-072K2L" H 0   -650 50  0001 C CNN "PartNumber"
	1    5150 4700
	1    0    0    1   
$EndComp
$Comp
L Project:R R34
U 1 1 58BE3FA3
P 4800 4700
F 0 "R34" V 4730 4700 50  0000 C CNN
F 1 "2.2k" V 4870 4700 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 4800 4700 50  0001 C CNN
F 3 "" H 4800 4700 50  0000 C CNN
F 4 "Yageo" H 0   -650 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-072K2L" H 0   -650 50  0001 C CNN "PartNumber"
	1    4800 4700
	1    0    0    1   
$EndComp
$Comp
L Project:UEXT J4
U 1 1 58BDEEA0
P 2600 4900
F 0 "J4" H 2350 5250 50  0000 L CNN
F 1 "UEXT" H 2850 5250 50  0000 R CNN
F 2 "LibreSolar:Box_Header_2x05x2.54mm_Straight" H 2600 4300 50  0001 C CIN
F 3 "" H 2600 4900 60  0000 C CNN
	1    2600 4900
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR066
U 1 1 58BDF61E
P 7200 1800
F 0 "#PWR066" H 7200 1650 50  0001 C CNN
F 1 "+3.3V" H 7200 1940 50  0000 C CNN
F 2 "" H 7200 1800 50  0000 C CNN
F 3 "" H 7200 1800 50  0000 C CNN
	1    7200 1800
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR067
U 1 1 58BDF65F
P 8200 1800
F 0 "#PWR067" H 8200 1650 50  0001 C CNN
F 1 "+5V" H 8200 1940 50  0000 C CNN
F 2 "" H 8200 1800 50  0000 C CNN
F 3 "" H 8200 1800 50  0000 C CNN
	1    8200 1800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR068
U 1 1 58BDF6B3
P 8200 2500
F 0 "#PWR068" H 8200 2250 50  0001 C CNN
F 1 "GND" H 8200 2350 50  0000 C CNN
F 2 "" H 8200 2500 50  0000 C CNN
F 3 "" H 8200 2500 50  0000 C CNN
	1    8200 2500
	1    0    0    -1  
$EndComp
$Comp
L Project:NUP2105L D4
U 1 1 58BE0956
P 9900 2200
AR Path="/58BE0956" Ref="D4"  Part="1" 
AR Path="/58BE3089/58BE0956" Ref="D4"  Part="1" 
F 0 "D4" H 9900 2450 50  0000 C CNN
F 1 "NUP2105L" H 9900 1950 50  0000 C CNN
F 2 "LibreSolar:SOT-23" H 9900 1800 60  0001 C CNN
F 3 "" H 9950 2200 60  0001 C CNN
F 4 "ON Semiconductor" H -250 500 50  0001 C CNN "Manufacturer"
F 5 "NUP2105LT1G" H -250 500 50  0001 C CNN "PartNumber"
F 6 "SZNUP2105L" H 9900 2200 60  0001 C CNN "Alternative"
	1    9900 2200
	1    0    0    -1  
$EndComp
$Comp
L Project:USBLC6-2SC6 D3
U 1 1 58BE3F7F
P 3600 2400
F 0 "D3" H 3350 2750 50  0000 C CNN
F 1 "USBLC6-2SC6Y" H 3600 2050 50  0000 C CNN
F 2 "LibreSolar:SOT-23-6" H 4250 2750 50  0001 C CNN
F 3 "" H 3350 2750 50  0001 C CNN
F 4 "STMicroelectronics" H 450 350 50  0001 C CNN "Manufacturer"
F 5 "USBLC6-2SC6Y" H 450 350 50  0001 C CNN "PartNumber"
	1    3600 2400
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR069
U 1 1 58C190E2
P 4250 2400
F 0 "#PWR069" H 4250 2150 50  0001 C CNN
F 1 "GND" H 4250 2250 50  0000 C CNN
F 2 "" H 4250 2400 50  0000 C CNN
F 3 "" H 4250 2400 50  0000 C CNN
	1    4250 2400
	0    -1   1    0   
$EndComp
$Comp
L Connector:USB_B_Micro P3
U 1 1 58CC2DA5
P 2000 2200
F 0 "P3" H 1800 2550 50  0000 L CNN
F 1 "USB Micro B" V 1750 1975 50  0000 L CNN
F 2 "LibreSolar:USB_Micro-B_10103594-0001LF" H 2150 2150 50  0001 C CNN
F 3 "" H 2150 2150 50  0001 C CNN
F 4 "FCI" H 0   -100 60  0001 C CNN "Manufacturer"
F 5 "10103594-0001LF" H 0   -100 60  0001 C CNN "PartNumber"
F 6 "Mouser" H 2000 2200 60  0001 C CNN "Supplier"
	1    2000 2200
	1    0    0    -1  
$EndComp
$Comp
L Project:C C25
U 1 1 58CC2EC7
P 1900 2850
F 0 "C25" H 1925 2925 50  0000 L CNN
F 1 "100n" H 1925 2775 50  0000 L CNN
F 2 "LibreSolar:C_0603_1608" H 1900 2650 50  0001 C CNN
F 3 "" H 1925 2925 50  0000 C CNN
F 4 "Murata" H -1200 -250 50  0001 C CNN "Manufacturer"
F 5 "GRM188R71H104KA93D" H -1200 -250 50  0001 C CNN "PartNumber"
	1    1900 2850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR070
U 1 1 58CC33CA
P 1900 3000
F 0 "#PWR070" H 1900 2750 50  0001 C CNN
F 1 "GND" H 1900 2850 50  0000 C CNN
F 2 "" H 1900 3000 50  0000 C CNN
F 3 "" H 1900 3000 50  0000 C CNN
	1    1900 3000
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR071
U 1 1 58CC340B
P 2700 2900
F 0 "#PWR071" H 2700 2650 50  0001 C CNN
F 1 "GND" H 2700 2750 50  0000 C CNN
F 2 "" H 2700 2900 50  0000 C CNN
F 3 "" H 2700 2900 50  0000 C CNN
	1    2700 2900
	-1   0    0    -1  
$EndComp
$Comp
L Project:R R46
U 1 1 58CC345E
P 2700 2600
F 0 "R46" V 2770 2600 50  0000 C CNN
F 1 "100k" V 2625 2600 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 2700 2600 50  0001 C CNN
F 3 "" H 2700 2600 50  0000 C CNN
F 4 "Yageo" H -1200 -550 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-07100KL" H -1200 -550 50  0001 C CNN "PartNumber"
	1    2700 2600
	-1   0    0    -1  
$EndComp
Text Notes 7300 1200 0    100  ~ 0
CAN interface
Text Label 8400 2100 2    50   ~ 0
CAN_H
Text Label 8400 2200 2    50   ~ 0
CAN_L
Text Label 6200 4000 0    50   ~ 0
CAN_V+
Text Label 6200 3900 0    50   ~ 0
CAN_GND
Text Label 6200 3800 0    50   ~ 0
CAN_SHLD
Text Label 6200 3500 0    50   ~ 0
CAN_GND
Text Label 6200 3400 0    50   ~ 0
CAN_L
Text Label 6200 3300 0    50   ~ 0
CAN_H
Text Label 8000 4000 0    50   ~ 0
CAN_V+
Text Label 8000 3900 0    50   ~ 0
CAN_GND
Text Label 8000 3800 0    50   ~ 0
CAN_SHLD
Text Label 8000 3500 0    50   ~ 0
CAN_GND
Text Label 8000 3400 0    50   ~ 0
CAN_L
Text Label 8000 3300 0    50   ~ 0
CAN_H
Text Notes 2400 4100 0    100  ~ 0
Extension connector
Text Notes 4500 4100 0    100  ~ 0
I2C pull-ups
Text Notes 2300 1200 0    100  ~ 0
USB connector
Text HLabel 3100 4800 2    50   Output ~ 0
UEXT_RX
Text HLabel 3100 4900 2    50   BiDi ~ 0
UEXT_SDA
Text HLabel 3100 5000 2    50   Input ~ 0
UEXT_MOSI
Text HLabel 3100 5100 2    50   Input ~ 0
UEXT_SSEL
Text HLabel 2100 5000 0    50   Output ~ 0
UEXT_MISO
Text HLabel 2100 5100 0    50   Input ~ 0
UEXT_SCK
Text HLabel 2100 4900 0    50   Input ~ 0
UEXT_SCL
Text HLabel 2100 4800 0    50   Input ~ 0
UEXT_TX
Text HLabel 4500 2200 2    50   BiDi ~ 0
USB_DP
Text HLabel 4500 2600 2    50   BiDi ~ 0
USB_DM
Text HLabel 4800 4900 3    50   Input ~ 0
UEXT_SDA
Text HLabel 5150 4900 3    50   Input ~ 0
UEXT_SCL
Text HLabel 7200 2200 0    50   Output ~ 0
CAN_RX
Text HLabel 7200 2100 0    50   Input ~ 0
CAN_TX
Text HLabel 7200 2400 0    50   Input ~ 0
CAN_STB
Wire Wire Line
	6300 2000 6300 1900
Wire Wire Line
	6000 1900 6000 2000
Wire Wire Line
	8100 2200 8400 2200
Wire Wire Line
	6000 2200 6000 2300
Wire Wire Line
	10200 2200 10300 2200
Wire Wire Line
	10300 2200 10300 2300
Wire Wire Line
	6300 2300 6300 2200
Wire Wire Line
	6600 3500 6200 3500
Wire Wire Line
	6600 3900 6200 3900
Wire Wire Line
	6600 3300 6200 3300
Wire Wire Line
	6600 3400 6200 3400
Wire Wire Line
	6600 3800 6200 3800
Wire Wire Line
	6600 4000 6200 4000
Wire Wire Line
	8400 3500 8000 3500
Wire Wire Line
	8400 3900 8000 3900
Wire Wire Line
	8400 3300 8000 3300
Wire Wire Line
	8400 3400 8000 3400
Wire Wire Line
	8400 3800 8000 3800
Wire Wire Line
	8400 4000 8000 4000
Wire Wire Line
	4800 4600 4800 4500
Wire Wire Line
	5150 4600 5150 4500
Wire Wire Line
	3000 4700 3700 4700
Wire Wire Line
	3700 4700 3700 4800
Wire Wire Line
	5150 4900 5150 4800
Wire Wire Line
	4500 2200 4100 2200
Wire Wire Line
	4500 2600 4100 2600
Wire Wire Line
	3100 2200 2300 2200
Wire Wire Line
	2200 4800 2100 4800
Wire Wire Line
	2200 4900 2100 4900
Wire Wire Line
	2200 5000 2100 5000
Wire Wire Line
	2200 5100 2100 5100
Wire Wire Line
	3000 4800 3100 4800
Wire Wire Line
	3000 4900 3100 4900
Wire Wire Line
	3000 5000 3100 5000
Wire Wire Line
	3000 5100 3100 5100
Wire Wire Line
	4800 4800 4800 4900
Wire Wire Line
	4250 2400 4100 2400
Wire Wire Line
	8100 2100 8400 2100
Wire Wire Line
	7300 2400 7200 2400
Wire Wire Line
	7300 2200 7200 2200
Wire Wire Line
	7200 2100 7300 2100
Wire Wire Line
	7300 1900 7200 1900
Wire Wire Line
	7200 1900 7200 1800
Wire Wire Line
	8900 2100 8900 2200
Wire Wire Line
	8900 2400 8900 2700
Wire Wire Line
	8900 1900 8900 1600
Text Label 8900 1600 3    50   ~ 0
CAN_H
Text Label 8900 2700 1    50   ~ 0
CAN_L
Wire Wire Line
	9600 2100 9300 2100
Wire Wire Line
	9600 2300 9300 2300
Text Label 9300 2100 0    50   ~ 0
CAN_H
Text Label 9300 2300 0    50   ~ 0
CAN_L
Wire Wire Line
	8100 1900 8200 1900
Wire Wire Line
	8200 1900 8200 1800
Wire Wire Line
	8100 2400 8200 2400
Wire Wire Line
	8200 2400 8200 2500
Wire Wire Line
	2300 2400 2700 2400
Wire Wire Line
	2700 2400 2700 2500
Wire Wire Line
	2700 2700 2700 2900
Wire Wire Line
	3100 2600 2900 2600
Wire Wire Line
	2900 2600 2900 2300
Wire Wire Line
	2900 2300 2300 2300
Wire Wire Line
	3100 2400 3000 2400
Wire Wire Line
	3000 2000 3000 2400
$Comp
L power:+5V #PWR072
U 1 1 592A3924
P 3050 1700
F 0 "#PWR072" H 3050 1550 50  0001 C CNN
F 1 "+5V" H 3050 1840 50  0000 C CNN
F 2 "" H 3050 1700 50  0000 C CNN
F 3 "" H 3050 1700 50  0000 C CNN
	1    3050 1700
	1    0    0    -1  
$EndComp
$Comp
L Device:Polyfuse F2
U 1 1 592A398B
P 2750 1800
F 0 "F2" V 2650 1800 50  0000 C CNN
F 1 "200mA" V 2850 1800 50  0000 C CNN
F 2 "LibreSolar:R_1206_3216" H 2800 1600 50  0001 L CNN
F 3 "" H 2750 1800 50  0001 C CNN
F 4 "Bel" H 150 -100 60  0001 C CNN "Manufacturer"
F 5 "0ZCJ0020FF2E" H 150 -100 60  0001 C CNN "PartNumber"
	1    2750 1800
	0    1    1    0   
$EndComp
Wire Wire Line
	2600 1800 2500 1800
Wire Wire Line
	3050 1800 3050 1700
Wire Wire Line
	8400 3600 8000 3600
Wire Wire Line
	8400 3700 8000 3700
Wire Wire Line
	6600 3600 6200 3600
Wire Wire Line
	6600 3700 6200 3700
Text Label 8000 3600 0    50   ~ 0
RJ45_4
Text Label 8000 3700 0    50   ~ 0
RJ45_5
Text Label 6200 3600 0    50   ~ 0
RJ45_4
Text Label 6200 3700 0    50   ~ 0
RJ45_5
$Comp
L Device:Polyfuse F3
U 1 1 5954FB5B
P 8950 5000
F 0 "F3" V 8850 5000 50  0000 C CNN
F 1 "200mA" V 9050 5000 50  0000 C CNN
F 2 "LibreSolar:R_1206_3216" H 9000 4800 50  0001 L CNN
F 3 "" H 8950 5000 50  0001 C CNN
F 4 "Bel" H 1250 0   60  0001 C CNN "Manufacturer"
F 5 "0ZCJ0020FF2E" H 1250 0   60  0001 C CNN "PartNumber"
	1    8950 5000
	0    1    1    0   
$EndComp
$Comp
L Project:D D9
U 1 1 595501B6
P 9400 5000
F 0 "D9" H 9400 5100 50  0000 C CNN
F 1 "1N4148" H 9400 4900 50  0000 C CNN
F 2 "LibreSolar:D_SOD-123" V 9400 5000 50  0001 C CNN
F 3 "" V 9400 5000 50  0000 C CNN
F 4 "Diodes Inc." H 5350 2200 50  0001 C CNN "Manufacturer"
F 5 "1N4148W-7-F" H 5350 2200 50  0001 C CNN "PartNumber"
	1    9400 5000
	-1   0    0    -1  
$EndComp
$Comp
L Project:D D10
U 1 1 595502E8
P 9400 5400
F 0 "D10" H 9400 5500 50  0000 C CNN
F 1 "1N4148" H 9400 5300 50  0000 C CNN
F 2 "LibreSolar:D_SOD-123" V 9400 5400 50  0001 C CNN
F 3 "" V 9400 5400 50  0000 C CNN
F 4 "Diodes Inc." H 5350 2600 50  0001 C CNN "Manufacturer"
F 5 "1N4148W-7-F" H 5350 2600 50  0001 C CNN "PartNumber"
	1    9400 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	9100 5000 9300 5000
Wire Wire Line
	9500 5000 10000 5000
Wire Wire Line
	9500 5400 10000 5400
$Comp
L power:GND #PWR074
U 1 1 595504D4
P 8600 5500
F 0 "#PWR074" H 8600 5250 50  0001 C CNN
F 1 "GND" H 8600 5350 50  0000 C CNN
F 2 "" H 8600 5500 50  0000 C CNN
F 3 "" H 8600 5500 50  0000 C CNN
	1    8600 5500
	-1   0    0    -1  
$EndComp
Wire Wire Line
	9300 5400 8600 5400
Wire Wire Line
	8600 5400 8600 5500
Text Label 10000 5000 2    50   ~ 0
CAN_V+
Text Label 10000 5400 2    50   ~ 0
CAN_GND
Text Notes 2000 5900 0    100  ~ 0
5V signal output
$Comp
L Device:Q_PMOS_GSD Q5
U 1 1 59558C66
P 3600 6400
F 0 "Q5" V 3943 6400 50  0000 C CNN
F 1 "BSS84" V 3852 6400 50  0000 C CNN
F 2 "LibreSolar:SOT-23" H 3800 6500 50  0001 C CNN
F 3 "" H 3600 6400 50  0001 C CNN
F 4 "Fairchild" H 300 100 60  0001 C CNN "Manufacturer"
F 5 "BSS84" H 300 100 60  0001 C CNN "PartNumber"
	1    3600 6400
	0    1    -1   0   
$EndComp
$Comp
L power:+5V #PWR075
U 1 1 5955A4EB
P 3000 6200
F 0 "#PWR075" H 3000 6050 50  0001 C CNN
F 1 "+5V" H 3000 6340 50  0000 C CNN
F 2 "" H 3000 6200 50  0000 C CNN
F 3 "" H 3000 6200 50  0000 C CNN
	1    3000 6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3800 6300 4000 6300
Text HLabel 4000 6300 2    50   Output ~ 0
5V_OUT
$Comp
L Project:R R33
U 1 1 5955A770
P 3200 6500
F 0 "R33" V 3270 6500 50  0000 C CNN
F 1 "100k" V 3125 6500 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 3200 6500 50  0001 C CNN
F 3 "" H 3200 6500 50  0000 C CNN
F 4 "Yageo" H -700 3350 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-07100KL" H -700 3350 50  0001 C CNN "PartNumber"
	1    3200 6500
	-1   0    0    -1  
$EndComp
$Comp
L Project:R R38
U 1 1 5955A862
P 3000 6700
F 0 "R38" V 3070 6700 50  0000 C CNN
F 1 "2.2k" V 2925 6700 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 3000 6700 50  0001 C CNN
F 3 "" H 3000 6700 50  0000 C CNN
F 4 "Yageo" H -900 3550 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-072K2L" H -900 3550 50  0001 C CNN "PartNumber"
	1    3000 6700
	0    1    -1   0   
$EndComp
$Comp
L Project:R R47
U 1 1 5955A8AC
P 2300 7000
F 0 "R47" V 2370 7000 50  0000 C CNN
F 1 "100k" V 2225 7000 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 2300 7000 50  0001 C CNN
F 3 "" H 2300 7000 50  0000 C CNN
F 4 "Yageo" H -1600 3850 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-07100KL" H -1600 3850 50  0001 C CNN "PartNumber"
	1    2300 7000
	0    1    -1   0   
$EndComp
$Comp
L Transistor_BJT:BC817 T4
U 1 1 5955C30A
P 2700 7000
F 0 "T4" H 2900 7075 50  0000 L CNN
F 1 "MMBT3904" H 2900 7000 50  0000 L CNN
F 2 "LibreSolar:SOT-23" H 2900 6925 50  0001 L CIN
F 3 "" H 2700 7000 50  0001 L CNN
F 4 "Diodes Inc." H -50 1600 50  0001 C CNN "Manufacturer"
F 5 "MMBT3904-7-F" H -50 1600 50  0001 C CNN "PartNumber"
	1    2700 7000
	1    0    0    -1  
$EndComp
Wire Wire Line
	3600 6700 3600 6600
Wire Wire Line
	3100 6700 3200 6700
Wire Wire Line
	3200 6400 3200 6300
Wire Wire Line
	3000 6300 3200 6300
Wire Wire Line
	3000 6300 3000 6200
Connection ~ 3200 6300
$Comp
L power:GND #PWR076
U 1 1 5955C9BB
P 2800 7300
F 0 "#PWR076" H 2800 7050 50  0001 C CNN
F 1 "GND" H 2800 7150 50  0000 C CNN
F 2 "" H 2800 7300 50  0000 C CNN
F 3 "" H 2800 7300 50  0000 C CNN
	1    2800 7300
	1    0    0    -1  
$EndComp
Wire Wire Line
	2800 7200 2800 7300
Wire Wire Line
	2500 7000 2400 7000
Wire Wire Line
	2200 7000 2100 7000
Wire Wire Line
	3200 6700 3200 6600
Connection ~ 3200 6700
Wire Wire Line
	2900 6700 2800 6700
Wire Wire Line
	2800 6700 2800 6800
Text HLabel 2100 7000 0    50   Input ~ 0
5V_OUT_EN
Wire Wire Line
	1900 2600 1900 2750
Wire Wire Line
	1900 2950 1900 3000
Wire Wire Line
	2300 2000 2500 2000
Wire Wire Line
	2500 1800 2500 2000
Connection ~ 2500 2000
Wire Wire Line
	8400 5000 8800 5000
Wire Wire Line
	2900 1800 3050 1800
Text HLabel 6700 5000 0    50   Input ~ 0
DCDC_OUT
$Comp
L Device:Q_PMOS_GSD Q6
U 1 1 5A2F2F44
P 1900 4400
F 0 "Q6" V 2243 4400 50  0000 C CNN
F 1 "BSS84" V 2152 4400 50  0000 C CNN
F 2 "LibreSolar:SOT-23" H 2100 4500 50  0001 C CNN
F 3 "" H 1900 4400 50  0001 C CNN
F 4 "Fairchild" H -1400 -1900 60  0001 C CNN "Manufacturer"
F 5 "BSS84" H -1400 -1900 60  0001 C CNN "PartNumber"
	1    1900 4400
	1    0    0    1   
$EndComp
Text HLabel 1500 4400 0    50   Input ~ 0
UEXT_EN
Wire Wire Line
	1500 4400 1600 4400
Wire Wire Line
	2000 4000 2000 4100
Wire Wire Line
	2000 4600 2000 4700
Wire Wire Line
	2000 4700 2200 4700
$Comp
L Project:R R5
U 1 1 5A30156C
P 1800 4100
F 0 "R5" V 1870 4100 50  0000 C CNN
F 1 "100k" V 1725 4100 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 1800 4100 50  0001 C CNN
F 3 "" H 1800 4100 50  0000 C CNN
F 4 "Yageo" H -2100 950 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-07100KL" H -2100 950 50  0001 C CNN "PartNumber"
	1    1800 4100
	0    1    -1   0   
$EndComp
Wire Wire Line
	1900 4100 2000 4100
Connection ~ 2000 4100
Wire Wire Line
	1700 4100 1600 4100
Wire Wire Line
	1600 4100 1600 4400
Connection ~ 1600 4400
Text Notes 1200 7450 0    50   ~ 0
ToDo: check R47 \n--> should be smaller?
$Comp
L Device:Q_PMOS_GSD Q7
U 1 1 5A44CCDC
P 8200 5100
F 0 "Q7" V 8543 5100 50  0000 C CNN
F 1 "BSS84" V 8452 5100 50  0000 C CNN
F 2 "LibreSolar:SOT-23" H 8400 5200 50  0001 C CNN
F 3 "" H 8200 5100 50  0001 C CNN
F 4 "Fairchild" H 4900 -1200 60  0001 C CNN "Manufacturer"
F 5 "BSS84" H 4900 -1200 60  0001 C CNN "PartNumber"
	1    8200 5100
	0    1    -1   0   
$EndComp
$Comp
L Project:R R49
U 1 1 5A44CCF0
P 7300 5200
F 0 "R49" V 7370 5200 50  0000 C CNN
F 1 "56k" V 7225 5200 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 7300 5200 50  0001 C CNN
F 3 "" H 7300 5200 50  0000 C CNN
F 4 "Yageo" H 3400 2050 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-0756KL" H 3400 2050 50  0001 C CNN "PartNumber"
	1    7300 5200
	-1   0    0    -1  
$EndComp
$Comp
L Project:R R30
U 1 1 5A44CCF9
P 7100 5400
F 0 "R30" V 7170 5400 50  0000 C CNN
F 1 "56k" V 7025 5400 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 7100 5400 50  0001 C CNN
F 3 "" H 7100 5400 50  0000 C CNN
F 4 "Yageo" H 3200 2250 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-0756KL" H 3200 2250 50  0001 C CNN "PartNumber"
	1    7100 5400
	0    1    -1   0   
$EndComp
$Comp
L Project:R R48
U 1 1 5A44CD05
P 6400 5700
F 0 "R48" V 6470 5700 50  0000 C CNN
F 1 "10k" V 6325 5700 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 6400 5700 50  0001 C CNN
F 3 "" H 6400 5700 50  0000 C CNN
F 4 "Yageo" H 2500 2550 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-0710KL" H 2500 2550 50  0001 C CNN "PartNumber"
	1    6400 5700
	0    1    -1   0   
$EndComp
$Comp
L Transistor_BJT:BC817 T3
U 1 1 5A44CD0E
P 6800 5700
F 0 "T3" H 7000 5775 50  0000 L CNN
F 1 "MMBT3904" H 7000 5700 50  0000 L CNN
F 2 "LibreSolar:SOT-23" H 7000 5625 50  0001 L CIN
F 3 "" H 6800 5700 50  0001 L CNN
F 4 "Diodes Inc." H 4050 300 50  0001 C CNN "Manufacturer"
F 5 "MMBT3904-7-F" H 4050 300 50  0001 C CNN "PartNumber"
	1    6800 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	8200 5400 8200 5300
Wire Wire Line
	7200 5400 7300 5400
Wire Wire Line
	7300 5100 7300 5000
Wire Wire Line
	6700 5000 7300 5000
Connection ~ 7300 5000
$Comp
L power:GND #PWR049
U 1 1 5A44CD1B
P 6900 6000
F 0 "#PWR049" H 6900 5750 50  0001 C CNN
F 1 "GND" H 6900 5850 50  0000 C CNN
F 2 "" H 6900 6000 50  0000 C CNN
F 3 "" H 6900 6000 50  0000 C CNN
	1    6900 6000
	1    0    0    -1  
$EndComp
Wire Wire Line
	6900 5900 6900 6000
Wire Wire Line
	6600 5700 6500 5700
Wire Wire Line
	6300 5700 6200 5700
Wire Wire Line
	7300 5400 7300 5300
Connection ~ 7300 5400
Wire Wire Line
	7000 5400 6900 5400
Wire Wire Line
	6900 5400 6900 5500
Text HLabel 6200 5700 0    50   Input ~ 0
V_BUS_EN
$Comp
L Device:D_Zener_Small D8
U 1 1 5A44E18E
P 7600 5200
F 0 "D8" V 7575 5150 50  0000 R CNN
F 1 "MM3Z12VT1G" V 7650 5150 50  0000 R CNN
F 2 "LibreSolar:D_SOD-323" V 7600 5200 50  0001 C CNN
F 3 "" V 7600 5200 50  0001 C CNN
F 4 "ON Semiconductor" H 7600 5200 60  0001 C CNN "Manufacturer"
F 5 "MM3Z12VT1G" H 7600 5200 60  0001 C CNN "PartNumber"
	1    7600 5200
	0    -1   1    0   
$EndComp
Wire Wire Line
	7600 5100 7600 5000
Connection ~ 7600 5000
Wire Wire Line
	7600 5300 7600 5400
Connection ~ 7600 5400
$Comp
L power:GND #PWR032
U 1 1 5A4AE153
P 2200 3000
F 0 "#PWR032" H 2200 2750 50  0001 C CNN
F 1 "GND" H 2200 2850 50  0000 C CNN
F 2 "" H 2200 3000 50  0000 C CNN
F 3 "" H 2200 3000 50  0000 C CNN
	1    2200 3000
	-1   0    0    -1  
$EndComp
Wire Wire Line
	2000 2600 2000 2700
Wire Wire Line
	2000 2700 2200 2700
Wire Wire Line
	2200 2700 2200 3000
Text Notes 7300 4600 0    100  ~ 0
Bus power supply
Text Notes 5100 7600 0    50   ~ 0
If not stated otherwise, all MLCC 50V X7R
Wire Wire Line
	3200 6300 3400 6300
Wire Wire Line
	3200 6700 3600 6700
Wire Wire Line
	2500 2000 3000 2000
Wire Wire Line
	2000 4100 2000 4200
Wire Wire Line
	1600 4400 1700 4400
Wire Wire Line
	7300 5000 7600 5000
Wire Wire Line
	7300 5400 7600 5400
Wire Wire Line
	7600 5000 8000 5000
Wire Wire Line
	7600 5400 8200 5400
$EndSCHEMATC
