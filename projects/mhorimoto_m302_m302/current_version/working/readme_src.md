M302 Arduino UECS SIMPLE NODE Shield 汎用簡易観測ノード
======================================================

# 概要

Arduino UNOのシールドとして UECS で農業環境計測で使用しやすい
センサ類の接続に特化した基板。


## 初版 (1.00)
  commit 2f4df36819d791f5551f218545c303c0058bd9ba
  * I2CとLANとIM920の接続インタフェースを持ったもの。

## 1.10
  * I2CとLANとADC入力とIM920の接続インタフェースを持ったもの。
  * 製作ワークショップなどで使用する用途も考慮。

# Interface仕様

 I2Cは5V仕様。IM920を接続するためだけにレベルコンバータを使用。

## I2C

 便宜的にシルク面にJ1〜J4は名前を記しているが、いずれもI2Cなので、以下のピン配置で同じく使用できる。なお、必要に応じてセンサ側でプルアップをするように。

 | PIN | 意味 |
 |-----|------|
 |  1  | GND  |
 |  2  | +5V  |
 |  3  | SDA  |
 |  4  | SCL  |

 J5はELT社のCO2センサD-400用のインタフェースである。基本的にI2Cであるが、リセット端子を個別に用意している。

 | PIN | 意味 |
 |-----|------|
 |  1  | +5V  |
 |  2  | N/C  |
 |  3  | GND  |
 |  4  | SDA  |
 |  5  | N/C  |
 |  6  | RST  |
 |  7  | SCL  |

## アナログ入力

Arduino UNOの10bits A/Dコンバータ(以降、ADC)を手軽に使用するために4chのコネクタをJ9(ANALOG-IN)として用意している。

 | PIN | 意味 |
 |-----|------|
 |  1  | Ch1  |
 |  2  | GND  |
 |  3  | Ch2  |
 |  4  | GND  |
 |  5  | Ch3  |
 |  6  | GND  |
 |  7  | Ch4  |
 |  8  | GND  |

## IM920接続インタフェース

920MHz伝送用無線通信モジュールIM920を接続するためのシリアルインタフェースを用意している。IM920が3.3V仕様なのでレベルコンバータを実装する。(IM920を使用しない場合にはレベルコンバータは不要)

 | PIN |   意味   |
 |-----|----------|
 |  1  | RESET    |
 |  2  | BUSY     |
 |  3  | GND      |
 |  4  | +3.3V    |
 |  5  | IM920 TX |
 |  6  | IM920 RX |

## LANインタフェース

W5500で一般的に販売されているものが接続出来るように用意している。

 | PIN | 意味  |
 |-----|-------|
 |  1  | +3.3V |
 |  2  | +5V   |
 |  3  | MISO  |
 |  4  | GND   |
 |  5  | MOSI  |
 |  6  | RESET |
 |  7  | SS    |
 |  8  | N/C   |
 |  9  | SCLK  |
 | 10  | N/C   |

# プログラム

スマ農塾に使用したプログラムは別途githubに登録してある。

''git@github.com:mhorimoto/smanou01.git''

それ以外のプログラムは、以下の通り。

## TK01

スマ農塾向けのサンプルプログラムで前述のものよりも古いバージョン

## TPM302K

M302Kの基板の試験をおこなうための試験プログラム。

## TPM302K-NIC

M302KのNIC(W5500)を動作させる試験プログラム
